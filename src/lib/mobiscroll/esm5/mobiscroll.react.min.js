/* eslint-disable */
import {
  createContext as e,
  createElement as t,
  Component as n,
  Fragment as s,
  PureComponent as a,
} from 'react';
import { createPortal as i } from 'react-dom';
var o = function (e, t) {
  return (
    (o =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array &&
        function (e, t) {
          e.__proto__ = t;
        }) ||
      function (e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
      }),
    o(e, t)
  );
};
function r(e, t) {
  function n() {
    this.constructor = e;
  }
  o(e, t), (e.prototype = null === t ? Object.create(t) : ((n.prototype = t.prototype), new n()));
}
var l = function () {
  return (
    (l =
      Object.assign ||
      function (e) {
        for (var t, n = 1, s = arguments.length; n < s; n++)
          for (var a in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
        return e;
      }),
    l.apply(this, arguments)
  );
};
function c(e, t) {
  var n = {};
  for (var s in e) Object.prototype.hasOwnProperty.call(e, s) && t.indexOf(s) < 0 && (n[s] = e[s]);
  if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
    var a = 0;
    for (s = Object.getOwnPropertySymbols(e); a < s.length; a++)
      t.indexOf(s[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, s[a]) && (n[s[a]] = e[s[a]]);
  }
  return n;
}
var d,
  h,
  u,
  m,
  _ = /*#__PURE__*/ (function () {
    function e() {
      (this.nr = 0), (this.keys = 1), (this.subscribers = {});
    }
    return (
      (e.prototype.subscribe = function (e) {
        var t = this.keys++;
        return (this.subscribers[t] = e), this.nr++, t;
      }),
      (e.prototype.unsubscribe = function (e) {
        this.nr--, delete this.subscribers[e];
      }),
      (e.prototype.next = function (e) {
        var t = this.subscribers;
        for (var n in t) t.hasOwnProperty(n) && t[n](e);
      }),
      e
    );
  })(),
  v = [],
  p = !1,
  f = 'undefined' != typeof window,
  g = f && window.matchMedia && window.matchMedia('(prefers-color-scheme:dark)'),
  y = f ? navigator.userAgent : '',
  b = f ? navigator.platform : '',
  D = f ? navigator.maxTouchPoints : 0,
  C = y && y.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),
  k = y && /Safari/.test(y);
/Android/i.test(C)
  ? ((d = 'android'),
    (h = y.match(/Android\s+([\d.]+)/i)),
    (p = !0),
    h && (v = h[0].replace('Android ', '').split('.')))
  : /iPhone|iPad|iPod/i.test(C) || /iPhone|iPad|iPod/i.test(b) || ('MacIntel' === b && D > 1)
  ? ((d = 'ios'),
    (h = y.match(/OS\s+([\d_]+)/i)),
    (p = !0),
    h && (v = h[0].replace(/_/g, '.').replace('OS ', '').split('.')))
  : /Windows Phone/i.test(C)
  ? ((d = 'wp'), (p = !0))
  : /Windows|MSIE/i.test(C) && (d = 'windows'),
  (u = +v[0]),
  (m = +v[1]);
var x = {},
  T = {},
  w = {},
  S = {},
  E = new _();
function M() {
  var e = '',
    t = '',
    n = '';
  for (var s in ((t = 'android' === d ? 'material' : 'wp' === d || 'windows' === d ? 'windows' : 'ios'), w)) {
    if (w[s].baseTheme === t && !1 !== w[s].auto && s !== t + '-dark') {
      e = s;
      break;
    }
    s === t ? (e = s) : n || (n = s);
  }
  return e || n;
}
function L(e) {
  for (var t in e) e.hasOwnProperty(t) && (x[t] = e[t]);
  E.next(x);
}
function N(e, t, n) {
  var s = w[t];
  (w[e] = l({}, s, { auto: n, baseTheme: t })), (S.theme = M());
}
var H = { majorVersion: u, minorVersion: m, name: d },
  I =
    '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"/></svg>',
  O =
    '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"/></svg>',
  z =
    '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"/></svg>',
  Y =
    '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"/></svg>',
  P =
    '<svg xmlns="http://www.w3.org/2000/svg" height="17" viewBox="0 0 17 17" width="17"><path d="M8.5 0a8.5 8.5 0 110 17 8.5 8.5 0 010-17zm3.364 5.005a.7.7 0 00-.99 0l-2.44 2.44-2.439-2.44-.087-.074a.7.7 0 00-.903 1.064l2.44 2.439-2.44 2.44-.074.087a.7.7 0 001.064.903l2.439-2.441 2.44 2.441.087.074a.7.7 0 00.903-1.064l-2.441-2.44 2.441-2.439.074-.087a.7.7 0 00-.074-.903z" fill="currentColor" fill-rule="evenodd"/></svg>',
  R = { clearIcon: P, labelStyle: 'inline' };
(w.ios = {
  Calendar: { nextIconH: z, nextIconV: O, prevIconH: I, prevIconV: Y },
  Checkbox: { position: 'end' },
  Datepicker: { clearIcon: P, display: 'bottom' },
  Dropdown: R,
  Eventcalendar: { chevronIconDown: O, nextIconH: z, nextIconV: O, prevIconH: I, prevIconV: Y },
  Input: R,
  Radio: { position: 'end' },
  Scroller: { display: 'bottom', itemHeight: 34, minWheelWidth: 55, rows: 5, scroll3d: !0 },
  SegmentedGroup: { drag: !0 },
  Select: { clearIcon: P },
  Textarea: R,
}),
  N('ios-dark', 'ios'),
  (S.theme = M());
var F = {
    setText: 'Aceptar',
    cancelText: 'Cancelar',
    clearText: 'Borrar',
    closeText: 'Cerrar',
    selectedText: '{count} seleccionado',
    selectedPluralText: '{count} seleccionados',
    dateFormat: 'DD/MM/YYYY',
    dateFormatLong: 'DDD, MMM. D. YYYY',
    dateWheelFormat: '|DDD D MMM|',
    dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
    dayNamesShort: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sá'],
    dayNamesMin: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
    fromText: 'Iniciar',
    monthNames: [
      'Enero',
      'Febrero',
      'Marzo',
      'Abril',
      'Mayo',
      'Junio',
      'Julio',
      'Agosto',
      'Septiembre',
      'Octubre',
      'Noviembre',
      'Diciembre',
    ],
    monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
    timeFormat: 'H:mm',
    toText: 'Final',
    nowText: 'Ahora',
    pmText: 'pm',
    amText: 'am',
    todayText: 'Hoy',
    firstDay: 1,
    dateText: 'Fecha',
    timeText: 'Tiempo',
    allDayText: 'Todo el día',
    noEventsText: 'No hay eventos',
    eventText: 'Evento',
    eventsText: 'Eventos',
    moreEventsText: '{count} más',
    weekText: 'Semana {count}',
    rangeStartLabel: 'Iniciar',
    rangeEndLabel: 'Final',
    rangeStartHelp: 'Seleccionar',
    rangeEndHelp: 'Seleccionar',
    filterEmptyText: 'Sin resultados',
    filterPlaceholderText: 'Buscar',
  },
  U = {
    setText: 'встановити',
    cancelText: 'відміна',
    clearText: 'очистити',
    closeText: 'Закрити',
    selectedText: '{count} вибрані',
    dateFormat: 'DD.MM.YYYY',
    dateFormatLong: 'DDD, D MMM. YYYY',
    dateWheelFormat: '|DDD D MMM.|',
    dayNames: ['неділя', 'понеділок', 'вівторок', 'середа', 'четвер', 'п’ятниця', 'субота'],
    dayNamesShort: ['нед', 'пнд', 'вів', 'срд', 'чтв', 'птн', 'сбт'],
    dayNamesMin: ['Нд', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
    fromText: 'від',
    monthNames: [
      'Січень',
      'Лютий',
      'Березень',
      'Квітень',
      'Травень',
      'Червень',
      'Липень',
      'Серпень',
      'Вересень',
      'Жовтень',
      'Листопад',
      'Грудень',
    ],
    monthNamesShort: ['Січ', 'Лют', 'Бер', 'Кві', 'Тра', 'Чер', 'Лип', 'Сер', 'Вер', 'Жов', 'Лис', 'Гру'],
    timeFormat: 'H:mm',
    toText: 'кінець',
    nowText: 'Зараз',
    pmText: 'pm',
    amText: 'am',
    firstDay: 1,
    dateText: 'дата',
    timeText: 'Час',
    todayText: 'Сьогодні',
    prevMonthText: 'Попередній місяць',
    nextMonthText: 'Наступного місяця',
    prevYearText: 'Попередній рік',
    nextYearText: 'Наступного року',
    eventText: 'подія',
    eventsText: 'події',
    allDayText: 'Увесь день',
    noEventsText: 'Жодної події',
    moreEventsText: 'та ще {count}',
    weekText: '{count} тиждень',
    rangeStartLabel: 'від',
    rangeEndLabel: 'кінець',
    rangeEndHelp: 'Обрати',
    rangeStartHelp: 'Обрати',
    filterEmptyText: 'Ніякого результату',
    filterPlaceholderText: 'Пошук',
  };
function W(e) {
  return e < -1e-7 ? Math.ceil(e - 1e-7) : Math.floor(e + 1e-7);
}
function A(e, t, n) {
  var s,
    a,
    i,
    o,
    r = [0, 0, 0];
  return (
    (s =
      e > 1582 || (1582 === e && t > 10) || (1582 === e && 10 === t && n > 14)
        ? W((1461 * (e + 4800 + W((t - 14) / 12))) / 4) +
          W((367 * (t - 2 - 12 * W((t - 14) / 12))) / 12) -
          W((3 * W((e + 4900 + W((t - 14) / 12)) / 100)) / 4) +
          n -
          32075
        : 367 * e - W((7 * (e + 5001 + W((t - 9) / 7))) / 4) + W((275 * t) / 9) + n + 1729777),
    (o = W(((a = s - 1948440 + 10632) - 1) / 10631)),
    (i =
      W((10985 - (a = a - 10631 * o + 354)) / 5316) * W((50 * a) / 17719) +
      W(a / 5670) * W((43 * a) / 15238)),
    (a = a - W((30 - i) / 15) * W((17719 * i) / 50) - W(i / 16) * W((15238 * i) / 43) + 29),
    (t = W((24 * a) / 709)),
    (n = a - W((709 * t) / 24)),
    (e = 30 * o + i - 30),
    (r[2] = n),
    (r[1] = t),
    (r[0] = e),
    r
  );
}
var V = {
    getYear: function (e) {
      return A(e.getFullYear(), e.getMonth() + 1, e.getDate())[0];
    },
    getMonth: function (e) {
      return --A(e.getFullYear(), e.getMonth() + 1, e.getDate())[1];
    },
    getDay: function (e) {
      return A(e.getFullYear(), e.getMonth() + 1, e.getDate())[2];
    },
    getDate: function (e, t, n, s, a, i, o) {
      t < 0 && ((e += Math.floor(t / 12)), (t = t % 12 ? 12 + (t % 12) : 0)),
        t > 11 && ((e += Math.floor(t / 12)), (t %= 12));
      var r = (function (e, t, n) {
        var s,
          a,
          i,
          o,
          r,
          l = new Array(3),
          c = W((11 * e + 3) / 30) + 354 * e + 30 * t - W((t - 1) / 2) + n + 1948440 - 385;
        return (
          c > 2299160
            ? ((i = W((4 * (s = c + 68569)) / 146097)),
              (s -= W((146097 * i + 3) / 4)),
              (o = W((4e3 * (s + 1)) / 1461001)),
              (s = s - W((1461 * o) / 4) + 31),
              (a = W((80 * s) / 2447)),
              (n = s - W((2447 * a) / 80)),
              (t = a + 2 - 12 * (s = W(a / 11))),
              (e = 100 * (i - 49) + o + s))
            : ((r = W(((a = c + 1402) - 1) / 1461)),
              (i = W(((s = a - 1461 * r) - 1) / 365) - W(s / 1461)),
              (a = W((80 * (o = s - 365 * i + 30)) / 2447)),
              (n = o - W((2447 * a) / 80)),
              (t = a + 2 - 12 * (o = W(a / 11))),
              (e = 4 * r + i + o - 4716)),
          (l[2] = n),
          (l[1] = t),
          (l[0] = e),
          l
        );
      })(e, +t + 1, n);
      return new Date(r[0], r[1] - 1, r[2], s || 0, a || 0, i || 0, o || 0);
    },
    getMaxDayOfMonth: function (e, t) {
      t < 0 && ((e += Math.floor(t / 12)), (t = t % 12 ? 12 + (t % 12) : 0)),
        t > 11 && ((e += Math.floor(t / 12)), (t %= 12));
      return (
        [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29][t] + (11 === t && (11 * e + 14) % 30 < 11 ? 1 : 0)
      );
    },
  },
  X = te(3),
  B = te(4),
  K = te(7);
function j(e, t, n) {
  return Math.max(t, Math.min(e, n));
}
function q(e) {
  return Array.isArray(e);
}
function G(e) {
  return e - parseFloat(e) >= 0;
}
function J(e) {
  return 'number' == typeof e;
}
function Z(e) {
  return 'string' == typeof e;
}
function $(e) {
  return null == e || '' === e;
}
function Q(e) {
  return void 0 === e;
}
function ee(e) {
  return 'object' == typeof e;
}
function te(e) {
  return Array.apply(0, Array(Math.max(0, e)));
}
function ne(e) {
  return undefined !== e ? e + (G(e) ? 'px' : '') : '';
}
function se() {}
function ae(e, t) {
  void 0 === t && (t = 2);
  for (var n = e + ''; n.length < t; ) n = '0' + n;
  return n;
}
function ie(e) {
  return Math.round(e);
}
function oe(e) {
  return Math.floor(e);
}
function re(e, t) {
  var n, s;
  return (
    void 0 === t && (t = 100),
    function () {
      for (var a = [], i = 0; i < arguments.length; i++) a[i] = arguments[i];
      var o = +new Date();
      n && o < n + t
        ? (clearTimeout(s),
          (s = setTimeout(function () {
            (n = o), e.apply(void 0, a);
          }, t)))
        : ((n = o), e.apply(void 0, a));
    }
  );
}
function le(e, t) {
  var n;
  return (
    void 0 === t && (t = 100),
    function () {
      for (var s = [], a = 0; a < arguments.length; a++) s[a] = arguments[a];
      clearTimeout(n),
        (n = setTimeout(function () {
          e.apply(void 0, s);
        }, t));
    }
  );
}
function ce(e, t) {
  e._cdr ? setTimeout(t) : t();
}
function de(e, t) {
  return (function (e, t, n) {
    for (var s = e.length, a = 0; a < s; a++) {
      var i = e[a];
      if (t(i, a)) return n ? a : i;
    }
    return n ? -1 : undefined;
  })(e, t);
}
function he(e) {
  var t = [];
  if (e)
    for (var n = 0, s = Object.keys(e); n < s.length; n++) {
      var a = s[n];
      t.push(e[a]);
    }
  return t;
}
te(24);
var ue = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
  me = [31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 29];
function _e(e, t, n) {
  var s,
    a = e - 1600,
    i = t - 1,
    o = n - 1,
    r = 365 * a + oe((a + 3) / 4) - oe((a + 99) / 100) + oe((a + 399) / 400);
  for (s = 0; s < i; ++s) r += ue[s];
  i > 1 && ((a % 4 == 0 && a % 100 != 0) || a % 400 == 0) && ++r;
  var l = (r += o) - 79,
    c = 979 + 33 * oe(l / 12053) + 4 * oe((l %= 12053) / 1461);
  for (
    (l %= 1461) >= 366 && ((c += oe((l - 1) / 365)), (l = (l - 1) % 365)), s = 0;
    s < 11 && l >= me[s];
    ++s
  )
    l -= me[s];
  return [c, s + 1, l + 1];
}
var ve = {
    getYear: function (e) {
      return _e(e.getFullYear(), e.getMonth() + 1, e.getDate())[0];
    },
    getMonth: function (e) {
      return --_e(e.getFullYear(), e.getMonth() + 1, e.getDate())[1];
    },
    getDay: function (e) {
      return _e(e.getFullYear(), e.getMonth() + 1, e.getDate())[2];
    },
    getDate: function (e, t, n, s, a, i, o) {
      t < 0 && ((e += oe(t / 12)), (t = t % 12 ? 12 + (t % 12) : 0)),
        t > 11 && ((e += oe(t / 12)), (t %= 12));
      var r = (function (e, t, n) {
        var s,
          a = e - 979,
          i = t - 1,
          o = n - 1,
          r = 365 * a + 8 * oe(a / 33) + oe(((a % 33) + 3) / 4);
        for (s = 0; s < i; ++s) r += me[s];
        var l = (r += o) + 79,
          c = 1600 + 400 * oe(l / 146097),
          d = !0;
        for (
          (l %= 146097) >= 36525 && ((c += 100 * oe(--l / 36524)), (l %= 36524) >= 365 ? l++ : (d = !1)),
            c += 4 * oe(l / 1461),
            (l %= 1461) >= 366 && ((d = !1), (c += oe(--l / 365)), (l %= 365)),
            s = 0;
          l >= ue[s] + (1 === s && d ? 1 : 0);
          s++
        )
          l -= ue[s] + (1 === s && d ? 1 : 0);
        return [c, s + 1, l + 1];
      })(e, +t + 1, n);
      return new Date(r[0], r[1] - 1, r[2], s || 0, a || 0, i || 0, o || 0);
    },
    getMaxDayOfMonth: function (e, t) {
      var n,
        s,
        a,
        i = 31;
      for (
        t < 0 && ((e += oe(t / 12)), (t = t % 12 ? 12 + (t % 12) : 0)),
          t > 11 && ((e += oe(t / 12)), (t %= 12));
        !1 ==
        ((s = t + 1),
        (a = i),
        !(
          (n = e) < 0 ||
          n > 32767 ||
          s < 1 ||
          s > 12 ||
          a < 1 ||
          a > me[s - 1] + (12 === s && ((n - 979) % 33) % 4 == 0 ? 1 : 0)
        ));

      )
        i--;
      return i;
    },
  },
  pe = {},
  fe = { en: pe, es: F, ua: U },
  ge = e({}),
  ye = /*#__PURE__*/ (function (e) {
    function n() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(n, e),
      (n.prototype.render = function () {
        return t(ge.Provider, { value: this.props.options }, this.props.children);
      }),
      n
    );
  })(n),
  be = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._setEl = function (e) {
          t._el = e ? e._el || e : null;
        }),
        t
      );
    }
    return (
      r(t, e),
      Object.defineProperty(t.prototype, 'value', {
        get: function () {
          return this.__value;
        },
        set: function (e) {
          this.__value = e;
        },
        enumerable: !0,
        configurable: !0,
      }),
      (t.prototype.componentDidMount = function () {
        this.__init(), this._init(), this._mounted(), this._updated();
      }),
      (t.prototype.componentDidUpdate = function () {
        this._updated();
      }),
      (t.prototype.componentWillUnmount = function () {
        this._destroy(), this.__destroy();
      }),
      (t.prototype.render = function () {
        return (this._opt = this.context), this._willUpdate(), this._template(this.s, this.state);
      }),
      (t.prototype._safeHtml = function (e) {
        return { __html: e };
      }),
      (t.prototype._init = function () {}),
      (t.prototype.__init = function () {}),
      (t.prototype._emit = function (e, t) {}),
      (t.prototype._mounted = function () {}),
      (t.prototype._updated = function () {}),
      (t.prototype._destroy = function () {}),
      (t.prototype.__destroy = function () {}),
      (t.prototype._willUpdate = function () {}),
      (t.prototype._template = function (e, t) {}),
      (t.contextType = ge),
      t
    );
  })(a),
  De = f ? document : undefined,
  Ce = f ? window : undefined,
  ke = ['Webkit', 'Moz'],
  xe = De && De.createElement('div').style,
  Te = De && De.createElement('canvas'),
  we = Te && Te.getContext && Te.getContext('2d'),
  Se = Ce && Ce.CSS,
  Ee = Se && Se.supports,
  Me = {},
  Le =
    (Ce && Ce.requestAnimationFrame) ||
    function (e) {
      return setTimeout(e, 20);
    },
  Ne =
    (Ce && Ce.cancelAnimationFrame) ||
    function (e) {
      clearTimeout(e);
    },
  He = xe && undefined !== xe.animationName,
  Ie = 'ios' === d && !k,
  Oe = Ie && Ce && Ce.webkit && Ce.webkit.messageHandlers,
  ze = (xe && undefined === xe.touchAction) || (Ie && !Oe),
  Ye = (function () {
    if (!xe || undefined !== xe.transform) return '';
    for (var e = 0, t = ke; e < t.length; e++) {
      var n = t[e];
      if (undefined !== xe[n + 'Transform']) return n;
    }
    return '';
  })(),
  Pe = Ye ? '-' + Ye.toLowerCase() + '-' : '';
Ee && Ee('(transform-style: preserve-3d)');
var Re = Ee && (Ee('position', 'sticky') || Ee('position', '-webkit-sticky'));
function Fe(e, t, n, s) {
  e && e.addEventListener(t, n, s);
}
function Ue(e, t, n, s) {
  e && e.removeEventListener(t, n, s);
}
function We(e) {
  if (f) return e && e.ownerDocument ? e.ownerDocument : De;
}
function Ae(e, t) {
  return parseFloat(getComputedStyle(e)[t] || '0');
}
function Ve(e) {
  return undefined !== e.scrollLeft ? e.scrollLeft : e.pageXOffset;
}
function Xe(e) {
  return undefined !== e.scrollTop ? e.scrollTop : e.pageYOffset;
}
function Be(e) {
  if (f) return e && e.ownerDocument && e.ownerDocument.defaultView ? e.ownerDocument.defaultView : Ce;
}
function Ke(e, t) {
  var n = getComputedStyle(e),
    s = (Ye ? n[Ye + 'Transform'] : n.transform).split(')')[0].split(', ');
  return +(t ? s[13] || s[5] : s[12] || s[4]) || 0;
}
function je(e) {
  if (Me[e]) return Me[e];
  if (!we) return '#fff';
  (we.fillStyle = e), we.fillRect(0, 0, 1, 1);
  var t = we.getImageData(0, 0, 1, 1),
    n = t ? t.data : [0, 0, 0],
    s = 0.299 * +n[0] + 0.587 * +n[1] + 0.114 * +n[2] < 130 ? '#fff' : '#000';
  return (Me[e] = s), s;
}
function qe(e, t, n, s, a, i, o) {
  var r,
    l,
    c = Math.min(1, (+new Date() - t) / 468),
    d = 0.5 * (1 - Math.cos(Math.PI * c));
  undefined !== a && ((r = ie(n + (a - n) * d)), (e.scrollLeft = r)),
    undefined !== i && ((l = ie(s + (i - s) * d)), (e.scrollTop = l)),
    r !== a || l !== i
      ? Le(function () {
          qe(e, t, n, s, a, i, o);
        })
      : o && o();
}
function Ge(e, t, n, s, a, i) {
  undefined !== t && (t = Math.max(0, ie(t))),
    undefined !== n && (n = Math.max(0, ie(n))),
    a && undefined !== t && (t = -t),
    s
      ? qe(e, +new Date(), e.scrollLeft, e.scrollTop, t, n, i)
      : (undefined !== t && (e.scrollLeft = t), undefined !== n && (e.scrollTop = n), i && i());
}
function Je(e) {
  var t = e.getBoundingClientRect(),
    n = { left: t.left, top: t.top },
    s = Be(e);
  return undefined !== s && ((n.top += Xe(s)), (n.left += Ve(s))), n;
}
function Ze(e, t) {
  var n = e && (e.matches || e.msMatchesSelector);
  return n && n.call(e, t);
}
function $e(e, t) {
  for (var n = 0; n < e.length; n++) t(e[n], n);
}
var Qe,
  et = 0,
  tt = { large: 992, medium: 768, small: 576, xlarge: 1200, xsmall: 0 };
g &&
  ((Qe = g.matches),
  g.addListener(function (e) {
    (Qe = e.matches), E.next();
  }));
var nt,
  st,
  at = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (t.s = {}), (t.state = {}), (t._mbsc = !0), (t._v = { version: '5.18.2' }), (t._uid = ++et), t;
    }
    return (
      r(t, e),
      Object.defineProperty(t.prototype, 'nativeElement', {
        get: function () {
          return this._el;
        },
        enumerable: !0,
        configurable: !0,
      }),
      (t.prototype.destroy = function () {}),
      (t.prototype._hook = function (e, t) {
        var n = this.s;
        if (((t.inst = this), (t.type = e), this._emit(e, t), n[e])) return n[e](t, this);
      }),
      (t.prototype.__init = function () {
        var e = this;
        if (this.constructor.defaults) {
          this._optChange = E.subscribe(function () {
            e.forceUpdate();
          });
          var t = this.props.modules;
          if (t)
            for (var n = 0, s = t; n < s.length; n++) {
              var a = s[n];
              a.init && a.init(this);
            }
        }
        this._hook('onInit', {});
      }),
      (t.prototype.__destroy = function () {
        undefined !== this._optChange && E.unsubscribe(this._optChange), this._hook('onDestroy', {});
      }),
      (t.prototype._render = function (e, t) {}),
      (t.prototype._willUpdate = function () {
        this._merge(), this._render(this.s, this.state);
      }),
      (t.prototype._resp = function (e) {
        var t,
          n = e.responsive,
          s = -1,
          a = this.state.width;
        if ((undefined === a && (a = Ce ? Ce.innerWidth : 375), n && a))
          for (var i in n)
            if (n.hasOwnProperty(i)) {
              var o = n[i],
                r = o.breakpoint || tt[i];
              a >= r && r > s && ((t = o), (s = r));
            }
        return t;
      }),
      (t.prototype._merge = function () {
        var e,
          t,
          n,
          s = this.constructor,
          a = s.defaults,
          i = this._opt || {},
          o = {};
        if (((this._prevS = this.s || {}), a)) {
          for (var r in this.props) undefined !== this.props[r] && (o[r] = this.props[r]);
          var c = o.locale || i.locale || x.locale || {},
            h = o.calendarSystem || c.calendarSystem || i.calendarSystem || x.calendarSystem,
            u = o.theme || i.theme || x.theme,
            m = o.themeVariant || i.themeVariant || x.themeVariant;
          ('auto' !== u && u) || (u = S.theme),
            ('dark' !== m && (!Qe || ('auto' !== m && m))) || !w[u + '-dark'] || (u += '-dark'),
            (o.theme = u);
          var _ = (n = w[u]) && w[u][s._name];
          t = l({}, a, _, c, x, i, h, o);
          var v = this._resp(t);
          (this._respProps = v), v && (t = l({}, t, v));
        } else (t = l({}, this.props)), (n = w[t.theme]);
        (e = n && n.baseTheme),
          (t.baseTheme = e),
          (this.s = t),
          (this._className = t.cssClass || t.class || t.className || ''),
          (this._rtl = ' mbsc-' + (t.rtl ? 'rtl' : 'ltr')),
          (this._theme = ' mbsc-' + t.theme + (e ? ' mbsc-' + e : '')),
          (this._touchUi = 'auto' === t.touchUi || undefined === t.touchUi ? p : t.touchUi),
          (this._hb = 'ios' !== d || ('ios' !== t.theme && 'ios' !== e) ? '' : ' mbsc-hb');
      }),
      (t.defaults = undefined),
      (t._name = ''),
      t
    );
  })(be),
  it = 'click',
  ot = 'mousedown',
  rt = 'mouseup',
  lt = 'mouseenter',
  ct = 0;
function dt(e, t, n) {
  var s = (n ? 'page' : 'client') + t;
  return e.targetTouches && e.targetTouches[0]
    ? e.targetTouches[0][s]
    : e.changedTouches && e.changedTouches[0]
    ? e.changedTouches[0][s]
    : e[s];
}
function ht(e, t) {
  if (!t.mbscClick) {
    var n = (e.originalEvent || e).changedTouches[0],
      s = document.createEvent('MouseEvents');
    s.initMouseEvent(
      'click',
      !0,
      !0,
      window,
      1,
      n.screenX,
      n.screenY,
      n.clientX,
      n.clientY,
      !1,
      !1,
      !1,
      !1,
      0,
      null,
    ),
      (s.isMbscTap = !0),
      (s.isIonicTap = !0),
      (nt = !0),
      (t.mbscChange = !0),
      (t.mbscClick = !0),
      t.dispatchEvent(s),
      (nt = !1),
      ct++,
      setTimeout(function () {
        ct--;
      }, 500),
      setTimeout(function () {
        delete t.mbscClick;
      });
  }
}
function ut(e) {
  !ct ||
    nt ||
    e.isMbscTap ||
    ('TEXTAREA' === e.target.nodeName && e.type === ot) ||
    (e.stopPropagation(), e.preventDefault());
}
function mt(e) {
  Be(e.target).__mbscFocusVisible = !1;
}
function _t(e) {
  Be(e.target).__mbscFocusVisible = !0;
}
function vt(e) {
  We(e.target).__mbscMoveObs.next(e);
}
function pt(e) {
  e &&
    setTimeout(function () {
      (e.style.opacity = '0'),
        (e.style.transition = 'opacity linear .4s'),
        setTimeout(function () {
          e && e.parentNode && e.parentNode.removeChild(e);
        }, 400);
    }, 200);
}
function ft(e, t) {
  var n,
    s,
    a,
    i,
    o,
    r,
    l,
    c,
    d,
    h,
    u,
    m,
    v,
    p,
    f,
    g,
    y = {},
    b = Be(e),
    D = We(e);
  function C(e) {
    if ('touchstart' === e.type) st = !0;
    else if (st) return e.type === ot && (st = !1), !0;
    return !1;
  }
  function k() {
    l &&
      (pt(i),
      (i = (function (e, t, n) {
        var s = e.getBoundingClientRect(),
          a = t - s.left,
          i = n - s.top,
          o = Math.max(a, e.offsetWidth - a),
          r = Math.max(i, e.offsetHeight - i),
          l = 2 * Math.sqrt(Math.pow(o, 2) + Math.pow(r, 2)),
          c = De.createElement('span');
        c.classList.add('mbsc-ripple');
        var d = c.style;
        return (
          (d.backgroundColor = getComputedStyle(e).color),
          (d.width = l + 'px'),
          (d.height = l + 'px'),
          (d.top = n - s.top - l / 2 + 'px'),
          (d.left = t - s.left - l / 2 + 'px'),
          e.appendChild(c),
          setTimeout(function () {
            (d.opacity = '.2'),
              (d.transform = 'scale(1)'),
              (d.transition = 'opacity linear .1s, transform cubic-bezier(0, 0, 0.2, 1) .4s');
          }, 30),
          c
        );
      })(e, m, v))),
      t.onPress(),
      (n = !0);
  }
  function x(e, i) {
    (s = !1),
      pt(e),
      clearTimeout(a),
      (a = setTimeout(function () {
        n && (t.onRelease(), (n = !1));
      }, i));
  }
  function T(e) {
    if (!C(e) && (e.type !== ot || (0 === e.button && !e.ctrlKey))) {
      if (
        ((h = dt(e, 'X')),
        (u = dt(e, 'Y')),
        (m = h),
        (v = u),
        (n = !1),
        (s = !1),
        (c = !1),
        (g = !0),
        (y.moved = c),
        (y.startX = h),
        (y.startY = u),
        (y.endX = m),
        (y.endY = v),
        (y.deltaX = 0),
        (y.deltaY = 0),
        (y.domEvent = e),
        (y.isTouch = st),
        pt(i),
        t.onStart)
      ) {
        var o = t.onStart(y);
        l = o && o.ripple;
      }
      t.onPress && ((s = !0), clearTimeout(a), (a = setTimeout(k, 50))),
        e.type === ot && (Fe(D, 'mousemove', w), Fe(D, rt, S)),
        Fe(D, 'contextmenu', z);
    }
  }
  function w(e) {
    g &&
      ((m = dt(e, 'X')),
      (v = dt(e, 'Y')),
      (p = m - h),
      (f = v - u),
      !c && (Math.abs(p) > 9 || Math.abs(f) > 9) && ((c = !0), x(i)),
      (y.moved = c),
      (y.endX = m),
      (y.endY = v),
      (y.deltaX = p),
      (y.deltaY = f),
      (y.domEvent = e),
      (y.isTouch = 'touchmove' === e.type),
      t.onMove && t.onMove(y));
  }
  function S(e) {
    g &&
      (s && !n && (clearTimeout(a), k()),
      (y.domEvent = e),
      (y.isTouch = 'touchend' === e.type),
      t.onEnd && t.onEnd(y),
      x(i, 75),
      (g = !1),
      'touchend' === e.type && t.click && ze && !c && ht(e, e.target),
      e.type === rt && (Ue(D, 'mousemove', w), Ue(D, rt, S)),
      Ue(D, 'contextmenu', z));
  }
  function E(e) {
    C(e) || ((r = !0), t.onHoverIn(e));
  }
  function M(e) {
    r && t.onHoverOut(e), (r = !1);
  }
  function L(e) {
    t.onKeyDown(e);
  }
  function N(e) {
    (t.keepFocus || b.__mbscFocusVisible) && ((o = !0), t.onFocus(e));
  }
  function H(e) {
    o && t.onBlur(e), (o = !1);
  }
  function I(e) {
    t.onChange(e);
  }
  function O(e) {
    (y.domEvent = e), st || t.onDoubleClick(y);
  }
  function z(e) {
    st && e.preventDefault();
  }
  if (
    (Fe(e, 'touchstart', T, { passive: !0 }), Fe(e, ot, T), Fe(e, 'touchend', S), Fe(e, 'touchcancel', S), D)
  ) {
    var Y = D.__mbscMoveCount || 0,
      P = D.__mbscMoveObs || new _();
    0 === Y && Fe(D, 'touchmove', vt, { passive: !1 }),
      (D.__mbscMoveObs = P),
      (D.__mbscMoveCount = ++Y),
      (d = P.subscribe(w));
  }
  if (
    (t.onChange && Fe(e, 'change', I),
    t.onHoverIn && Fe(e, lt, E),
    t.onHoverOut && Fe(e, 'mouseleave', M),
    t.onKeyDown && Fe(e, 'keydown', L),
    t.onFocus && b && (Fe(e, 'focus', N), !t.keepFocus))
  ) {
    var R = b.__mbscFocusCount || 0;
    0 === R && (Fe(b, ot, mt, !0), Fe(b, 'keydown', _t, !0)), (b.__mbscFocusCount = ++R);
  }
  return (
    t.onBlur && Fe(e, 'blur', H),
    t.onDoubleClick && Fe(e, 'dblclick', O),
    function () {
      if ((clearTimeout(a), t.onFocus && b && !t.keepFocus)) {
        var n = b.__mbscFocusCount || 0;
        (b.__mbscFocusCount = --n), n <= 0 && (Ue(b, ot, mt), Ue(b, 'keydown', _t));
      }
      if (D) {
        var s = D.__mbscMoveCount || 0;
        (D.__mbscMoveCount = --s),
          D.__mbscMoveObs && D.__mbscMoveObs.unsubscribe(d),
          s <= 0 &&
            (delete D.__mbscMoveCount, delete D.__mbscMoveObs, Ue(D, 'touchmove', vt, { passive: !1 }));
      }
      Ue(e, ot, T, { passive: !0 }),
        Ue(e, 'touchend', S),
        Ue(e, 'touchcancel', S),
        Ue(D, 'mousemove', w),
        Ue(D, rt, S),
        Ue(D, 'contextmenu', z),
        Ue(e, 'change', I),
        Ue(e, lt, E),
        Ue(e, 'mouseleave', M),
        Ue(e, 'keydown', L),
        Ue(e, 'touchstart', T),
        Ue(e, 'focus', N),
        Ue(e, 'blur', H),
        Ue(e, 'dblclick', O);
    }
  );
}
f &&
  (['mousedown', lt, ot, rt, it].forEach(function (e) {
    De.addEventListener(e, ut, !0);
  }),
  'android' === d &&
    u < 5 &&
    De.addEventListener(
      'change',
      function (e) {
        var t = e.target;
        ct && 'checkbox' === t.type && !t.mbscChange && (e.stopPropagation(), e.preventDefault()),
          delete t.mbscChange;
      },
      !0,
    ));
var gt = new _();
function yt(e) {
  return gt.subscribe(e);
}
function bt(e) {
  gt.unsubscribe(e);
}
var Dt = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._render = function (e) {
        e.dragData !== this._prevS.dragData &&
          (this._dragData = Z(e.dragData) ? JSON.parse(e.dragData.toString()) : e.dragData);
      }),
      (t.prototype._updated = function () {
        var e = this,
          t = this.s.element || this._el;
        if (undefined === this._unlisten && t) {
          var n, s, a;
          t.classList.add('mbsc-draggable');
          var i = We(t).body,
            o = function (e) {
              (n.style.left = e.endX + 'px'), (n.style.top = e.endY + 'px');
            };
          this._unlisten = ft(t, {
            onEnd: function (t) {
              if (s) {
                var o = l({}, t);
                o.domEvent.preventDefault(),
                  (o.action = 'externalDrop'),
                  (o.event = e._dragData),
                  (o.create = !0),
                  (o.eventName = 'onDragEnd'),
                  gt.next(o),
                  (s = !1),
                  i.removeChild(n);
              }
              clearTimeout(a);
            },
            onMove: function (t) {
              var r = l({}, t);
              (r.event = e._dragData),
                (r.clone = n),
                (r.create = !0),
                (r.external = !0),
                (!s && r.isTouch) || r.domEvent.preventDefault(),
                s
                  ? (o(t), (r.eventName = 'onDragMove'), gt.next(r))
                  : (Math.abs(r.deltaX) > 7 || Math.abs(r.deltaY) > 7) &&
                    (clearTimeout(a),
                    r.isTouch ||
                      (o(t), i.appendChild(n), (r.eventName = 'onDragStart'), gt.next(r), (s = !0)));
            },
            onStart: function (r) {
              var c = l({}, r);
              s ||
                ((n = t.cloneNode(!0)).classList.add('mbsc-drag-clone'),
                (c.event = e._dragData),
                (c.create = !0),
                (c.external = !0),
                c.isTouch &&
                  (a = setTimeout(function () {
                    o(r),
                      i.appendChild(n),
                      (c.clone = n),
                      (c.eventName = 'onDragModeOn'),
                      gt.next(c),
                      (c.eventName = 'onDragStart'),
                      gt.next(c),
                      (s = !0);
                  }, 350)));
            },
          });
        }
      }),
      (t.prototype._destroy = function () {
        this._unlisten && this._unlisten();
      }),
      t
    );
  })(at),
  Ct = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        return e.children || '';
      }),
      t
    );
  })(Dt),
  kt = new Date(1970, 0, 1);
function xt(e) {
  return !!e._mbsc;
}
function Tt(e, t) {
  var n = t.dataTimezone || t.displayTimezone,
    s = t.timezonePlugin;
  if (n && s && xt(e)) {
    var a = e.clone();
    return a.setTimezone(n), a.toISOString();
  }
  return e;
}
var wt = {
    amText: 'am',
    dateFormat: 'MM/DD/YYYY',
    dateFormatLong: 'D DDD MMM YYYY',
    dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
    dayNamesMin: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
    dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
    daySuffix: '',
    firstDay: 0,
    fromText: 'Start',
    getDate: Vt,
    monthNames: [
      'January',
      'February',
      'March',
      'April',
      'May',
      'June',
      'July',
      'August',
      'September',
      'October',
      'November',
      'December',
    ],
    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
    monthSuffix: '',
    pmText: 'pm',
    separator: ' ',
    shortYearCutoff: '+10',
    timeFormat: 'h:mm A',
    toText: 'End',
    todayText: 'Today',
    weekText: 'Week {count}',
    yearSuffix: '',
    getMonth: function (e) {
      return e.getMonth();
    },
    getDay: function (e) {
      return e.getDate();
    },
    getYear: function (e) {
      return e.getFullYear();
    },
    getMaxDayOfMonth: function (e, t) {
      return 32 - new Date(e, t, 32, 12).getDate();
    },
    getWeekNumber: function (e) {
      var t = new Date(+e);
      t.setHours(0, 0, 0), t.setDate(t.getDate() + 4 - (t.getDay() || 7));
      var n = new Date(t.getFullYear(), 0, 1);
      return Math.ceil(((t - n) / 864e5 + 1) / 7);
    },
  },
  St =
    /^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[T\s](\d{2}):?(\d{2})(?::?(\d{2})(?:\.(\d{3}))?)?((Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/,
  Et = /^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;
function Mt(e, t, n) {
  var s,
    a,
    i = { y: 1, m: 2, d: 3, h: 4, i: 5, s: 6, u: 7, tz: 8 };
  if (n) for (s in i) i.hasOwnProperty(s) && (a = e[i[s] - t]) && (n[s] = 'tz' === s ? a : 1);
}
function Lt(e) {
  return +new Date(1970, 0, 1, e.getHours(), e.getMinutes(), e.getSeconds(), e.getMilliseconds()) - +kt;
}
function Nt(e, t, n, s, a) {
  var i = +e,
    o = +n;
  return i < (a && o === +s ? +s + 1 : +s) && (a && i === +t ? +t + 1 : +t) > o;
}
function Ht(e, t) {
  var n = jt(e, t);
  return n.setHours(0, 0, 0, 0), n;
}
function It(e, t) {
  var n = jt(e, t);
  return n.setHours(23, 59, 59, 999), n;
}
function Ot(e, t, n, s, a) {
  return ((!t && !a) || e.exclusiveEndDates) && n && s && n < s ? jt(t ? undefined : e, +s - 1) : s;
}
function zt(e) {
  return e.getFullYear() + '-' + ae(e.getMonth() + 1) + '-' + ae(e.getDate());
}
function Yt(e, t) {
  return xt(e) && !t
    ? e.createDate(e.getFullYear(), e.getMonth(), e.getDate())
    : Vt(e.getFullYear(), e.getMonth(), e.getDate());
}
function Pt(e) {
  return Date.UTC(e.getFullYear(), e.getMonth(), e.getDate());
}
function Rt(e, t) {
  return ie((Pt(t) - Pt(e)) / 864e5);
}
function Ft(e, t, n, s) {
  for (var a = -1, i = Yt(e); i <= Yt(t); i.setDate(i.getDate() + 1)) en(i.getDay(), n, s) && a++;
  return a;
}
function Ut(e, t, n) {
  var s = e.getFullYear(),
    a = e.getMonth(),
    i = e.getDay(),
    o = undefined === n ? t.firstDay : n;
  return new Date(s, a, o - (o - i > 0 ? 7 : 0) - i + e.getDate());
}
function Wt(e, t) {
  return e.getFullYear() === t.getFullYear() && e.getMonth() === t.getMonth() && e.getDate() === t.getDate();
}
function At(e, t, n) {
  return n.getYear(e) === n.getYear(t) && n.getMonth(e) === n.getMonth(t);
}
function Vt(e, t, n, s, a, i, o) {
  var r = new Date(e, t, n, s || 0, a || 0, i || 0, o || 0);
  return 23 === r.getHours() && 0 === (s || 0) && r.setHours(r.getHours() + 2), r;
}
function Xt(e) {
  return e.getTime;
}
function Bt(e) {
  return Z(e) && Et.test(e);
}
function Kt(e, t) {
  return jt(
    e,
    t.getFullYear(),
    t.getMonth(),
    t.getDate(),
    t.getHours(),
    t.getMinutes(),
    t.getSeconds(),
    t.getMilliseconds(),
  );
}
function jt(e, t, n, s, a, i, o, r) {
  return null === t
    ? null
    : t && (J(t) || Z(t)) && Q(n)
    ? qt(t, e)
    : e && e.timezonePlugin
    ? e.timezonePlugin.createDate(e, t, n, s, a, i, o, r)
    : ee(t)
    ? new Date(t)
    : Q(t)
    ? new Date()
    : new Date(t, n || 0, s || 1, a || 0, i || 0, o || 0, r || 0);
}
function qt(e, t, n, s, a) {
  var i;
  if ((Z(e) && (e = e.trim()), !e)) return null;
  var o = t && t.timezonePlugin;
  if (o && !a) {
    var r = xt(e) ? e : o.parse(e, t);
    return r.setTimezone(t.displayTimezone), r;
  }
  return Xt(e)
    ? e
    : e._isAMomentObject
    ? e.toDate()
    : J(e)
    ? new Date(e)
    : (i = Et.exec(e))
    ? (Mt(i, 2, s),
      new Date(1970, 0, 1, i[2] ? +i[2] : 0, i[3] ? +i[3] : 0, i[4] ? +i[4] : 0, i[5] ? +i[5] : 0))
    : (i = St.exec(e))
    ? (Mt(i, 0, s),
      new Date(
        i[1] ? +i[1] : 1970,
        i[2] ? i[2] - 1 : 0,
        i[3] ? +i[3] : 1,
        i[4] ? +i[4] : 0,
        i[5] ? +i[5] : 0,
        i[6] ? +i[6] : 0,
        i[7] ? +i[7] : 0,
      ))
    : Zt(n, e, t);
}
function Gt(e, t, n) {
  return Jt(e, t, l({}, wt, x.locale, n));
}
function Jt(e, t, n) {
  var s,
    a,
    i = '',
    o = !1,
    r = function (t) {
      for (var n = 0, a = s; a + 1 < e.length && e.charAt(a + 1) === t; ) n++, a++;
      return n;
    },
    l = function (e) {
      var t = r(e);
      return (s += t), t;
    },
    c = function (e, t, n) {
      var s = '' + t;
      if (l(e)) for (; s.length < n; ) s = '0' + s;
      return s;
    },
    d = function (e, t, n, s) {
      return 3 === l(e) ? s[t] : n[t];
    };
  for (s = 0; s < e.length; s++)
    if (o) "'" !== e.charAt(s) || l("'") ? (i += e.charAt(s)) : (o = !1);
    else
      switch (e.charAt(s)) {
        case 'D':
          i += r('D') > 1 ? d('D', t.getDay(), n.dayNamesShort, n.dayNames) : c('D', n.getDay(t), 2);
          break;
        case 'M':
          i +=
            r('M') > 1
              ? d('M', n.getMonth(t), n.monthNamesShort, n.monthNames)
              : c('M', n.getMonth(t) + 1, 2);
          break;
        case 'Y':
          (a = n.getYear(t)), (i += 3 === l('Y') ? a : (a % 100 < 10 ? '0' : '') + (a % 100));
          break;
        case 'h':
          var h = t.getHours();
          i += c('h', h > 12 ? h - 12 : 0 === h ? 12 : h, 2);
          break;
        case 'H':
          i += c('H', t.getHours(), 2);
          break;
        case 'm':
          i += c('m', t.getMinutes(), 2);
          break;
        case 's':
          i += c('s', t.getSeconds(), 2);
          break;
        case 'a':
          i += t.getHours() > 11 ? n.pmText : n.amText;
          break;
        case 'A':
          i += t.getHours() > 11 ? n.pmText.toUpperCase() : n.amText.toUpperCase();
          break;
        case "'":
          l("'") ? (i += "'") : (o = !0);
          break;
        default:
          i += e.charAt(s);
      }
  return i;
}
function Zt(e, t, n) {
  var s = l({}, wt, n),
    a = qt(s.defaultValue || new Date());
  if (!t) return a;
  e || (e = s.dateFormat + s.separator + s.timeFormat);
  var i,
    o = s.shortYearCutoff,
    r = s.getYear(a),
    c = s.getMonth(a) + 1,
    d = s.getDay(a),
    h = a.getHours(),
    u = a.getMinutes(),
    m = 0,
    _ = -1,
    v = !1,
    p = 0,
    f = function (t) {
      for (var n = 0, s = i; s + 1 < e.length && e.charAt(s + 1) === t; ) n++, s++;
      return n;
    },
    g = function (e) {
      var t = f(e);
      return (i += t), t;
    },
    y = function (e) {
      var n = g(e),
        s = new RegExp('^\\d{1,' + (n >= 2 ? 4 : 2) + '}'),
        a = t.substr(p).match(s);
      return a ? ((p += a[0].length), parseInt(a[0], 10)) : 0;
    },
    b = function (e, n, s) {
      for (var a = 3 === g(e) ? s : n, i = 0; i < a.length; i++)
        if (t.substr(p, a[i].length).toLowerCase() === a[i].toLowerCase()) return (p += a[i].length), i + 1;
      return 0;
    },
    D = function () {
      p++;
    };
  for (i = 0; i < e.length; i++)
    if (v) "'" !== e.charAt(i) || g("'") ? D() : (v = !1);
    else
      switch (e.charAt(i)) {
        case 'Y':
          r = y('Y');
          break;
        case 'M':
          c = f('M') < 2 ? y('M') : b('M', s.monthNamesShort, s.monthNames);
          break;
        case 'D':
          f('D') < 2 ? (d = y('D')) : b('D', s.dayNamesShort, s.dayNames);
          break;
        case 'H':
          h = y('H');
          break;
        case 'h':
          h = y('h');
          break;
        case 'm':
          u = y('m');
          break;
        case 's':
          m = y('s');
          break;
        case 'a':
          _ = b('a', [s.amText, s.pmText], [s.amText, s.pmText]) - 1;
          break;
        case 'A':
          _ = b('A', [s.amText, s.pmText], [s.amText, s.pmText]) - 1;
          break;
        case "'":
          g("'") ? D() : (v = !0);
          break;
        default:
          D();
      }
  if (r < 100) {
    var C = void 0;
    (C = r <= (Z(o) ? (new Date().getFullYear() % 100) + parseInt(o, 10) : +o) ? 0 : -100),
      (r += new Date().getFullYear() - (new Date().getFullYear() % 100) + C);
  }
  h = -1 === _ ? h : _ && h < 12 ? h + 12 : _ || 12 !== h ? h : 0;
  var k = s.getDate(r, c - 1, d, h, u, m);
  return s.getYear(k) !== r || s.getMonth(k) + 1 !== c || s.getDay(k) !== d ? a : k;
}
function $t(e) {
  return xt(e) ? e.clone() : new Date(e);
}
function Qt(e, t) {
  var n = $t(e);
  return n.setDate(n.getDate() + t), n;
}
function en(e, t, n) {
  return t > n ? e <= n || e >= t : e >= t && e <= n;
}
function tn(e, t) {
  var n = 6e4 * t,
    s = $t(e).setHours(0, 0, 0, 0),
    a = s + Math.round((+e - +s) / n) * n;
  return xt(e) ? e.createDate(a) : new Date(a);
}
f && 'undefined' == typeof Symbol && (window.Symbol = { toPrimitive: 'toPrimitive' }),
  (T.datetime = { formatDate: Gt, parseDate: Zt });
var nn = 1,
  sn = l({}, wt, {
    dateText: 'Date',
    eventText: 'event',
    eventsText: 'events',
    moreEventsText: '{count} more',
    nextPageText: 'Next page',
    prevPageText: 'Previous page',
    showEventTooltip: !0,
    showToday: !0,
    timeText: 'Time',
  });
function an(e, t) {
  var n = t.refDate ? qt(t.refDate) : kt,
    s = t.showCalendar ? t.calendarType : t.eventRange,
    a = (t.showCalendar ? ('year' === s ? 1 : 'week' === s ? t.weeks : t.size) : t.eventRangeSize) || 1,
    i = t.getDate,
    o = 'week' === s ? Ut(n, t) : n,
    r = t.getYear(o),
    l = t.getMonth(o),
    c = t.getDay(o);
  switch (s) {
    case 'year':
      return i(r + e * a, 0, 1);
    case 'week':
      return i(r, l, c + 7 * a * e);
    case 'day':
      return i(r, l, c + a * e);
    default:
      return i(r, l + e * a, 1);
  }
}
function on(e, t) {
  var n,
    s = t.refDate ? qt(t.refDate) : kt,
    a = t.getYear,
    i = t.getMonth,
    o = t.showCalendar ? t.calendarType : t.eventRange,
    r = (t.showCalendar ? ('year' === o ? 1 : 'week' === o ? t.weeks : t.size) : t.eventRangeSize) || 1;
  switch (o) {
    case 'year':
      n = a(e) - a(s);
      break;
    case 'week':
      n = Rt(Ut(s, t), Ut(e, t)) / 7;
      break;
    case 'day':
      n = Rt(s, e);
      break;
    case 'month':
      n = i(e) - i(s) + 12 * (a(e) - a(s));
      break;
    default:
      return;
  }
  return oe(n / r);
}
function rn(e, t) {
  var n = t.refDate ? qt(t.refDate) : kt;
  return oe((t.getYear(e) - t.getYear(n)) / 12);
}
function ln(e, t) {
  var n = t.refDate ? qt(t.refDate) : kt;
  return t.getYear(e) - t.getYear(n);
}
function cn(e, t) {
  var n = qt(e.start || e.date),
    s = qt(t.start || e.date),
    a = e.title || e.text,
    i = t.title || t.text,
    o = n ? +n * (e.allDay ? 1 : 10) : 0,
    r = s ? +s * (t.allDay ? 1 : 10) : 0;
  return o === r ? (a > i ? 1 : -1) : o - r;
}
function dn(e, t, n, s, a, i, o, r, l, c, d, h, u, m) {
  t = t || {};
  for (var _ = {}, v = {}, p = n, f = 0, g = a, y = s; p < s; ) {
    var b = zt(p),
      D = p.getDay(),
      C = e.getDay(p),
      k = d && e.getDate(e.getYear(p), e.getMonth(p) + 1, 0),
      x = (l && (D === r || (1 === C && d))) || +p == +n,
      T = Ut(p, e),
      w = hn(t[b] || [], c),
      S = void 0,
      E = void 0,
      M = 0,
      L = 0,
      N = 0;
    x && ((v = {}), (y = l ? Qt(T, i) : s)),
      o &&
        (w = w.filter(function (e) {
          return e.allDay;
        })),
      -1 === a && (g = w.length + 1);
    var H = w.length,
      I = [];
    for (h && (I.push({ id: 'count_' + +p, count: H, placeholder: 0 === H }), (M = g)); H && M < g; ) {
      S = null;
      for (var O = 0; O < w.length; O++) v[M] === w[O] && ((S = w[O]), (E = O));
      if (M === g - 1 && (L < H - 1 || (N === H && !S)) && -1 !== a) {
        var z = H - L,
          Y = u || '',
          P = ((z > 1 && m) || Y).replace(/{count}/, z);
        if ((z && I.push({ id: 'more_' + ++f, more: P, label: P }), S)) {
          v[M] = null;
          for (var R = 0, F = S._days; R < F.length; R++) {
            var U = F[R],
              W = Y.replace(/{count}/, '1');
            _[zt(U)].data[M] = { id: 'more_' + ++f, more: W, label: W };
          }
        }
        L++, M++;
      } else if (S)
        E === N && N++,
          Wt(p, qt(S.end, S.allDay ? undefined : e)) && (v[M] = null),
          I.push({ id: S.occurrenceId || S.id, event: S }),
          M++,
          L++,
          S._days.push(p);
      else if (N < H) {
        var A = w[N],
          V = A.allDay,
          X = A.start && qt(A.start, V ? undefined : e);
        if (!X || Wt(p, X) || x) {
          var B = Ot(e, V, X, A.end && qt(A.end, V ? undefined : e), !0),
            K = B && !Wt(X, B),
            j = k && k < B ? k : B,
            q = X ? ', ' + e.fromText + ': ' + Jt('DDDD, MMMM D, YYYY', X, e) : '',
            G = B ? ', ' + e.toText + ': ' + Jt('DDDD, MMMM D, YYYY', B, e) : '';
          undefined === A.id && (A.id = 'mbsc_' + nn++),
            K && (v[M] = A),
            (A._days = [p]),
            I.push({
              event: A,
              id: A.occurrenceId || A.id,
              label: (A.title || A.text || '') + q + G,
              lastDay: k ? Qt(k, 1) : undefined,
              multiDay: K,
              showText: !0,
              width: K ? 100 * Math.min(Rt(p, j) + 1, Rt(p, y)) : 100,
            }),
            M++,
            L++;
        }
        N++;
      } else L < H && I.push({ id: 'ph_' + ++f, placeholder: !0 }), M++;
    }
    (_[b] = { data: I, events: w }), (p = Yt(Qt(p, 1)));
  }
  return _;
}
function hn(e, t) {
  return e && e.slice(0).sort(t || cn);
}
var un = { 0: 'SU', 1: 'MO', 2: 'TU', 3: 'WE', 4: 'TH', 5: 'FR', 6: 'SA' },
  mn = { SU: 0, MO: 1, TU: 2, WE: 3, TH: 4, FR: 5, SA: 6 },
  _n = {
    byday: 'weekDays',
    bymonth: 'month',
    bymonthday: 'day',
    bysetpos: 'pos',
    dtstart: 'from',
    freq: 'repeat',
    wkst: 'weekStart',
  };
function vn(e, t, n, s) {
  var a = qt(t.start, t.allDay ? undefined : n),
    i = qt(t.end, t.allDay ? undefined : n),
    o = i - a;
  for (
    s && ((t.start = a), (t.end = i)), a = Yt(a), i = n.exclusiveEndDates ? i : Yt(Qt(i, 1));
    a < i || !o;

  )
    pn(e, a, t), (a = Qt(a, 1)), (o = 1);
}
function pn(e, t, n) {
  var s = zt(t);
  e[s] || ((e[s] = []), (e[s].date = Yt(t, !0))), e[s].push(n);
}
function fn(e, t, n, s, a, i) {
  var o = {};
  if (a)
    for (var r = 0, l = kn(a); r < l.length; r++) {
      o[zt(qt(l[r]))] = !0;
    }
  if (i)
    for (var c = 0, d = xn(i, e, t, n, s); c < d.length; c++) {
      o[zt(d[c].d)] = !0;
    }
  return o;
}
function gn(e) {
  return Z(e) || e.getTime || e.toDate ? e : e.start || e.date;
}
function yn(e) {
  for (var t = {}, n = 0, s = e.split(';'); n < s.length; n++) {
    var a = s[n].split('='),
      i = a[0].trim().toLowerCase(),
      o = a[1].trim();
    t[_n[i] || i] = o;
  }
  return t;
}
function bn(e) {
  return Z(e) ? yn(e) : l({}, e);
}
function Dn(e, t, n) {
  var s = bn(e),
    a = qt(t),
    i = qt(n),
    o = Rt(i, a),
    r = (s.repeat || '').toLowerCase(),
    l = function (e, t, n) {
      var s = e.filter(function (e) {
        return e !== t;
      });
      return -1 === s.indexOf(n) && s.push(n), s;
    },
    c = function (e, t, n) {
      var s = q(e)
          ? e
          : ((e || '') + '').split(',').map(function (e) {
              return +e;
            }),
        a = l(s, t, n);
      return a.length > 1 ? a : a[0];
    },
    d = function () {
      if (s.weekDays) {
        var e = s.weekDays.split(','),
          t = un[i.getDay()],
          n = un[a.getDay()],
          o = l(e, t, n);
        s.weekDays = o.join();
      }
    };
  return (
    'weekly' === r
      ? d()
      : 'monthly' === r
      ? undefined === s.pos
        ? (s.day = c(s.day, i.getDate(), a.getDate()))
        : d()
      : 'yearly' === r &&
        (undefined === s.pos
          ? ((s.month = c(s.month, i.getMonth() + 1, a.getMonth() + 1)),
            (s.day = c(s.day, i.getDate(), a.getDate())))
          : d()),
    s.from && (s.from = Qt(qt(s.from), o)),
    s.until && (s.until = Qt(qt(s.until), o)),
    s
  );
}
function Cn(e, t, n, s, a) {
  var i = l({}, e),
    o = null,
    r = t && t.start,
    c = n && n.start,
    d = n && n.end,
    h = bn(e.recurring);
  switch (a) {
    case 'following':
      var u = void 0;
      if (
        (s
          ? (s.recurring && (u = bn(s.recurring)), delete (o = s).id)
          : c && r && ((u = Dn(h, c, r)), (o = l({}, n))),
        (h.until = Yt(qt(r))),
        h.count)
      ) {
        var m = (t && t.nr) || 0;
        u && (u.count = h.count - m), (h.count = m);
      }
      c && u && (u.from = c), o && u && (o.recurring = u), (i.recurring = h);
      break;
    case 'all':
      if (s) i = s;
      else if (n && c && d && r) {
        var _ = e.start,
          v = e.end,
          p = e.allDay && !n.allDay;
        Bt(_) || (!_ && p) ? (i.start = Gt('HH:mm', qt(c))) : _ && (i.start = c),
          Bt(v) || (!v && p) ? (i.end = Gt('HH:mm', qt(d))) : v && (i.end = d),
          (i.recurring = Dn(h, c, r));
      }
      break;
    default:
      var f = e.recurringException,
        g = q(f) ? f.slice() : f ? [f] : [];
      r && g.push(r), (i.recurringException = g), (o = s || n);
  }
  return { updatedEvent: i, newEvent: o };
}
function kn(e) {
  return e ? (q(e) ? e : Z(e) ? e.split(',') : [e]) : [];
}
function xn(e, t, n, s, a, i, o, r) {
  Z(e) && (e = yn(e));
  for (
    var l,
      c,
      d = a.getYear,
      h = a.getMonth,
      u = a.getDay,
      m = a.getDate,
      _ = a.getMaxDayOfMonth,
      v = (e.repeat || '').toLowerCase(),
      p = e.interval || 1,
      f = e.count,
      g = e.from ? qt(e.from) : t || (1 !== p || undefined !== f ? new Date() : n),
      y = Yt(g),
      b = d(g),
      D = h(g),
      C = e.until ? qt(e.until) : 1 / 0,
      k = g < n,
      x = k ? n : Yt(g),
      T = 'first' === r,
      w = 'last' === r,
      S = T || w || !s || C < s ? C : s,
      E = undefined === f ? 1 / 0 : f,
      M = (e.weekDays || un[g.getDay()]).split(','),
      L = mn[(e.weekStart || 'MO').trim().toUpperCase()],
      N = q(e.day) ? e.day : ((e.day || u(g)) + '').split(','),
      H = q(e.month) ? e.month : ((e.month || h(g) + 1) + '').split(','),
      I = [],
      O = undefined !== e.pos,
      z = O ? +e.pos : 1,
      Y = [],
      P = s ? fn(t, n, s, a, i, o) : {},
      R = !0,
      F = 0,
      U = 0,
      W = null,
      A = n,
      V = 0,
      X = M;
    V < X.length;
    V++
  ) {
    var B = X[V];
    Y.push(mn[B.trim().toUpperCase()]);
  }
  var K = function () {
      if ((s || (P = fn(c, c, Qt(c, 1), a, i, o)), !P[zt(c)] && c >= x))
        if (T) (W = !W || c < W ? c : W), (R = !1);
        else if (w) {
          var e = Rt(A, c);
          (A = c > A && e <= 1 ? c : A), (R = e <= 1);
        } else I.push({ d: c, i: U });
      U++;
    },
    j = function (e, t) {
      for (var n = [], s = 0, a = Y; s < a.length; s++)
        for (var i = Ut(e, { firstDay: a[s] }); i < t; i.setDate(i.getDate() + 7))
          i.getMonth() === e.getMonth() && n.push(+i);
      n.sort();
      var o = n[z < 0 ? n.length + z : z - 1];
      (c = o ? new Date(o) : t) < S ? o && K() : (R = !1);
    };
  switch (v) {
    case 'daily':
      for (U = f && k ? oe(Rt(g, n) / p) : 0; R; )
        (c = m(d(g), h(g), u(g) + U * p)) < S && U < E ? K() : (R = !1);
      break;
    case 'weekly':
      var G = Y,
        J = Ut(g, { firstDay: L }),
        $ = J.getDay();
      for (
        G.sort(function (e, t) {
          return (e = (e -= $) < 0 ? e + 7 : e) - (t = (t -= $) < 0 ? t + 7 : t);
        });
        R;

      ) {
        for (var Q = 0, ee = G; Q < ee.length; Q++) {
          (l = Qt(J, (B = ee[Q]) < L ? B - L + 7 : B - L)),
            (c = m(d(l), h(l), u(l) + 7 * F * p)) < S && U < E ? c >= y && K() : (R = !1);
        }
        F++;
      }
      break;
    case 'monthly':
      for (; R; ) {
        var te = _(b, D + F * p);
        if (O) j(m(b, D + F * p, 1), m(b, D + F * p + 1, 1));
        else
          for (var ne = 0, se = N; ne < se.length; ne++) {
            var ae = se[ne];
            (c = m(b, D + F * p, (he = +ae) < 0 ? te + he + 1 : he)) < S && U < E
              ? te >= ae && c >= y && K()
              : (R = !1);
          }
        F++;
      }
      break;
    case 'yearly':
      for (; R; ) {
        for (var ie = 0, re = H; ie < re.length; ie++) {
          var le = +re[ie];
          te = _(b + F * p, le - 1);
          if (O) j(m(b + F * p, le - 1, 1), m(b + F * p, le, 1));
          else
            for (var ce = 0, de = N; ce < de.length; ce++) {
              var he;
              ae = de[ce];
              (c = m(b + F * p, le - 1, (he = +ae) < 0 ? te + he + 1 : he)) < S && U < E
                ? te >= ae && c >= y && K()
                : (R = !1);
            }
        }
        F++;
      }
  }
  return T ? W : w ? A : I;
}
function Tn(e, t, n, s, a) {
  var i = {},
    o = s.timezonePlugin,
    r = s.dataTimezone || s.displayTimezone,
    c = o ? { displayTimezone: r, timezonePlugin: o } : s;
  if (e) {
    for (var d = 0, h = e; d < h.length; d++) {
      var u = h[d],
        m = gn(u),
        _ = qt(m, u.allDay ? undefined : s);
      if (u.recurring)
        for (
          var v = Et.test(m) ? null : qt(m),
            p = Qt(t, -1),
            f = Qt(n, 1),
            g = xn(u.recurring, v, p, f, s, u.recurringException, u.recurringExceptionRule),
            y = jt(u.allDay ? undefined : c, _),
            b = u.end ? qt(u.end, u.allDay ? undefined : s) : y,
            D = +b - +y,
            C = 0,
            k = g;
          C < k.length;
          C++
        ) {
          var x = k[C],
            T = x.d,
            w = l({}, u);
          if (
            (u.start
              ? (w.start = jt(
                  u.allDay ? undefined : c,
                  T.getFullYear(),
                  T.getMonth(),
                  T.getDate(),
                  y.getHours(),
                  y.getMinutes(),
                  y.getSeconds(),
                ))
              : ((w.allDay = !0), (w.start = jt(undefined, T.getFullYear(), T.getMonth(), T.getDate()))),
            u.end)
          ) {
            if (u.allDay) {
              var S = Qt(T, Rt(y, b));
              w.end = new Date(
                S.getFullYear(),
                S.getMonth(),
                S.getDate(),
                b.getHours(),
                b.getMinutes(),
                b.getSeconds(),
              );
            } else w.end = jt(c, +w.start + D);
            '00:00' === u.end && w.end.setHours(23, 59, 59, 999);
          }
          (w.nr = x.i),
            (w.occurrenceId = w.id + '_' + zt(w.start)),
            (w.original = u),
            w.start && w.end ? vn(i, w, s, a) : pn(i, T, w);
        }
      else u.start && u.end ? vn(i, u, s, a) : _ && pn(i, _, u);
    }
    return i;
  }
}
function wn(e, t, n, s, a, i) {
  var o = zt(t);
  if ((a && +t < a) || (i && +t > i)) return !0;
  if (s && s[o]) return !1;
  var r = n && n[o];
  if (r)
    for (var l = 0, c = r; l < c.length; l++) {
      var d = c[l],
        h = d.start,
        u = d.end,
        m = d.allDay;
      if (!h || !u || m) return d;
      var _ = Ot(e, m, h, u),
        v = Ht(e, t),
        p = It(e, _);
      if (!Wt(h, u) && (+h == +v || +_ == +p || (!Wt(t, h) && !Wt(t, u) && t > h && t < u))) return d;
    }
  return !1;
}
var Sn = 1;
function En(e, t, n, s, a, i) {
  var o = n,
    r = s,
    c = new Map(),
    d = [];
  a && (o = qt(a, t)), i ? (r = qt(i, t)) : a && (r = Qt(o, 1));
  var h = Tn(e, o, r, t);
  for (var u in h)
    if (u)
      for (var m = 0, _ = h[u]; m < _.length; m++) {
        var v = _[m],
          p = qt(v.start, t),
          f = qt(v.end, t) || p;
        if (v.start) {
          if (!c.has(v) && Nt(o, r, p, f)) {
            var g = l({}, v);
            (t.dataTimezone || t.displayTimezone) && ((g.start = p.toISOString()), (g.end = f.toISOString())),
              c.set(v, !0),
              d.push(g);
          }
        } else d.push(v);
      }
  return d;
}
function Mn() {
  return 'mbsc_' + Sn++;
}
function Ln(e, t, n, s, a, i, o, r, l, c, d) {
  var h = t.color || (r && r.color),
    u = t.start || t.date,
    m = t.recurring ? t.original.start : t.start,
    _ = t.allDay || !m,
    v = u ? qt(u, _ ? undefined : e) : null,
    p = t.end ? qt(t.end, _ ? undefined : e) : null,
    f = Ot(e, t.allDay, v, p, l),
    g = v && f && !Wt(v, f),
    y = !g || Wt(v, n),
    b = !g || Wt(f, n),
    D = _ || (!c && g && !y && !b),
    C = d || !v || _ ? '' : Jt(a, v, e),
    k = d || !p || _ ? '' : Jt(a, p, e),
    x = d || D || (!y && !c) ? '' : C,
    T = d || D || (!b && !c) ? '' : k,
    w = t.title || t.text || '',
    S = w,
    E = S + (D ? '' : ', ' + x + ' - ' + T),
    M = 'DDDD, MMMM D, YYYY',
    L = !d && v ? ', ' + e.fromText + ': ' + Jt(M, v, e) + (_ ? '' : ', ' + C) : '',
    N = !d && p ? ', ' + e.toText + ': ' + Jt(M, p, e) + (_ ? '' : ', ' + k) : '';
  return {
    allDay: _,
    allDayText: D ? i : '',
    ariaLabel: S + (r && r.name ? ', ' + r.name : '') + L + N,
    color: h,
    currentResource: r,
    date: +n,
    end: T,
    endDate: p || (v ? new Date(v) : null),
    html: w,
    id: t.id,
    isMultiDay: g,
    lastDay: !D && g && b ? o : '',
    original: t,
    position: {},
    resource: t.resource,
    slot: t.slot,
    start: x,
    startDate: v,
    style: { background: h, color: s && h ? je(h) : '' },
    title: S,
    tooltip: e.showEventTooltip ? t.tooltip || E : undefined,
    uid: t.occurrenceId ? t.occurrenceId : t.id,
  };
}
function Nn(e) {
  var t = [];
  if (e)
    for (var n = 0, s = e; n < s.length; n++) {
      var a = s[n];
      undefined === a.id && (a.id = Mn()), t.push(a);
    }
  return t;
}
function Hn(e, t, n, s, a, i, o, r, l) {
  if ('start-end' === r) {
    var c = wn(e, s, t, n, i, o),
      d = wn(e, a, t, n, i, o);
    if (c) return c;
    if (d) return d;
  } else
    for (var h = l ? a : Yt(Qt(a, 1)), u = Yt(s); u < h; u.setDate(u.getDate() + 1)) {
      var m = wn(e, u, t, n, i, o);
      if (m) return m;
    }
  return !1;
}
var In = 0;
function On(e, t, n) {
  'jsonp' === n
    ? (function (e, t) {
        if (Ce) {
          var n = De.createElement('script'),
            s = 'mbscjsonp' + ++In;
          (Ce[s] = function (e) {
            n.parentNode.removeChild(n), delete Ce[s], e && t(e);
          }),
            (n.src = e + (e.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + s),
            De.body.appendChild(n);
        }
      })(e, t)
    : (function (e, t) {
        var n = new XMLHttpRequest();
        n.open('GET', e, !0),
          (n.onload = function () {
            n.status >= 200 && n.status < 400 && t(JSON.parse(n.response));
          }),
          (n.onerror = function () {}),
          n.send();
      })(e, t);
}
var zn,
  Yn = { getJson: On };
function Pn(e) {
  return zn || (zn = Fn.luxon.DateTime.local().zoneName), e && 'local' !== e ? e : zn;
}
T.http = Yn;
var Rn = /*#__PURE__*/ (function () {
    function e(e, t) {
      void 0 === t && (t = 'utc'), (this._mbsc = !0), (t = Pn(t));
      var n = Fn.luxon.DateTime,
        s = { zone: t };
      if (((this.zone = t), Q(e))) this.dt = n.utc().setZone(t);
      else if (Xt(e) || J(e)) this.dt = n.fromMillis(+e, s);
      else if (Z(e)) this.dt = n.fromISO(e, s);
      else if (q(e)) {
        for (
          var a = ['year', 'month', 'day', 'hour', 'minute', 'second', 'millisecond'], i = {}, o = 0;
          o < e.length && o < 7;
          o++
        )
          i[a[o]] = e[o] + (1 === o ? 1 : 0);
        1 === n.fromObject.length ? (this.dt = n.fromObject(l({}, i, s))) : (this.dt = n.fromObject(i, s));
      }
    }
    return (
      (e.prototype.clone = function () {
        return new e(this, this.zone);
      }),
      (e.prototype.createDate = function (e, t, n, s, a, i, o) {
        return Fn.createDate({ displayTimezone: this.zone }, e, t, n, s, a, i, o);
      }),
      (e.prototype[Symbol.toPrimitive] = function (e) {
        return this.dt.toJSDate()[Symbol.toPrimitive](e);
      }),
      (e.prototype.toDateString = function () {
        return this.dt.toFormat('ccc MMM dd yyyy');
      }),
      (e.prototype.toISOString = function () {
        return this.dt.toISO();
      }),
      (e.prototype.toJSON = function () {
        return this.dt.toISO();
      }),
      (e.prototype.valueOf = function () {
        return this.dt.valueOf();
      }),
      (e.prototype.getDate = function () {
        return this.dt.day;
      }),
      (e.prototype.getDay = function () {
        return this.dt.weekday % 7;
      }),
      (e.prototype.getFullYear = function () {
        return this.dt.year;
      }),
      (e.prototype.getHours = function () {
        return this.dt.hour;
      }),
      (e.prototype.getMilliseconds = function () {
        return this.dt.millisecond;
      }),
      (e.prototype.getMinutes = function () {
        return this.dt.minute;
      }),
      (e.prototype.getMonth = function () {
        return this.dt.month - 1;
      }),
      (e.prototype.getSeconds = function () {
        return this.dt.second;
      }),
      (e.prototype.getTime = function () {
        return this.valueOf();
      }),
      (e.prototype.getTimezoneOffset = function () {
        return -this.dt.offset;
      }),
      (e.prototype.getUTCDate = function () {
        return this.dt.toUTC().day;
      }),
      (e.prototype.getUTCDay = function () {
        return this.dt.toUTC().weekday % 7;
      }),
      (e.prototype.getUTCFullYear = function () {
        return this.dt.toUTC().year;
      }),
      (e.prototype.getUTCHours = function () {
        return this.dt.toUTC().hour;
      }),
      (e.prototype.getUTCMilliseconds = function () {
        return this.dt.toUTC().millisecond;
      }),
      (e.prototype.getUTCMinutes = function () {
        return this.dt.toUTC().minute;
      }),
      (e.prototype.getUTCMonth = function () {
        return this.dt.toUTC().month - 1;
      }),
      (e.prototype.getUTCSeconds = function () {
        return this.dt.toUTC().second;
      }),
      (e.prototype.setMilliseconds = function (e) {
        return this.setter({ millisecond: e }).millisecond;
      }),
      (e.prototype.setSeconds = function (e, t) {
        return this.setter({ second: e, millisecond: t }).second;
      }),
      (e.prototype.setMinutes = function (e, t, n) {
        return this.setter({ minute: e, second: t, millisecond: n }).minute;
      }),
      (e.prototype.setHours = function (e, t, n, s) {
        return this.setter({ hour: e, minute: t, second: n, millisecond: s }).hour;
      }),
      (e.prototype.setDate = function (e) {
        return this.setter({ day: e }).day;
      }),
      (e.prototype.setMonth = function (e, t) {
        return e++, this.setter({ month: e, day: t }).month - 1;
      }),
      (e.prototype.setFullYear = function (e, t, n) {
        return this.setter({ year: e, month: t, day: n }).year;
      }),
      (e.prototype.setTime = function (e) {
        return (this.dt = Fn.luxon.DateTime.fromMillis(e)), this.dt.valueOf();
      }),
      (e.prototype.setTimezone = function (e) {
        (e = Pn(e)), (this.zone = e), (this.dt = this.dt.setZone(e));
      }),
      (e.prototype.setUTCMilliseconds = function (e) {
        return 0;
      }),
      (e.prototype.setUTCSeconds = function (e, t) {
        return 0;
      }),
      (e.prototype.setUTCMinutes = function (e, t, n) {
        return 0;
      }),
      (e.prototype.setUTCHours = function (e, t, n, s) {
        return 0;
      }),
      (e.prototype.setUTCDate = function (e) {
        return 0;
      }),
      (e.prototype.setUTCMonth = function (e, t) {
        return 0;
      }),
      (e.prototype.setUTCFullYear = function (e, t, n) {
        return 0;
      }),
      (e.prototype.toUTCString = function () {
        return '';
      }),
      (e.prototype.toTimeString = function () {
        return '';
      }),
      (e.prototype.toLocaleDateString = function () {
        return '';
      }),
      (e.prototype.toLocaleTimeString = function () {
        return '';
      }),
      (e.prototype.setter = function (e) {
        return (this.dt = this.dt.set(e)), this.dt;
      }),
      e
    );
  })(),
  Fn = {
    luxon: undefined,
    parse: function (e, t) {
      return new Rn(e, t.dataTimezone || t.displayTimezone);
    },
    createDate: function (e, t, n, s, a, i, o, r) {
      var l = e.displayTimezone;
      return ee(t) || Z(t) || Q(n)
        ? new Rn(t, l)
        : new Rn([t || 1970, n || 0, s || 1, a || 0, i || 0, o || 0, r || 0], l);
    },
  };
function Un(e) {
  return e && 'local' !== e ? e : An.moment.tz.guess();
}
var Wn = /*#__PURE__*/ (function () {
    function e(e, t) {
      (this._mbsc = !0), (this.timezone = Un(t)), this.init(e);
    }
    return (
      (e.prototype.clone = function () {
        return new e(this, this.timezone);
      }),
      (e.prototype.createDate = function (e, t, n, s, a, i, o) {
        return An.createDate({ displayTimezone: this.timezone }, e, t, n, s, a, i, o);
      }),
      (e.prototype[Symbol.toPrimitive] = function (e) {
        return this.m.toDate()[Symbol.toPrimitive](e);
      }),
      (e.prototype.toDateString = function () {
        return this.m.format('ddd MMM DD YYYY');
      }),
      (e.prototype.toISOString = function () {
        return this.m.toISOString(!0);
      }),
      (e.prototype.toJSON = function () {
        return this.m.toISOString();
      }),
      (e.prototype.valueOf = function () {
        return this.m.valueOf();
      }),
      (e.prototype.getDate = function () {
        return this.m.date();
      }),
      (e.prototype.getDay = function () {
        return this.m.day();
      }),
      (e.prototype.getFullYear = function () {
        return this.m.year();
      }),
      (e.prototype.getHours = function () {
        return this.m.hours();
      }),
      (e.prototype.getMilliseconds = function () {
        return this.m.milliseconds();
      }),
      (e.prototype.getMinutes = function () {
        return this.m.minutes();
      }),
      (e.prototype.getMonth = function () {
        return this.m.month();
      }),
      (e.prototype.getSeconds = function () {
        return this.m.seconds();
      }),
      (e.prototype.getTime = function () {
        return this.m.valueOf();
      }),
      (e.prototype.getTimezoneOffset = function () {
        return -this.m.utcOffset();
      }),
      (e.prototype.getUTCDate = function () {
        return this.utc().date();
      }),
      (e.prototype.getUTCDay = function () {
        return this.utc().day();
      }),
      (e.prototype.getUTCFullYear = function () {
        return this.utc().year();
      }),
      (e.prototype.getUTCHours = function () {
        return this.utc().hours();
      }),
      (e.prototype.getUTCMilliseconds = function () {
        return this.utc().milliseconds();
      }),
      (e.prototype.getUTCMinutes = function () {
        return this.utc().minutes();
      }),
      (e.prototype.getUTCMonth = function () {
        return this.utc().month();
      }),
      (e.prototype.getUTCSeconds = function () {
        return this.utc().seconds();
      }),
      (e.prototype.setMilliseconds = function (e) {
        return this.m.set({ millisecond: e }).milliseconds();
      }),
      (e.prototype.setSeconds = function (e, t) {
        return this.m.set({ seconds: e, milliseconds: t }).seconds();
      }),
      (e.prototype.setMinutes = function (e, t, n) {
        return this.m.set({ minutes: e, seconds: t, milliseconds: n }).minutes();
      }),
      (e.prototype.setHours = function (e, t, n, s) {
        return this.m.set({ hours: e, minutes: t, seconds: n, milliseconds: s }).hours();
      }),
      (e.prototype.setDate = function (e) {
        return this.m.set({ date: e }).date();
      }),
      (e.prototype.setMonth = function (e, t) {
        return this.m.set({ month: e, date: t }).month();
      }),
      (e.prototype.setFullYear = function (e, t, n) {
        return this.m.set({ year: e, month: t, date: n }).year();
      }),
      (e.prototype.setTime = function (e) {
        return this.init(e), this.m.valueOf();
      }),
      (e.prototype.setTimezone = function (e) {
        (this.timezone = Un(e)), this.m.tz(this.timezone);
      }),
      (e.prototype.setUTCMilliseconds = function (e) {
        return 0;
      }),
      (e.prototype.setUTCSeconds = function (e, t) {
        return 0;
      }),
      (e.prototype.setUTCMinutes = function (e, t, n) {
        return 0;
      }),
      (e.prototype.setUTCHours = function (e, t, n, s) {
        return 0;
      }),
      (e.prototype.setUTCDate = function (e) {
        return 0;
      }),
      (e.prototype.setUTCMonth = function (e, t) {
        return 0;
      }),
      (e.prototype.setUTCFullYear = function (e, t, n) {
        return 0;
      }),
      (e.prototype.toUTCString = function () {
        return '';
      }),
      (e.prototype.toTimeString = function () {
        return '';
      }),
      (e.prototype.toLocaleDateString = function () {
        return '';
      }),
      (e.prototype.toLocaleTimeString = function () {
        return '';
      }),
      (e.prototype.init = function (e) {
        var t = An.moment.tz,
          n = Q(e) || Z(e) || J(e) || q(e) ? e : +e,
          s = Z(e) && Et.test(e);
        this.m = s ? t(n, 'HH:mm:ss', this.timezone) : t(n, this.timezone);
      }),
      (e.prototype.utc = function () {
        return this.m.clone().utc();
      }),
      e
    );
  })(),
  An = {
    moment: undefined,
    parse: function (e, t) {
      return new Wn(e, t.dataTimezone || t.displayTimezone);
    },
    createDate: function (e, t, n, s, a, i, o, r) {
      var l = e.displayTimezone;
      return ee(t) || Z(t) || Q(n)
        ? new Wn(t, l)
        : new Wn([t || 1970, n || 0, s || 1, a || 0, i || 0, o || 0, r || 0], l);
    },
  },
  Vn = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t.state = { activeDate: undefined, eventList: [], popoverList: [], selectedDate: undefined }),
        (t.print = se),
        (t._pageLoad = 0),
        (t._selectedDates = {}),
        (t._shouldScrollSchedule = 0),
        (t._update = 0),
        (t._onScroll = re(function () {
          if (!t._isListScrolling && !t._viewChanged)
            for (var e in t._listDays)
              if (t._listDays[e]) {
                var n = t._listDays[e];
                if (n.offsetTop + n.offsetHeight - t._list.scrollTop > 0) {
                  +e !== t._selected &&
                    ((t._shouldSkipScroll = !0),
                    t.setState({ selectedDate: +e }),
                    t._selectedChange(new Date(+e)));
                  break;
                }
              }
        })),
        (t._isListScrolling = 0),
        (t._onWeekDayClick = function (e) {
          e !== t._selected &&
            ((t._skipScheduleScroll = !0), t.setState({ selectedDate: e }), t._selectedChange(new Date(e)));
        }),
        (t._onDayClick = function (e) {
          var n = e.date,
            s = +n,
            a = zt(n),
            i = t.state,
            o = hn(t._eventMap[a], t.s.eventOrder),
            r = t._showEventPopover,
            l = undefined === r ? !t._showEventLabels && !t._showEventList && !t._showSchedule : r,
            c = !1 !== r && t._moreLabelClicked,
            d = (l || c) && (!i.showPopover || (i.showPopover && s !== i.popoverDate)) && o && o.length > 0;
          (e.events = o),
            t._isEventClick || t._resetSelection(),
            t._hook('onCellClick', e),
            (t._moreLabelClicked = !1),
            e.disabled ||
              (t.setState({ selectedDate: s }),
              s !== t._selected && ((t._skipScheduleScroll = !0), t._selectedChange(n))),
            d &&
              setTimeout(function () {
                (t._anchor = e.target),
                  (t._popoverClass = t._popoverClass.replace(' mbsc-popover-hidden', '')),
                  t.setState({
                    popoverDate: s,
                    popoverList: o.map(function (e) {
                      return t._getEventData(e, n);
                    }),
                    showPopover: !0,
                  });
              }),
            (t._isEventClick = !1);
        }),
        (t._onActiveChange = function (e) {
          var n = t._getValidDay(e.date, e.dir),
            s = { activeDate: n };
          (t._active = n),
            t._update++,
            (t._skipScheduleScroll = e.pageChange && !e.nav),
            (e.pageChange || e.today) && ((s.selectedDate = n), t._selectedChange(new Date(n))),
            t.setState(s);
        }),
        (t._onGestureStart = function (e) {
          t._hidePopover();
        }),
        (t._onDayDoubleClick = function (e) {
          t._dayClick('onCellDoubleClick', e);
        }),
        (t._onDayRightClick = function (e) {
          t._dayClick('onCellRightClick', e);
        }),
        (t._onCellHoverIn = function (e) {
          (e.events = t._eventMap[zt(e.date)]), t._hook('onCellHoverIn', e);
        }),
        (t._onCellHoverOut = function (e) {
          (e.events = t._eventMap[zt(e.date)]), t._hook('onCellHoverOut', e);
        }),
        (t._onEventHoverIn = function (e) {
          t._hoverTimer = setTimeout(function () {
            (t._isHover = !0), t._eventClick('onEventHoverIn', e);
          }, 150);
        }),
        (t._onEventHoverOut = function (e) {
          clearTimeout(t._hoverTimer), t._isHover && ((t._isHover = !1), t._eventClick('onEventHoverOut', e));
        }),
        (t._onEventClick = function (e) {
          var n = t.s;
          t._handleMultipleSelect(e),
            !1 === t._eventClick('onEventClick', e) ||
              n.selectMultipleEvents ||
              n.eventDelete ||
              ((n.dragToCreate || n.clickToCreate) && !n.eventDelete) ||
              t._hidePopover();
        }),
        (t._onEventDoubleClick = function (e) {
          t._eventClick('onEventDoubleClick', e);
        }),
        (t._onEventRightClick = function (e) {
          t._eventClick('onEventRightClick', e);
        }),
        (t._onEventDragEnd = function (e) {
          t._hook('onEventDragEnd', e);
        }),
        (t._onEventDragStart = function (e) {
          t._hook('onEventDragStart', e);
        }),
        (t._onLabelHoverIn = function (e) {
          t._hoverTimer = setTimeout(function () {
            (t._isHover = !0), t._labelClick('onEventHoverIn', e);
          }, 150);
        }),
        (t._onLabelHoverOut = function (e) {
          clearTimeout(t._hoverTimer), t._isHover && ((t._isHover = !1), t._labelClick('onEventHoverOut', e));
        }),
        (t._onLabelClick = function (e) {
          t._handleMultipleSelect(e),
            t._hook('onLabelClick', e),
            t._labelClick('onEventClick', e),
            (t._isEventClick = !0),
            e.label || (t._moreLabelClicked = !0);
        }),
        (t._onLabelDoubleClick = function (e) {
          t._labelClick('onEventDoubleClick', e);
        }),
        (t._onLabelRightClick = function (e) {
          t._labelClick('onEventRightClick', e);
        }),
        (t._onCellClick = function (e) {
          t._resetSelection(), t._cellClick('onCellClick', e);
        }),
        (t._onCellDoubleClick = function (e) {
          t._cellClick('onCellDoubleClick', e);
        }),
        (t._onCellRightClick = function (e) {
          t._cellClick('onCellRightClick', e);
        }),
        (t._onPageChange = function (e) {
          setTimeout(function () {
            t._hidePopover();
          }),
            (t._isPageChange = !0),
            t._hook('onPageChange', e);
        }),
        (t._onPageLoading = function (e) {
          var n = t.s,
            s = Tn(t._events, e.viewStart, e.viewEnd, n);
          (t._colorsMap = Tn(n.colors, e.viewStart, e.viewEnd, n)),
            (t._invalidsMap = Tn(n.invalid, e.viewStart, e.viewEnd, n, !0)),
            (t._validsMap = Tn(n.valid, e.viewStart, e.viewEnd, n, !0)),
            (t._eventMap = s),
            (t._firstDay = Ut(e.firstDay, n, t._firstWeekDay)),
            (t._lastDay = e.lastDay),
            n.labels || (!t._showEventLabels && !t._showEventCount)
              ? n.marked || (e.inst._marksMap = s)
              : (e.inst._labelsMap = s),
            e.viewChanged && t._hook('onPageLoading', e);
        }),
        (t._onPageLoaded = function (e) {
          (t._shouldAnimateScroll = t._isPageChange), (t._isPageChange = !1);
          var n = t._showEventList || t._showSchedule || t._showTimeline,
            s = t._showSchedule ? t._scheduleType : t._showTimeline ? t._timelineType : t._eventListType;
          if (n && (!t._showCalendar || 'day' !== s)) {
            var a = t.s,
              i = e.month,
              o = t._showEventList && i && 'month' === s,
              r = o ? i : e.firstDay,
              l = o ? a.getDate(a.getYear(i), a.getMonth(i) + t._eventListSize, 1) : e.lastDay;
            t._setEventList(r, l);
          }
          t._hook('onPageLoaded', e);
        }),
        (t._onPopoverClose = function () {
          t._hidePopover();
        }),
        (t._onResize = function (e) {
          var n;
          if (t._showEventList && f) {
            var s = e.target,
              a = s.offsetHeight,
              i = s.getBoundingClientRect().top;
            n = a - t._list.getBoundingClientRect().top + i > 170;
          }
          t.setState({ height: e.height, isListScrollable: n, width: e.width });
        }),
        (t._onSelectedEventsChange = function (e) {
          t._emit('selectedEventsChange', e), t._hook('onSelectedEventsChange', { events: e });
        }),
        (t._getDragDates = function (e, n, s) {
          for (
            var a = {}, i = t._firstWeekDay, o = Ot(t.s, s.allDay, e, n, !0), r = Yt(Qt(o, 1)), l = Yt(e);
            l < r;
            l.setDate(l.getDate() + 1)
          ) {
            var c = l.getDay(),
              d = i - c > 0 ? 7 : 0;
            Wt(e, l) || c === i
              ? (a[zt(l)] = { event: s, width: 100 * Math.min(Rt(l, o) + 1, 7 + i - c - d) })
              : (a[zt(l)] = {});
          }
          return a;
        }),
        (t._onLabelUpdateModeOn = function (e) {
          var n = e.create ? t._tempEvent : e.data;
          if (n) {
            var s = qt(n.start),
              a = qt(n.end || s);
            t.setState({
              isTouchDrag: !0,
              labelDragData: {
                draggedEvent: n,
                originDates: e.external ? undefined : t._getDragDates(s, a, n),
              },
            });
          }
        }),
        (t._onLabelUpdateModeOff = function (e) {
          var n = e.create ? t._tempEvent : e.data;
          t._hook('onEventDragEnd', { domEvent: e.domEvent, event: n, source: 'calendar' }),
            t.setState({ isTouchDrag: !1, labelDragData: undefined });
        }),
        (t._onLabelUpdateStart = function (e) {
          var n = t.s,
            s = t._el,
            a = t._showWeekNumbers
              ? s.querySelector('.mbsc-calendar-week-nr').getBoundingClientRect().width
              : 0,
            i =
              s.querySelectorAll('.mbsc-calendar-slide')[
                'all' === t._calendarLabelList || G(t._calendarLabelList) ? 0 : 1
              ],
            o = i.getBoundingClientRect(),
            r = s.querySelector('.mbsc-calendar-week-days'),
            c = i.querySelectorAll('.mbsc-calendar-row'),
            d = /click/.test(e.domEvent.type);
          if (((t._areaTop = 0), r)) {
            var h = r.getBoundingClientRect();
            t._areaTop = h.top + h.height;
          }
          (t._areaLeft = o.left + (n.rtl ? 0 : a)),
            (t._areaBottom = o.top + o.height),
            (t._areaRight = t._areaLeft + o.width - (n.rtl ? a : 0)),
            (t._calCellWidth = (t._areaRight - t._areaLeft) / 7);
          var u = 0;
          if (
            ((t._rowTops = []),
            c.forEach(function (n, s) {
              var a = n.getBoundingClientRect().top - t._areaTop;
              t._rowTops.push(a), e.endY - t._areaTop > a && (u = s);
            }),
            e.create)
          ) {
            var m = oe((n.rtl ? t._areaRight - e.endX : e.endX - t._areaLeft) / t._calCellWidth),
              _ = Qt(t._firstDay, 7 * u + m),
              v = new Date(_.getFullYear(), _.getMonth(), _.getDate()),
              p = Qt(v, 1),
              f = n.exclusiveEndDates ? p : new Date(+p - 1),
              g = n.extendDefaultEvent ? n.extendDefaultEvent({ start: v }) : undefined;
            t._tempEvent = l({ allDay: !0, end: f, id: Mn(), start: v, title: n.newEventText }, e.event, g);
          }
          d ||
            t._hook('onEventDragStart', {
              domEvent: e.domEvent,
              event: e.create ? t._tempEvent : e.data,
              source: 'calendar',
            });
        }),
        (t._onLabelUpdateMove = function (e) {
          var n = t.s,
            s = e.create ? t._tempEvent : e.data,
            a = s.allDay ? undefined : n;
          if (
            e.endY > t._areaTop &&
            e.endY < t._areaBottom &&
            e.endX > t._areaLeft &&
            e.endX < t._areaRight
          ) {
            var i = t.state.labelDragData,
              o = oe((n.rtl ? t._areaRight - e.endX : e.endX - t._areaLeft) / t._calCellWidth),
              r = oe((n.rtl ? t._areaRight - e.startX : e.startX - t._areaLeft) / t._calCellWidth),
              c = 0,
              d = 0;
            t._rowTops.forEach(function (n, s) {
              e.startY - t._areaTop > n && (d = s), e.endY - t._areaTop > n && (c = s);
            });
            var h = 7 * (c - d) + (o - r);
            if (o !== t._tempDay || c !== t._tempWeek) {
              var u = qt(s.start, a),
                m = qt(s.end, a) || u,
                _ = l({}, s),
                v = u,
                p = m;
              if (e.external) {
                var f = Lt(u),
                  g = +m - +u;
                (v = jt(n, +Qt(t._firstDay, 7 * c + o) + f)), (p = jt(n, +v + g));
              } else if (e.drag) (v = Qt(u, h)), (p = Qt(m, h));
              else {
                var y = n.rtl ? -1 : 1,
                  b = e.create ? (c === d ? e.deltaX * y > 0 : h > 0) : 'end' === e.direction,
                  D = Rt(u, m);
                b ? (p = Qt(m, Math.max(-D, h))) : (v = Qt(u, Math.min(D, h))),
                  p < v && (b ? (p = jt(a, v)) : (v = jt(a, p)));
              }
              (_.start = v),
                (_.end = p),
                /mbsc-popover-hidden/.test(t._popoverClass) ||
                  (t._popoverClass = t._popoverClass + ' mbsc-popover-hidden'),
                t.setState({
                  labelDragData: {
                    draggedDates: t._getDragDates(v, p, _),
                    draggedEvent: _,
                    originDates: i && i.originDates,
                  },
                }),
                (t._tempDay = o),
                (t._tempWeek = c);
            }
          }
        }),
        (t._onLabelUpdateEnd = function (e) {
          var n = t.state,
            s = e.create,
            a = n.labelDragData || {},
            i = s ? t._tempEvent : e.data,
            o = a.draggedEvent || i,
            r = qt(i.start),
            l = qt(i.end),
            c = qt(o.start),
            d = qt(o.end),
            h = s || +r != +c || +l != +d,
            u = { allDay: i.allDay, endDate: d, original: i, startDate: c },
            m = e.action || (a.draggedEvent ? 'drag' : 'click'),
            _ =
              !h ||
              t._onEventDragStop({
                action: m,
                collision: Hn(
                  t.s,
                  t._invalidsMap,
                  t._validsMap,
                  c,
                  d,
                  t._minDate,
                  t._maxDate,
                  t.s.invalidateEvent,
                  t.s.exclusiveEndDates,
                ),
                create: s,
                domEvent: e.domEvent,
                event: u,
                source: 'calendar',
              }),
            v = n.isTouchDrag && (!s || _);
          v ||
            'click' === m ||
            t._hook('onEventDragEnd', { domEvent: e.domEvent, event: i, source: 'calendar' }),
            t.setState({
              isTouchDrag: v,
              labelDragData: v
                ? { draggedEvent: o, originDates: _ ? t._getDragDates(c, d, u.original) : a.originDates }
                : {},
            }),
            e.drag && t._hidePopover(),
            (t._tempWeek = -1),
            (t._tempDay = -1);
        }),
        (t._onEventDragStop = function (e) {
          var n = t.s,
            s = e.action,
            a = e.resource,
            i = e.slot,
            o = e.collision,
            r = e.create,
            c = e.source,
            d = e.event,
            h = d.original,
            u = h.recurring ? h.original : h,
            m = l({}, u),
            _ = l({}, u),
            v = Tt(h.start, n),
            p = Tt(d.startDate, n),
            f = Tt(d.endDate, n),
            g = d.allDay,
            y = _.recurring;
          y
            ? (_.recurringException = kn(_.recurringException).concat([v]))
            : ((_.allDay = g),
              (_.start = p),
              (_.end = f),
              undefined !== a && (_.resource = a),
              undefined !== i && (_.slot = i));
          var b = !1,
            D = y ? l({}, u) : u;
          if (
            ((r || y) &&
              (y && delete D.recurring,
              (y || undefined === D.id) && (D.id = Mn()),
              undefined !== a && (D.resource = a),
              undefined !== i && (D.slot = i),
              (D.start = p),
              (D.end = f),
              (D.allDay = g),
              (b =
                !1 !==
                t._hook(
                  'onEventCreate',
                  l({ action: s, domEvent: e.domEvent, event: D, source: c }, y && { originEvent: h }),
                )),
              !1 !== o &&
                ((b = !1),
                t._hook(
                  'onEventCreateFailed',
                  l({ action: s, event: D, invalid: o, source: c }, y && { originEvent: h }),
                ))),
            (r && !y) ||
              ((b =
                !1 !==
                t._hook(
                  'onEventUpdate',
                  l(
                    { domEvent: e.domEvent, event: _, oldEvent: m, source: c },
                    y && { newEvent: D, oldEventOccurrence: h },
                  ),
                )),
              !1 !== o &&
                ((b = !1),
                t._hook(
                  'onEventUpdateFailed',
                  l(
                    { event: _, invalid: o, oldEvent: m, source: c },
                    y && { newEvent: D, oldEventOccurrence: h },
                  ),
                ))),
            b &&
              ((r || y) && (t._events.push(D), (t._triggerCreated = { action: s, event: D, source: c })),
              (r && !y) ||
                (y
                  ? ((d.id = D.id), (d.original = D), (u.recurringException = _.recurringException))
                  : ((u.start = p),
                    (u.end = f),
                    (u.allDay = g),
                    undefined !== a && (u.resource = a),
                    undefined !== i && (u.slot = i)),
                (t._triggerUpdated = { event: u, oldEvent: m, source: c })),
              (t._refresh = !0),
              'calendar' !== c))
          ) {
            var C = void 0,
              k = void 0;
            t._showCalendar && 'day' === t._scheduleType
              ? (k = Yt(Qt((C = new Date(t._selected)), 1)))
              : ((C = t._firstDay), (k = t._lastDay)),
              (t._eventMap = Tn(t._events, C, k, n)),
              t.forceUpdate();
          }
          return b;
        }),
        (t._onExternalDrag = function (e) {
          if (t.s.externalDrop && t._showCalendar)
            switch (e.eventName) {
              case 'onDragModeOff':
                t._onLabelUpdateModeOff(e);
                break;
              case 'onDragModeOn':
                t._onLabelUpdateModeOn(e);
                break;
              case 'onDragStart':
                t._onLabelUpdateStart(e);
                break;
              case 'onDragMove':
                var n = e.clone;
                e.endY > t._areaTop && e.endY < t._areaBottom && e.endX > t._areaLeft && e.endX < t._areaRight
                  ? ((n.style.display = 'none'), t._onLabelUpdateMove(e), (t._onCalendar = !0))
                  : t._onCalendar &&
                    ((n.style.display = 'table'),
                    t.setState({ labelDragData: {} }),
                    (t._tempWeek = -1),
                    (t._tempDay = -1),
                    (t._onCalendar = !1));
                break;
              case 'onDragEnd':
                e.endY > t._areaTop && e.endY < t._areaBottom && e.endX > t._areaLeft && e.endX < t._areaRight
                  ? t._onLabelUpdateEnd(e)
                  : (t.setState({ labelDragData: undefined }),
                    t._hook('onEventDragEnd', { domEvent: e.domEvent, event: e.event, source: 'calendar' }));
            }
        }),
        (t._onEventDelete = function (e) {
          var n,
            s = t.s;
          if ((undefined !== s.eventDelete || s.dragToCreate || s.clickToCreate) && !1 !== s.eventDelete) {
            for (
              var a,
                i,
                o,
                r = !1,
                c = !1,
                d = !1,
                h = e.event,
                u = s.selectMultipleEvents,
                m = u ? t._selectedEventsMap : (((n = {})[h.id] = h), n),
                _ = [],
                v = [],
                p = [],
                f = {},
                g = [],
                y = 0,
                b = he(m);
              y < b.length;
              y++
            ) {
              var D = b[y];
              if (D.recurring) {
                c = !0;
                var C = (a = D.original).id;
                f[C]
                  ? (o = f[C])
                  : ((i = l({}, a)), (o = l({}, a)), v.push(a), _.push(i), p.push(o), (f[C] = o));
                var k = Tt(D.start, s);
                o.recurringException = kn(o.recurringException).concat([k]);
              } else (d = !0), (h = D), g.push(D);
            }
            if (c)
              if (
                !1 !==
                t._hook('onEventUpdate', {
                  domEvent: e.domEvent,
                  event: o,
                  events: u ? p : undefined,
                  isDelete: !0,
                  oldEvent: u ? undefined : i,
                  oldEvents: u ? _ : undefined,
                })
              ) {
                r = !0;
                for (var x = 0, T = v; x < T.length; x++) {
                  var w = T[x],
                    S = f[w.id];
                  w.recurringException = S.recurringException;
                }
                t._triggerUpdated = {
                  event: a,
                  events: u ? v : undefined,
                  oldEvent: u ? undefined : i,
                  oldEvents: u ? _ : undefined,
                  source: e.source,
                };
              }
            if (d)
              !1 !==
                t._hook('onEventDelete', { domEvent: e.domEvent, event: h, events: u ? g : undefined }) &&
                ((r = !0),
                (t._events = t._events.filter(function (e) {
                  return !m[e.id];
                })),
                (t._selectedEventsMap = {}),
                (t._triggerDeleted = { event: h, events: u ? g : undefined, source: e.source }));
            r && (t._hidePopover(), t.refresh());
          }
        }),
        (t._onKeyDown = function (e) {
          9 === e.keyCode && t._resetSelection();
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype.addEvent = function (e) {
        for (var t = [], n = 0, s = Nn(q(e) ? e : [e]); n < s.length; n++) {
          var a = s[n];
          t.push('' + a.id), this._events.push(a);
        }
        return this.refresh(), t;
      }),
      (t.prototype.getEvents = function (e, t) {
        return En(this._events, this.s, this._firstDay, this._lastDay, e, t);
      }),
      (t.prototype.getInvalids = function (e, t) {
        return En(this.s.invalid, this.s, this._firstDay, this._lastDay, e, t);
      }),
      (t.prototype.getSelectedEvents = function () {
        return he(this._selectedEventsMap);
      }),
      (t.prototype.setEvents = function (e) {
        for (var t = [], n = Nn(e), s = 0, a = n; s < a.length; s++) {
          var i = a[s];
          t.push('' + i.id);
        }
        return (this._events = n), this.refresh(), t;
      }),
      (t.prototype.setSelectedEvents = function (e) {
        (this._selectedEventsMap = (e || []).reduce(function (e, t) {
          return t.occurrenceId ? (e[t.occurrenceId] = t) : (e[t.id] = t), e;
        }, {})),
          this.forceUpdate();
      }),
      (t.prototype.removeEvent = function (e) {
        for (var t = q(e) ? e : [e], n = this._events, s = n.length, a = 0, i = t; a < i.length; a++)
          for (var o = i[a], r = !1, l = 0; !r && l < s; ) {
            var c = n[l];
            (c.id !== o && c.id !== o.id) || ((r = !0), n.splice(l, 1)), l++;
          }
        this.refresh();
      }),
      (t.prototype.navigate = function (e, t) {
        var n = +qt(e),
          s = n !== this._selectedDateTime;
        s && (this._shouldAnimateScroll = !!t),
          undefined === this.s.selectedDate
            ? (!this._showSchedule && !this._showTimeline) || s
              ? this.setState({ selectedDate: n })
              : (this._shouldScrollSchedule++, this.forceUpdate())
            : s && this._selectedChange(e);
      }),
      (t.prototype.updateEvent = function (e) {
        for (var t = q(e) ? e : [e], n = this._events, s = n.length, a = 0, i = t; a < i.length; a++)
          for (var o = i[a], r = !1, c = 0; !r && c < s; ) {
            n[c].id === o.id && ((r = !0), n.splice(c, 1, l({}, o))), c++;
          }
        this.refresh();
      }),
      (t.prototype.refresh = function () {
        (this._refresh = !0), this.forceUpdate();
      }),
      (t.prototype._isToday = function (e) {
        return Wt(new Date(e), new Date());
      }),
      (t.prototype._render = function (e, t) {
        var n,
          s,
          a,
          i = this,
          o = this._prevS,
          r = this._showDate,
          l = e.displayTimezone !== o.displayTimezone || e.dataTimezone !== o.dataTimezone,
          c = !1;
        if (
          ((this._colorEventList =
            undefined === e.eventTemplate && undefined === e.renderEvent && e.colorEventList),
          undefined === e.exclusiveEndDates && (e.exclusiveEndDates = !!e.displayTimezone),
          $(e.min) ? (this._minDate = -1 / 0) : o.min !== e.min && (this._minDate = +qt(e.min)),
          $(e.max) ? (this._maxDate = 1 / 0) : o.max !== e.max && (this._maxDate = +qt(e.max)),
          undefined !== e.selectedDate
            ? (s = +qt(e.selectedDate))
            : (this._defaultDate ||
                (this._defaultDate = +(undefined !== e.defaultSelectedDate
                  ? qt(e.defaultSelectedDate)
                  : new Date())),
              (s = t.selectedDate || this._defaultDate)),
          (this.eventList = t.eventList),
          e.data !== o.data && ((this._events = Nn(e.data)), (this._refresh = !0)),
          (e.invalid !== o.invalid || e.colors !== o.colors || l) && (this._refresh = !0),
          e.view !== o.view || e.firstDay !== o.firstDay)
        ) {
          var d = e.firstDay,
            h = e.view || {},
            u = h.agenda || {},
            m = h.calendar || {},
            _ = h.schedule || {},
            v = h.timeline || {},
            p = +(u.size || 1),
            f = u.type || 'month',
            g = +(_.size || 1),
            y = _.type || 'week',
            b = undefined !== _.startDay ? _.startDay : d,
            D = undefined !== _.endDay ? _.endDay : (d + 6) % 7,
            C = _.startTime,
            k = _.endTime,
            x = _.timeCellStep || 60,
            T = _.timeLabelStep || 60,
            w = _.timezones,
            S = !!h.calendar,
            E = m.count,
            M = !!h.agenda,
            L = !!h.schedule,
            N =
              undefined !== _.days
                ? _.days
                : !S && L && !('day' === y && e.resources && e.resources.length > 0 && g < 2),
            H = !!h.timeline,
            I = v.weekNumbers,
            O = undefined !== v.startDay ? v.startDay : d,
            z = undefined !== v.endDay ? v.endDay : (d + 6) % 7,
            Y = v.startTime,
            P = v.endTime,
            R = H && !!e.slots && e.slots.length > 0,
            F = v.eventList || R,
            U = +(v.size || 1),
            W = v.type || 'week',
            A = 'month' === W || 'year' === W || F ? 1440 : 60,
            V = R ? A : v.timeCellStep || A,
            X = R ? A : v.timeLabelStep || A,
            B = m.type || 'month',
            K =
              undefined !== m.labels
                ? !!m.labels
                : !(M || L || H || e.marked || 'year' === B || ('month' === B && m.size));
          (this._calendarScroll = m.scroll),
            (this._calendarSize = m.size || 1),
            (this._calendarLabelList = m.labels),
            (this._calendarType = B),
            (this._showEventPopover = m.popover),
            (this._showOuterDays = m.outerDays),
            (this._showWeekNumbers = m.weekNumbers),
            (this._popoverClass = m.popoverClass || ''),
            (this._showScheduleAllDay = undefined === _.allDay || _.allDay),
            (p === this._eventListSize &&
              f === this._eventListType &&
              S === this._showCalendar &&
              E === this._showEventCount &&
              K === this._showEventLabels &&
              M === this._showEventList &&
              g === this._scheduleSize &&
              y === this._scheduleType &&
              L === this._showSchedule &&
              N === this._showScheduleDays &&
              b === this._scheduleStartDay &&
              D === this._scheduleEndDay &&
              C === this._scheduleStartTime &&
              k === this._scheduleEndTime &&
              x === this._scheduleTimeCellStep &&
              T === this._scheduleTimeLabelStep &&
              H === this._showTimeline &&
              O === this._timelineStartDay &&
              z === this._timelineEndDay &&
              Y === this._timelineStartTime &&
              P === this._timelineEndTime &&
              U === this._timelineSize &&
              W === this._timelineType &&
              V === this._timelineTimeCellStep &&
              X === this._timelineTimeLabelStep &&
              F === this._timelineListing) ||
              (this._refresh = !0),
            (this._eventListSize = p),
            (this._eventListType = f),
            (this._scheduleType = y),
            (this._showCalendar = S),
            (this._showEventCount = E),
            (this._showEventLabels = K),
            (this._showEventList = M),
            (this._showSchedule = L),
            (this._showScheduleDays = N),
            (this._scheduleStartDay = b),
            (this._scheduleEndDay = D),
            (this._scheduleStartTime = C),
            (this._scheduleEndTime = k),
            (this._scheduleSize = g),
            (this._scheduleTimeCellStep = x),
            (this._scheduleTimeLabelStep = T),
            (this._scheduleTimezones = w),
            (this._showTimeline = H),
            (this._showTimelineWeekNumbers = I),
            (this._timelineSize = U),
            (this._timelineType = W),
            (this._timelineStartDay = O),
            (this._timelineEndDay = z),
            (this._timelineListing = F),
            (this._timelineStartTime = Y),
            (this._timelineEndTime = P),
            (this._timelineTimeCellStep = V),
            (this._timelineTimeLabelStep = X),
            (this._timelineRowHeight = v.rowHeight),
            (this._rangeType = L ? y : H ? W : f),
            (this._rangeStartDay = L ? b : H ? O : undefined),
            (this._rangeEndDay = L ? D : H ? z : undefined),
            (this._firstWeekDay = L ? b : H ? O : d),
            (this._viewChanged = !0);
        }
        if (
          ((this._showDate =
            !this._showScheduleDays &&
            ((this._showSchedule && 'day' === this._scheduleType) ||
              (this._showEventList && 'day' === this._eventListType && this._eventListSize < 2))),
          (this._refresh || e.locale !== o.locale || e.theme !== o.theme) && ((c = !0), this._pageLoad++),
          e.resources !== o.resources &&
            (this._resourcesMap = (e.resources || []).reduce(function (e, t) {
              return (e[t.id] = t), e;
            }, {})),
          e.selectMultipleEvents &&
            e.selectedEvents !== o.selectedEvents &&
            (this._selectedEventsMap = (e.selectedEvents || []).reduce(function (e, t) {
              return t.occurrenceId ? (e[t.occurrenceId] = t) : (e[t.id] = t), e;
            }, {})),
          undefined === this._selectedEventsMap && (this._selectedEventsMap = {}),
          e.refDate !== o.refDate && (this._refDate = qt(e.refDate)),
          this._refDate ||
            this._showCalendar ||
            (!this._showSchedule && !this._showTimeline) ||
            (this._refDate = Yt(new Date())),
          s !== this._selectedDateTime || this._viewChanged)
        ) {
          var q =
            this._showCalendar && (this._showSchedule || this._showTimeline || this._showEventList)
              ? +(function (e, t, n, s, a, i, o) {
                  var r,
                    l,
                    c = !0,
                    d = !0,
                    h = 0,
                    u = 0;
                  +e < n && (e = jt(t, n)), +e > s && (e = jt(t, s));
                  var m = t.getYear(e),
                    _ = t.getMonth(e),
                    v = t.getDate(m, _ - 1, 1),
                    p = t.getDate(m, _ + 2, 1),
                    f = +v > n ? +v : n,
                    g = +p < s ? +p : s;
                  if (
                    (a || ((i = Tn(t.valid, v, p, t, !0)), (a = Tn(t.invalid, v, p, t, !0))),
                    !wn(t, e, a, i, n, s))
                  )
                    return e;
                  for (r = e, l = e; c && +r < g && h < 100; ) (c = wn(t, (r = Qt(r, 1)), a, i, n, s)), h++;
                  for (; d && +l > f && u < 100; ) (d = wn(t, (l = Qt(l, -1)), a, i, n, s)), u++;
                  return c && d
                    ? e
                    : 1 !== o || c
                    ? -1 !== o || d
                      ? At(e, r, t)
                        ? r
                        : At(e, l, t)
                        ? l
                        : u >= h && !c
                        ? r
                        : l
                      : l
                    : r;
                })(new Date(s), e, this._minDate, this._maxDate, undefined, undefined, 1)
              : j(s, this._minDate, this._maxDate);
          (q = this._getValidDay(q)),
            s !== q &&
              ((s = q),
              setTimeout(function () {
                i._selectedChange(new Date(s));
              })),
            this._skipScheduleScroll || s === this._selectedDateTime || this._shouldScrollSchedule++,
            (this._selectedDateTime = s);
        }
        ((n = +(a = Yt(new Date(s)))) === this._selected &&
          r === this._showDate &&
          e.locale === o.locale &&
          o.dateFormatLong === e.dateFormatLong) ||
          (this._selectedDateHeader = this._showDate ? Jt(e.dateFormatLong, a, e) : ''),
          (n === this._selected &&
            e.dataTimezone === o.dataTimezone &&
            e.displayTimezone === o.displayTimezone) ||
            ((this._shouldScroll = !this._isPageChange && !this._shouldSkipScroll),
            (this._shouldAnimateScroll =
              undefined !== this._shouldAnimateScroll
                ? this._shouldAnimateScroll
                : undefined !== this._selected),
            (this._selected = n),
            (this._selectedDates = {}),
            (this._selectedDates[+Kt(e, new Date(n))] = !0),
            (this._active = n),
            (c = !0)),
          c &&
            this._showCalendar &&
            ('day' === this._eventListType || 'day' === this._scheduleType || 'day' === this._timelineType) &&
            this._setEventList(a, Qt(a, 1)),
          this._refresh &&
            t.showPopover &&
            setTimeout(function () {
              i._hidePopover();
            }),
          (this._refresh = !1),
          (this._cssClass =
            this._className +
            ' mbsc-eventcalendar' +
            (this._showEventList ? ' mbsc-eventcalendar-agenda' : '') +
            (this._showSchedule ? ' mbsc-eventcalendar-schedule' : '') +
            (this._showTimeline ? ' mbsc-eventcalendar-timeline' : ''));
      }),
      (t.prototype._mounted = function () {
        (this._unsubscribe = yt(this._onExternalDrag)), Fe(this._el, 'keydown', this._onKeyDown);
      }),
      (t.prototype._updated = function () {
        var e = this;
        if (
          (this._shouldScroll &&
            this.state.isListScrollable &&
            (this._scrollToDay(), (this._shouldScroll = !1), (this._shouldAnimateScroll = undefined)),
          this._shouldLoadDays &&
            ((this._shouldLoadDays = !1),
            $e(this._list.querySelectorAll('[mbsc-timestamp]'), function (t) {
              e._listDays[t.getAttribute('mbsc-timestamp')] = t;
            })),
          this._shouldEnhance &&
            (this._shouldEnhance = 'popover' === this._shouldEnhance ? this._popoverList : this._list),
          this._triggerCreated)
        ) {
          var t = this._triggerCreated,
            n =
              'calendar' === t.source
                ? this._calendarView._body.querySelector(
                    '.mbsc-calendar-table-active .mbsc-calendar-text[data-id="' + t.event.id + '"]',
                  )
                : this._el.querySelector('.mbsc-schedule-event[data-id="' + t.event.id + '"]');
          this._hook('onEventCreated', l({}, this._triggerCreated, { target: n })),
            (this._triggerCreated = null);
        }
        if (this._triggerUpdated) {
          var s = this._triggerUpdated;
          n =
            'calendar' === s.source
              ? this._calendarView._body.querySelector(
                  '.mbsc-calendar-table-active .mbsc-calendar-text[data-id="' + s.event.id + '"]',
                )
              : this._el.querySelector('.mbsc-schedule-event[data-id="' + s.event.id + '"]');
          this._hook('onEventUpdated', l({}, this._triggerUpdated, { target: n })),
            (this._triggerUpdated = null);
        }
        this._triggerDeleted &&
          (this._hook('onEventDeleted', l({}, this._triggerDeleted)), (this._triggerDeleted = null)),
          this._viewChanged &&
            setTimeout(function () {
              e._viewChanged = !1;
            }, 10),
          this._shouldSkipScroll &&
            setTimeout(function () {
              e._shouldSkipScroll = !1;
            }),
          (this._skipScheduleScroll = !1);
      }),
      (t.prototype._destroy = function () {
        bt(this._unsubscribe), Ue(this._el, 'keydown', this._onKeyDown);
      }),
      (t.prototype._resetSelection = function () {
        this.s.selectMultipleEvents &&
          Object.keys(this._selectedEventsMap).length > 0 &&
          ((this._selectedEventsMap = {}), this._onSelectedEventsChange([]), this.forceUpdate());
      }),
      (t.prototype._getAgendaEvents = function (e, t, n) {
        var s = this,
          a = [],
          i = this.s;
        if (n && this._showEventList)
          for (
            var o = function (e) {
                var t = n[zt(e)];
                if (t && t.length) {
                  var o = hn(t, i.eventOrder);
                  a.push({
                    date: Jt(i.dateFormatLong, e, i),
                    events: o.map(function (t) {
                      return s._getEventData(t, e);
                    }),
                    timestamp: +e,
                  });
                }
              },
              r = Yt(e);
            r < t;
            r.setDate(r.getDate() + 1)
          )
            o(r);
        return a;
      }),
      (t.prototype._getEventData = function (e, t) {
        var n,
          s = this.s;
        if (!e.color && e.resource) {
          var a = q(e.resource) ? e.resource : [e.resource];
          n = (this._resourcesMap || {})[a[0]];
        }
        var i = Ln(s, e, t, this._colorEventList, s.timeFormat, s.allDayText, s.toText, n, !0);
        return (i.html = this._safeHtml(i.html)), i;
      }),
      (t.prototype._getValidDay = function (e, t) {
        void 0 === t && (t = 1);
        var n = this._rangeStartDay,
          s = this._rangeEndDay;
        if (!this._showCalendar && 'day' === this._rangeType && undefined !== n && undefined !== s) {
          var a = new Date(e),
            i = a.getDay(),
            o = 0;
          if (((s < n ? i > s && i < n : i > s || i < n) && (o = t < 0 ? s - i : n - i), o))
            return +Qt(a, (o += t < 0 ? (o > 0 ? -7 : 0) : o < 0 ? 7 : 0));
        }
        return e;
      }),
      (t.prototype._setEventList = function (e, t) {
        var n = this;
        setTimeout(function () {
          (n._eventListHTML = undefined),
            (n._shouldScroll = !0),
            (n._listDays = null),
            n._scrollToDay(0),
            n.setState({ eventList: n._getAgendaEvents(e, t, n._eventMap) });
        });
      }),
      (t.prototype._hidePopover = function () {
        this.state.showPopover && this.setState({ showPopover: !1 });
      }),
      (t.prototype._scrollToDay = function (e) {
        var t = this;
        if (this._list) {
          var n = e,
            s = void 0;
          if (undefined === e && this._listDays) {
            var a = this._listDays[this._selected];
            a && ((n = a.offsetTop), (s = this._shouldAnimateScroll));
          }
          undefined !== n &&
            (this._isListScrolling++,
            Ge(this._list, undefined, n, s, !1, function () {
              setTimeout(function () {
                t._isListScrolling--;
              }, 150);
            }));
        }
      }),
      (t.prototype._selectedChange = function (e) {
        this._emit('selectedDateChange', e), this._hook('onSelectedDateChange', { date: e });
      }),
      (t.prototype._cellClick = function (e, t) {
        this._hook(e, l({ target: t.domEvent.currentTarget }, t));
      }),
      (t.prototype._dayClick = function (e, t) {
        var n = zt(t.date),
          s = hn(this._eventMap[n], this.s.eventOrder);
        (t.events = s), this._hook(e, t);
      }),
      (t.prototype._labelClick = function (e, t) {
        t.label && this._hook(e, { date: t.date, domEvent: t.domEvent, event: t.label, source: 'calendar' });
      }),
      (t.prototype._eventClick = function (e, t) {
        return (t.date = new Date(t.date)), this._hook(e, t);
      }),
      (t.prototype._handleMultipleSelect = function (e) {
        var t = e.label || e.event;
        if (t && this.s.selectMultipleEvents) {
          var n = e.domEvent,
            s = n.shiftKey || n.ctrlKey || n.metaKey ? this._selectedEventsMap : {},
            a = t.occurrenceId || t.id;
          s[a] ? delete s[a] : (s[a] = t),
            (this._selectedEventsMap = l({}, s)),
            this._onSelectedEventsChange(he(s)),
            undefined === this.s.selectedEvents && this.forceUpdate();
        }
      }),
      (t.defaults = l({}, sn, {
        actionableEvents: !0,
        allDayText: 'All-day',
        data: [],
        dragTimeStep: 15,
        newEventText: 'New event',
        noEventsText: 'No events',
        showControls: !0,
        showEventTooltip: !0,
        view: { calendar: { type: 'month' } },
      })),
      (t._name = 'Eventcalendar'),
      t
    );
  })(at),
  Xn = e,
  Bn = t,
  Kn = undefined,
  jn = s,
  qn = a,
  Gn = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        return Bn(
          'span',
          { onClick: e.onClick, className: this._cssClass, dangerouslySetInnerHTML: this._svg },
          this._hasChildren && e.name,
        );
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        r(t, e),
        (t.prototype._render = function (e) {
          (this._hasChildren = !Z(e.name)),
            (this._cssClass =
              this._className +
              ' mbsc-icon' +
              this._theme +
              (e.name && !this._hasChildren
                ? -1 !== e.name.indexOf(' ')
                  ? ' ' + e.name
                  : ' mbsc-font-icon mbsc-icon-' + e.name
                : '')),
            (this._svg = e.svg ? this._safeHtml(e.svg) : undefined);
        }),
        t
      );
    })(at),
  ),
  Jn = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        var t = this.props,
          n = t.ariaLabel,
          s = t.children;
        t.className, t.color;
        var a = t.endIcon;
        t.endIconSrc;
        var i = t.endIconSvg;
        t.hasChildren;
        var o = t.icon;
        t.iconSrc;
        var r = t.iconSvg;
        t.ripple, t.rtl;
        var d = t.role,
          h = t.startIcon;
        t.startIconSrc;
        var u = t.startIconSvg;
        t.tag, t.tabIndex, t.theme, t.themeVariant, t.variant;
        var m = c(t, [
            'ariaLabel',
            'children',
            'className',
            'color',
            'endIcon',
            'endIconSrc',
            'endIconSvg',
            'hasChildren',
            'icon',
            'iconSrc',
            'iconSvg',
            'ripple',
            'rtl',
            'role',
            'startIcon',
            'startIconSrc',
            'startIconSvg',
            'tag',
            'tabIndex',
            'theme',
            'themeVariant',
            'variant',
          ]),
          _ = l({ 'aria-label': n, className: this._cssClass, ref: this._setEl }, m),
          v = Bn(
            jn,
            null,
            this._isIconOnly && Bn(Gn, { className: this._iconClass, name: o, svg: r, theme: e.theme }),
            this._hasStartIcon &&
              Bn(Gn, { className: this._startIconClass, name: h, svg: u, theme: e.theme }),
            s,
            this._hasEndIcon && Bn(Gn, { className: this._endIconClass, name: a, svg: i, theme: e.theme }),
          );
        return 'span' === e.tag
          ? Bn('span', l({ role: d, 'aria-disabled': e.disabled, tabIndex: this._tabIndex }, _), v)
          : 'a' === e.tag
          ? Bn('a', l({ 'aria-disabled': e.disabled, tabIndex: this._tabIndex }, _), v)
          : Bn('button', l({ role: d, tabIndex: this._tabIndex }, _), v);
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        r(t, e),
        (t.prototype._mounted = function () {
          var e = this;
          this._unlisten = ft(this._el, {
            click: !0,
            onBlur: function () {
              e.setState({ hasFocus: !1 });
            },
            onFocus: function () {
              e.setState({ hasFocus: !0 });
            },
            onHoverIn: function () {
              e.s.disabled || e.setState({ hasHover: !0 });
            },
            onHoverOut: function () {
              e.setState({ hasHover: !1 });
            },
            onKeyDown: function (t) {
              switch (t.keyCode) {
                case 13:
                case 32:
                  e._el.click(), t.preventDefault();
              }
            },
            onPress: function () {
              e.setState({ isActive: !0 });
            },
            onRelease: function () {
              e.setState({ isActive: !1 });
            },
            onStart: function () {
              return { ripple: e.s.ripple && !e.s.disabled };
            },
          });
        }),
        (t.prototype._render = function (e, t) {
          var n = this,
            s = e.disabled;
          (this._isIconOnly = !(!e.icon && !e.iconSvg)),
            (this._hasStartIcon = !(!e.startIcon && !e.startIconSvg)),
            (this._hasEndIcon = !(!e.endIcon && !e.endIconSvg)),
            (this._tabIndex = s ? undefined : e.tabIndex || 0),
            (this._cssClass =
              this._className +
              ' mbsc-reset mbsc-font mbsc-button' +
              this._theme +
              this._rtl +
              ' mbsc-button-' +
              e.variant +
              (this._isIconOnly ? ' mbsc-icon-button' : '') +
              (s ? ' mbsc-disabled' : '') +
              (e.color ? ' mbsc-button-' + e.color : '') +
              (t.hasFocus && !s ? ' mbsc-focus' : '') +
              (t.isActive && !s ? ' mbsc-active' : '') +
              (t.hasHover && !s ? ' mbsc-hover' : '')),
            (this._iconClass = 'mbsc-button-icon' + this._rtl),
            (this._startIconClass = this._iconClass + ' mbsc-button-icon-start'),
            (this._endIconClass = this._iconClass + ' mbsc-button-icon-end'),
            e.disabled &&
              t.hasHover &&
              setTimeout(function () {
                n.setState({ hasHover: !1 });
              });
        }),
        (t.prototype._destroy = function () {
          this._unlisten();
        }),
        (t.defaults = { ripple: !1, role: 'button', tag: 'button', variant: 'standard' }),
        (t._name = 'Button'),
        t
      );
    })(at),
  ),
  Zn = Xn({}),
  $n = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype.componentWillUnmount = function () {
        this._changes && this._changes.unsubscribe(this._handler);
      }),
      (t.prototype.render = function () {
        var e = this,
          t = this.props,
          n = t.host,
          s = t.component,
          a = t.view,
          i = c(t, ['host', 'component', 'view']),
          o = a || (n && n._calendarView);
        return (
          o &&
            !this._changes &&
            ((this._changes = o.s.instanceService.onComponentChange),
            (this._handler = this._changes.subscribe(function () {
              e.forceUpdate();
            }))),
          Bn(Zn.Consumer, null, function (e) {
            var t = e.instance || a || (n && n._calendarView);
            return t && Bn(s, l({ inst: t }, i));
          })
        );
      }),
      t
    );
  })(qn),
  Qn = function (e) {
    var t = e.inst,
      n = e.className;
    return Bn(Jn, {
      ariaLabel: t.s.prevPageText,
      className: 'mbsc-calendar-button ' + (n || ''),
      disabled: t._isPrevDisabled(),
      iconSvg: t._prevIcon,
      onClick: t.prevPage,
      theme: t.s.theme,
      themeVariant: t.s.themeVariant,
      type: 'button',
      variant: 'flat',
    });
  },
  es = function (e) {
    var t = e.inst,
      n = e.className;
    return Bn(Jn, {
      ariaLabel: t.s.nextPageText,
      disabled: t._isNextDisabled(),
      className: 'mbsc-calendar-button ' + (n || ''),
      iconSvg: t._nextIcon,
      onClick: t.nextPage,
      theme: t.s.theme,
      themeVariant: t.s.themeVariant,
      type: 'button',
      variant: 'flat',
    });
  },
  ts = function (e) {
    var t = e.inst,
      n = e.className;
    return Bn(
      Jn,
      {
        className: 'mbsc-calendar-button mbsc-calendar-button-today ' + (n || ''),
        onClick: t._onTodayClick,
        theme: t.s.theme,
        themeVariant: t.s.themeVariant,
        type: 'button',
        variant: 'flat',
      },
      t.s.todayText,
    );
  },
  ns = function (e) {
    var t = e.inst,
      n = e.className,
      s = t.s,
      a = t._theme,
      i = t._view;
    return Bn(
      'div',
      { 'aria-live': 'polite', className: (n || '') + a },
      t._title.map(function (e, n) {
        return (
          (1 === t._pageNr || 0 === n || t._hasPicker || 'month' === i) &&
          Bn(
            Jn,
            {
              className: 'mbsc-calendar-button',
              'data-index': n,
              onClick: t._onPickerBtnClick,
              key: n,
              theme: s.theme,
              themeVariant: s.themeVariant,
              type: 'button',
              variant: 'flat',
            },
            (t._hasPicker || 'month' === i) &&
              (e.title
                ? Bn('span', { className: 'mbsc-calendar-title' + a }, e.title)
                : Bn(
                    jn,
                    null,
                    t._yearFirst &&
                      Bn('span', { className: 'mbsc-calendar-title mbsc-calendar-year' + a }, e.yearTitle),
                    Bn('span', { className: 'mbsc-calendar-title mbsc-calendar-month' + a }, e.monthTitle),
                    !t._yearFirst &&
                      Bn('span', { className: 'mbsc-calendar-title mbsc-calendar-year' + a }, e.yearTitle),
                  )),
            !t._hasPicker &&
              'month' !== i &&
              Bn('span', { className: 'mbsc-calendar-title' + a }, t._viewTitle),
            s.downIcon && 1 === t._pageNr
              ? Bn(Gn, { svg: 'month' === i ? s.downIcon : s.upIcon, theme: s.theme })
              : null,
          )
        );
      }),
    );
  },
  ss = function (e) {
    var t = e.calendar,
      n = e.view,
      s = c(e, ['calendar', 'view']);
    return Bn($n, l({ component: Qn, host: t, view: n }, s));
  };
ss._name = 'CalendarPrev';
var as = function (e) {
  var t = e.calendar,
    n = e.view,
    s = c(e, ['calendar', 'view']);
  return Bn($n, l({ component: es, host: t, view: n }, s));
};
as._name = 'CalendarNext';
var is = function (e) {
  var t = e.calendar,
    n = e.view,
    s = c(e, ['calendar', 'view']);
  return Bn($n, l({ component: ts, host: t, view: n }, s));
};
is._name = 'CalendarToday';
var os = function (e) {
  var t = e.calendar,
    n = e.view,
    s = c(e, ['calendar', 'view']);
  return Bn($n, l({ component: ns, host: t, view: n }, s));
};
os._name = 'CalendarNav';
var rs,
  ls,
  cs = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype.render = function () {
        var e = this.props.context;
        return e ? i(this.props.children, e) : null;
      }),
      t
    );
  })(n),
  ds = 0;
function hs(e, t, n) {
  var s,
    a,
    i,
    o,
    r,
    l,
    c,
    d = 0;
  function h() {
    (a.style.width = '100000px'),
      (a.style.height = '100000px'),
      (s.scrollLeft = 1e5),
      (s.scrollTop = 1e5),
      (l.scrollLeft = 1e5),
      (l.scrollTop = 1e5);
  }
  function u() {
    var e = +new Date();
    (o = 0), c || (e - d > 200 && !s.scrollTop && !s.scrollLeft && ((d = e), h()), o || (o = Le(u)));
  }
  function m() {
    r || (r = Le(_));
  }
  function _() {
    (r = 0), h(), t();
  }
  return (
    Ce && Ce.ResizeObserver
      ? (rs ||
          (rs = new Ce.ResizeObserver(function (e) {
            r ||
              (r = Le(function () {
                for (var t = 0, n = e; t < n.length; t++) {
                  var s = n[t];
                  s.target.__mbscResize && s.target.__mbscResize();
                }
                r = 0;
              }));
          })),
        ds++,
        (e.__mbscResize = function () {
          n ? n.run(t) : t();
        }),
        rs.observe(e))
      : (i = De && De.createElement('div')),
    i &&
      ((i.innerHTML =
        '<div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-x"></div></div><div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-y"></div></div>'),
      (i.dir = 'ltr'),
      (l = i.childNodes[1]),
      (s = i.childNodes[0]),
      (a = s.childNodes[0]),
      e.appendChild(i),
      Fe(s, 'scroll', m),
      Fe(l, 'scroll', m),
      n
        ? n.runOutsideAngular(function () {
            Le(u);
          })
        : Le(u)),
    {
      detach: function () {
        rs
          ? (ds--, delete e.__mbscResize, rs.unobserve(e), ds || (rs = undefined))
          : (i && (Ue(s, 'scroll', m), Ue(l, 'scroll', m), e.removeChild(i), Ne(r), (i = undefined)),
            (c = !0));
      },
    }
  );
}
var us = 'input,select,textarea,button',
  ms = 'textarea,button,input[type="button"],input[type="submit"]',
  _s = us + ',[tabindex="0"]',
  vs = { enter: 13, esc: 27, space: 32 },
  ps = f && /(iphone|ipod)/i.test(y) && u >= 7 && u < 15;
function fs(e, t) {
  void 0 === t && (t = 0);
  var n = e._prevModal;
  if (n && n !== e && t < 10) return n.isVisible() ? n : fs(n, t + 1);
}
var gs = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._lastFocus = +new Date()),
        (t._onOverlayClick = function () {
          t._isOpen && t.s.closeOnOverlayClick && !t._preventClose && t._close('overlay'),
            (t._preventClose = !1);
        }),
        (t._onDocClick = function (e) {
          t.s.showOverlay || e.target === t.s.focusElm || ls !== t || t._onOverlayClick();
        }),
        (t._onMouseDown = function (e) {
          t.s.showOverlay || (t._target = e.target);
        }),
        (t._onMouseUp = function (e) {
          t._target &&
            t._popup &&
            t._popup.contains(t._target) &&
            !t._popup.contains(e.target) &&
            (t._preventClose = !0),
            (t._target = !1);
        }),
        (t._onPopupClick = function () {
          t.s.showOverlay || (t._preventClose = !0);
        }),
        (t._onAnimationEnd = function (e) {
          e.target === t._popup &&
            (t._isClosing &&
              (t._onClosed(),
              (t._isClosing = !1),
              t.state.isReady ? t.setState({ isReady: !1 }) : t.forceUpdate()),
            t._isOpening && (t._onOpened(), (t._isOpening = !1), t.forceUpdate()));
        }),
        (t._onButtonClick = function (e) {
          var n = e.domEvent,
            s = e.button;
          t._hook('onButtonClick', { domEvent: n, button: s }),
            /cancel|close|ok|set/.test(s.name) && t._close(s.name);
        }),
        (t._onFocus = function (e) {
          var n = +new Date();
          ls === t &&
            e.target.nodeType &&
            t._ctx.contains(e.target) &&
            !t._popup.contains(e.target) &&
            n - t._lastFocus > 100 &&
            e.target !== t.s.focusElm &&
            ((t._lastFocus = n), t._active.focus());
        }),
        (t._onKeyDown = function (e) {
          var n = t.s,
            s = e.keyCode,
            a = n.focusElm && !n.focusOnOpen ? n.focusElm : undefined;
          if (
            (((32 === s && !Ze(e.target, us)) || (t._lock && (38 === s || 40 === s))) && e.preventDefault(),
            n.focusTrap && 9 === s)
          ) {
            var i = t._popup.querySelectorAll(_s),
              o = [],
              r = -1,
              l = 0,
              c = -1,
              d = undefined;
            $e(i, function (e) {
              e.disabled ||
                (!e.offsetHeight && !e.offsetWidth) ||
                (o.push(e), r++, e === t._doc.activeElement && (c = r));
            }),
              e.shiftKey && ((l = r), (r = 0)),
              c === r ? (d = a || o[l]) : e.target === a && (d = o[l]),
              d && (d.focus(), e.preventDefault());
          }
        }),
        (t._onContentScroll = function (e) {
          !t._lock || ('touchmove' === e.type && 'stylus' === e.touches[0].touchType) || e.preventDefault();
        }),
        (t._onScroll = function (e) {
          var n = t.s;
          n.closeOnScroll ? t._close('scroll') : (t._hasContext || 'anchored' === n.display) && t.position();
        }),
        (t._onWndKeyDown = function (e) {
          var n = t.s,
            s = e.keyCode;
          if (ls === t) {
            if (
              (t._hook('onKeyDown', { keyCode: s }),
              n.closeOnEsc && 27 === s && t._close('esc'),
              13 === s && Ze(e.target, ms) && !e.shiftKey)
            )
              return;
            if (t._buttons)
              for (var a = 0, i = t._buttons; a < i.length; a++)
                for (var o = i[a], r = 0, l = q(o.keyCode) ? o.keyCode : [o.keyCode]; r < l.length; r++) {
                  var c = l[r];
                  if (!o.disabled && undefined !== c && (c === s || vs[c] === s)) return void o.handler(e);
                }
          }
        }),
        (t._onResize = function () {
          var e = t._wrapper,
            n = t._hasContext;
          (t._vpWidth = Math.min(e.clientWidth, n ? 1 / 0 : t._win.innerWidth)),
            (t._vpHeight = Math.min(e.clientHeight, n ? 1 / 0 : t._win.innerHeight)),
            (t._maxWidth = t._limitator.offsetWidth),
            (t._maxHeight =
              undefined !== t.s.maxHeight || t._vpWidth < 768 || t._vpHeight < 650
                ? t._limitator.offsetHeight
                : 600),
            (t._round =
              !1 === t.s.touchUi || (t._popup.offsetWidth < t._vpWidth && t._vpWidth > t._maxWidth));
          var s = {
            isLarge: t._round,
            maxPopupHeight: t._maxHeight,
            maxPopupWidth: t._maxWidth,
            target: t._wrapper,
            windowHeight: t._vpHeight,
            windowWidth: t._vpWidth,
          };
          !1 === t._hook('onResize', s) || s.cancel || t.position();
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype.open = function () {
        this._isOpen || this.setState({ isOpen: !0 });
      }),
      (t.prototype.close = function () {
        this._close();
      }),
      (t.prototype.isVisible = function () {
        return !!this._isOpen;
      }),
      (t.prototype.position = function () {
        if (this._isOpen) {
          var e = this.s,
            t = this.state,
            n = this._wrapper,
            s = this._popup,
            a = this._hasContext,
            i = e.anchor,
            o = e.anchorAlign,
            r = e.rtl,
            l = Xe(this._scrollCont),
            c = Ve(this._scrollCont),
            d = this._vpWidth,
            h = this._vpHeight,
            u = this._maxWidth,
            m = this._maxHeight,
            _ = Math.min(s.offsetWidth, u),
            v = Math.min(s.offsetHeight, m),
            p = e.showArrow;
          (this._lock = e.scrollLock && this._content.scrollHeight <= this._content.clientHeight),
            a && ((n.style.top = l + 'px'), (n.style.left = c + 'px'));
          var f =
            !1 ===
            this._hook('onPosition', {
              isLarge: this._round,
              maxPopupHeight: m,
              maxPopupWidth: u,
              target: this._wrapper,
              windowHeight: h,
              windowWidth: d,
            });
          if ('anchored' !== e.display || f)
            this.setState({ height: h, isReady: !0, showArrow: p, width: d });
          else {
            var g = 0,
              y = 0,
              b = j(t.modalLeft || 0, 8, d - _ - 8),
              D = t.modalTop || 8,
              C = 'bottom',
              k = {},
              x = p ? 16 : 4,
              T = (n.offsetWidth - d) / 2,
              w = (n.offsetHeight - h) / 2;
            if (a) {
              var S = this._ctx.getBoundingClientRect();
              (y = S.top), (g = S.left);
            }
            if (i && this._ctx.contains(i)) {
              var E = i.getBoundingClientRect(),
                M = E.top - y,
                L = E.left - g,
                N = i.offsetWidth,
                H = i.offsetHeight;
              if (
                ((b = j(
                  (b =
                    ('start' === o && !r) || ('end' === o && r)
                      ? L
                      : ('end' === o && !r) || ('start' === o && r)
                      ? L + N - _
                      : L - (_ - N) / 2),
                  8,
                  d - _ - 8,
                )),
                (D = M + H + x),
                (k = { left: j(L + N / 2 - b - T, 30, _ - 30) + 'px' }),
                D + v + x > h)
              )
                if (M - v - x > 0) (C = 'top'), (D = M - v - x);
                else if (!e.disableLeftRight) {
                  var I = L - _ - 8 > 0;
                  (I || L + N + _ + 8 <= d) &&
                    ((D = j(M - (v - H) / 2, 8, h - v - 8)) + v + 8 > h && (D = Math.max(h - v - 8, 0)),
                    (k = { top: j(M + H / 2 - D - w, 30, v - 30) + 'px' }),
                    (C = I ? 'left' : 'right'),
                    (b = I ? L - _ : L + N));
                }
            }
            ('top' !== C && 'bottom' !== C) || (D + v + x > h && ((D = Math.max(h - v - x, 0)), (p = !1))),
              this.setState({
                arrowPos: k,
                bubblePos: C,
                height: h,
                isReady: !0,
                modalLeft: b,
                modalTop: D,
                showArrow: p,
                width: d,
              });
          }
        }
      }),
      (t.prototype._render = function (e, t) {
        'bubble' === e.display && (e.display = 'anchored');
        var n = e.animation,
          s = e.display,
          a = this._prevS,
          i = 'anchored' === s,
          o = 'inline' !== s,
          r = e.fullScreen && o,
          l = !!o && (undefined === e.isOpen ? t.isOpen : e.isOpen);
        if (
          (l &&
            (e.windowWidth !== a.windowWidth ||
              e.display !== a.display ||
              e.showArrow !== a.showArrow ||
              (e.anchor !== a.anchor && 'anchored' === e.display)) &&
            (this._shouldPosition = !0),
          (this._limits = { maxHeight: ne(e.maxHeight), maxWidth: ne(e.maxWidth) }),
          (this._style = {
            height: r ? '100%' : ne(e.height),
            left: i && t.modalLeft ? t.modalLeft + 'px' : '',
            maxHeight: ne(this._maxHeight || e.maxHeight),
            maxWidth: ne(this._maxWidth || e.maxWidth),
            top: i && t.modalTop ? t.modalTop + 'px' : '',
            width: r ? '100%' : ne(e.width),
          }),
          (this._hasContext = 'body' !== e.context && undefined !== e.context),
          (this._needsLock = ps && !this._hasContext && 'anchored' !== s && e.scrollLock),
          (this._isModal = o),
          (this._flexButtons = 'center' === s || (!this._touchUi && !r && ('top' === s || 'bottom' === s))),
          undefined !== n && !0 !== n)
        )
          this._animation = Z(n) ? n : '';
        else
          switch (s) {
            case 'bottom':
              this._animation = 'slide-up';
              break;
            case 'top':
              this._animation = 'slide-down';
              break;
            default:
              this._animation = 'pop';
          }
        e.buttons
          ? e.buttons !== a.buttons &&
            (this._buttons = (function (e, t) {
              var n = e.s,
                s = [],
                a = {
                  cancel: { cssClass: 'mbsc-popup-button-close', name: 'cancel', text: n.cancelText },
                  close: { cssClass: 'mbsc-popup-button-close', name: 'close', text: n.closeText },
                  ok: { cssClass: 'mbsc-popup-button-primary', keyCode: 13, name: 'ok', text: n.okText },
                  set: { cssClass: 'mbsc-popup-button-primary', keyCode: 13, name: 'set', text: n.setText },
                };
              if (t && t.length)
                return (
                  t.forEach(function (t) {
                    var n = Z(t) ? a[t] || { text: t } : t;
                    (n.handler && !Z(n.handler)) ||
                      (Z(n.handler) && (n.name = n.handler),
                      (n.handler = function (t) {
                        e._onButtonClick({ domEvent: t, button: n });
                      })),
                      s.push(n);
                  }),
                  s
                );
            })(this, e.buttons))
          : (this._buttons = undefined),
          e.headerText !== a.headerText &&
            (this._headerText = e.headerText ? this._safeHtml(e.headerText) : undefined),
          l && !this._isOpen && this._onOpen(),
          !l && this._isOpen && this._onClose(),
          (this._isOpen = l),
          (this._isVisible = l || this._isClosing);
      }),
      (t.prototype._updated = function () {
        var e = this,
          t = this.s;
        if (
          De &&
          (t.context !== this._prevS.context || !this._ctx) &&
          ((n = Z(t.context) ? De.querySelector(t.context) : t.context) || (n = De.body),
          (n.__mbscLock = n.__mbscLock || 0),
          (n.__mbscIOSLock = n.__mbscIOSLock || 0),
          (n.__mbscModals = n.__mbscModals || 0),
          (this._ctx = n),
          this._justOpened)
        )
          return void ce(this, function () {
            e.forceUpdate();
          });
        if (this._justOpened) {
          var n = this._ctx,
            s = this._wrapper,
            a = this._hasContext,
            i = (this._doc = We(s)),
            o = (this._win = Be(s)),
            r = i.activeElement;
          if (!this._hasWidth && t.responsive) {
            var l = Math.min(s.clientWidth, a ? 1 / 0 : o.innerWidth),
              c = Math.min(s.clientHeight, a ? 1 / 0 : o.innerHeight);
            if (((this._hasWidth = !0), l !== this.state.width || c !== this.state.height))
              return void ce(this, function () {
                e.setState({ height: c, width: l });
              });
          }
          if (
            ((this._scrollCont = a ? n : o),
            (this._observer = hs(s, this._onResize, this._zone)),
            (this._prevFocus = t.focusElm || r),
            n.__mbscModals++,
            t.focusOnOpen &&
              r &&
              setTimeout(function () {
                r.blur();
              }),
            this._needsLock)
          ) {
            if (!n.__mbscIOSLock) {
              var d = Xe(this._scrollCont),
                h = Ve(this._scrollCont);
              (n.style.left = -h + 'px'),
                (n.style.top = -d + 'px'),
                (n.__mbscScrollLeft = h),
                (n.__mbscScrollTop = d),
                n.classList.add('mbsc-popup-open-ios'),
                n.parentNode.classList.add('mbsc-popup-open-ios');
            }
            n.__mbscIOSLock++;
          }
          a && n.classList.add('mbsc-popup-ctx'),
            t.focusTrap && Fe(o, 'focusin', this._onFocus),
            t.focusElm && !t.focusOnOpen && Fe(t.focusElm, 'keydown', this._onKeyDown),
            Fe(this._scrollCont, 'touchmove', this._onContentScroll, { passive: !1 }),
            Fe(this._scrollCont, 'wheel', this._onContentScroll, { passive: !1 }),
            Fe(this._scrollCont, 'mousewheel', this._onContentScroll, { passive: !1 }),
            setTimeout(function () {
              Fe(i, ot, e._onMouseDown), Fe(i, rt, e._onMouseUp), Fe(i, it, e._onDocClick);
            }),
            this._hook('onOpen', { target: this._wrapper });
        }
        this._shouldPosition &&
          ce(this, function () {
            e._onResize();
          }),
          (this._justOpened = !1),
          (this._justClosed = !1),
          (this._shouldPosition = !1);
      }),
      (t.prototype._destroy = function () {
        this._isOpen && (this._onClosed(), this._unlisten(), ls === this && (ls = fs(this)));
      }),
      (t.prototype._onOpen = function () {
        var e = this;
        He && this._animation ? ((this._isOpening = !0), (this._isClosing = !1)) : this._onOpened(),
          (this._justOpened = !0),
          (this._preventClose = !1),
          ls !== this &&
            setTimeout(function () {
              (e._prevModal = ls), (ls = e);
            });
      }),
      (t.prototype._onClose = function () {
        var e = this;
        He && this._animation
          ? ((this._isClosing = !0), (this._isOpening = !1))
          : setTimeout(function () {
              e._onClosed(), e.setState({ isReady: !1 });
            }),
          (this._hasWidth = !1),
          this._unlisten();
      }),
      (t.prototype._onOpened = function () {
        var e = this.s;
        if (e.focusOnOpen) {
          var t = e.activeElm,
            n = t ? (Z(t) ? this._popup.querySelector(t) || this._active : t) : this._active;
          n && n.focus && n.focus();
        }
        Fe(this._win, 'keydown', this._onWndKeyDown), Fe(this._scrollCont, 'scroll', this._onScroll);
      }),
      (t.prototype._onClosed = function () {
        var e,
          t,
          n = this,
          s = this._ctx,
          a = this._prevFocus && this._prevFocus.focus && this.s.focusOnClose;
        s.mbscModals--,
          (this._justClosed = !0),
          this._needsLock &&
            (s.__mbscIOSLock--,
            s.__mbscIOSLock ||
              (s.classList.remove('mbsc-popup-open-ios'),
              s.parentNode.classList.remove('mbsc-popup-open-ios'),
              (s.style.left = ''),
              (s.style.top = ''),
              (e = this._scrollCont),
              (t = s.__mbscScrollLeft),
              e.scrollTo ? e.scrollTo(t, e.scrollY) : (e.scrollLeft = t),
              (function (e, t) {
                e.scrollTo ? e.scrollTo(e.scrollX, t) : (e.scrollTop = t);
              })(this._scrollCont, s.__mbscScrollTop))),
          this._hasContext && !s.mbscModals && s.classList.remove('mbsc-popup-ctx'),
          this._hook('onClosed', { focus: a }),
          a && this._prevFocus.focus(),
          setTimeout(function () {
            ls === n && (ls = fs(n));
          });
      }),
      (t.prototype._unlisten = function () {
        Ue(this._win, 'keydown', this._onWndKeyDown),
          Ue(this._scrollCont, 'scroll', this._onScroll),
          Ue(this._scrollCont, 'touchmove', this._onContentScroll, { passive: !1 }),
          Ue(this._scrollCont, 'wheel', this._onContentScroll, { passive: !1 }),
          Ue(this._scrollCont, 'mousewheel', this._onContentScroll, { passive: !1 }),
          Ue(this._doc, ot, this._onMouseDown),
          Ue(this._doc, rt, this._onMouseUp),
          Ue(this._doc, it, this._onDocClick),
          this.s.focusTrap && Ue(this._win, 'focusin', this._onFocus),
          this.s.focusElm && Ue(this.s.focusElm, 'keydown', this._onKeyDown),
          this._observer && (this._observer.detach(), (this._observer = null));
      }),
      (t.prototype._close = function (e) {
        this._isOpen &&
          (undefined === this.s.isOpen && this.setState({ isOpen: !1 }),
          this._hook('onClose', { source: e }));
      }),
      (t.defaults = {
        buttonVariant: 'flat',
        cancelText: 'Cancel',
        closeOnEsc: !0,
        closeOnOverlayClick: !0,
        closeText: 'Close',
        contentPadding: !0,
        display: 'center',
        focusOnClose: !0,
        focusOnOpen: !0,
        focusTrap: !0,
        maxWidth: 600,
        okText: 'Ok',
        scrollLock: !0,
        setText: 'Set',
        showArrow: !0,
        showOverlay: !0,
      }),
      t
    );
  })(at),
  ys = cs,
  bs = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._setActive = function (e) {
          t._active = e;
        }),
        (t._setContent = function (e) {
          t._content = e;
        }),
        (t._setLimitator = function (e) {
          t._limitator = e;
        }),
        (t._setPopup = function (e) {
          t._popup = e;
        }),
        (t._setWrapper = function (e) {
          t._wrapper = e;
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._template = function (e, t) {
        var n = this,
          s = this._hb,
          a = this._rtl,
          i = this._theme,
          o = e.display;
        return this._isModal
          ? this._isVisible
            ? Bn(
                ys,
                { context: this._ctx },
                Bn(
                  'div',
                  {
                    className:
                      'mbsc-font mbsc-popup-wrapper mbsc-popup-wrapper-' +
                      o +
                      i +
                      a +
                      ' ' +
                      this._className +
                      (e.fullScreen ? ' mbsc-popup-wrapper-' + o + '-full' : '') +
                      (this._touchUi ? '' : ' mbsc-popup-pointer') +
                      (this._round ? ' mbsc-popup-round' : '') +
                      (this._hasContext ? ' mbsc-popup-wrapper-ctx' : '') +
                      (t.isReady ? '' : ' mbsc-popup-hidden'),
                    ref: this._setWrapper,
                    onKeyDown: this._onKeyDown,
                  },
                  e.showOverlay &&
                    Bn('div', {
                      className:
                        'mbsc-popup-overlay mbsc-popup-overlay-' +
                        o +
                        i +
                        (this._isClosing ? ' mbsc-popup-overlay-out' : '') +
                        (this._isOpening && t.isReady ? ' mbsc-popup-overlay-in' : ''),
                      onClick: this._onOverlayClick,
                    }),
                  Bn('div', {
                    className: 'mbsc-popup-limits mbsc-popup-limits-' + o,
                    ref: this._setLimitator,
                    style: this._limits,
                  }),
                  Bn(
                    'div',
                    {
                      className:
                        'mbsc-popup ' +
                        i +
                        s +
                        ' mbsc-popup-' +
                        o +
                        (e.fullScreen ? '-full' : '') +
                        (t.bubblePos && t.showArrow && 'anchored' === o
                          ? ' mbsc-popup-anchored-' + t.bubblePos
                          : '') +
                        (this._isClosing ? ' mbsc-popup-' + this._animation + '-out' : '') +
                        (this._isOpening && t.isReady ? ' mbsc-popup-' + this._animation + '-in' : ''),
                      role: 'dialog',
                      'aria-modal': 'true',
                      ref: this._setPopup,
                      style: this._style,
                      onClick: this._onPopupClick,
                      onAnimationEnd: this._onAnimationEnd,
                    },
                    'anchored' === o &&
                      t.showArrow &&
                      Bn(
                        'div',
                        { className: 'mbsc-popup-arrow-wrapper mbsc-popup-arrow-wrapper-' + t.bubblePos + i },
                        Bn('div', {
                          className: 'mbsc-popup-arrow mbsc-popup-arrow-' + t.bubblePos + i,
                          style: t.arrowPos,
                        }),
                      ),
                    Bn('div', { className: 'mbsc-popup-focus', tabIndex: -1, ref: this._setActive }),
                    Bn(
                      'div',
                      {
                        className:
                          'mbsc-popup-body mbsc-popup-body-' +
                          o +
                          i +
                          s +
                          (e.fullScreen ? ' mbsc-popup-body-' + o + '-full' : '') +
                          (this._round ? ' mbsc-popup-body-round' : ''),
                      },
                      this._headerText &&
                        Bn('div', {
                          className:
                            'mbsc-popup-header mbsc-popup-header-' +
                            o +
                            i +
                            s +
                            (this._buttons ? '' : ' mbsc-popup-header-no-buttons'),
                          dangerouslySetInnerHTML: this._headerText,
                        }),
                      Bn(
                        'div',
                        {
                          className: 'mbsc-popup-content' + (e.contentPadding ? ' mbsc-popup-padding' : ''),
                          ref: this._setContent,
                        },
                        e.children,
                      ),
                      this._buttons &&
                        Bn(
                          'div',
                          {
                            className:
                              'mbsc-popup-buttons mbsc-popup-buttons-' +
                              o +
                              i +
                              a +
                              s +
                              (this._flexButtons ? ' mbsc-popup-buttons-flex' : '') +
                              (e.fullScreen ? ' mbsc-popup-buttons-' + o + '-full' : ''),
                          },
                          this._buttons.map(function (t, i) {
                            return Bn(
                              Jn,
                              {
                                color: t.color,
                                className:
                                  'mbsc-popup-button mbsc-popup-button-' +
                                  o +
                                  a +
                                  s +
                                  (n._flexButtons ? ' mbsc-popup-button-flex' : '') +
                                  ' ' +
                                  (t.cssClass || ''),
                                icon: t.icon,
                                disabled: t.disabled,
                                key: i,
                                theme: e.theme,
                                themeVariant: e.themeVariant,
                                variant: t.variant || e.buttonVariant,
                                onClick: t.handler,
                              },
                              t.text,
                            );
                          }),
                        ),
                    ),
                  ),
                ),
              )
            : null
          : Bn(jn, null, e.children);
      }),
      t
    );
  })(gs);
function Ds(e, t, n, s) {
  var a;
  if (!(t < n || t > s)) {
    if (q(e)) {
      var i = e.length,
        o = t % i;
      a = e[o >= 0 ? o : o + i];
    } else a = e(t);
    return a;
  }
}
var Cs = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._setInnerEl = function (e) {
          t._innerEl = e;
        }),
        (t._setScrollEl = function (e) {
          t._scrollEl = e;
        }),
        (t._setScrollEl3d = function (e) {
          t._scrollEl3d = e;
        }),
        (t._setScrollbarEl = function (e) {
          t._scrollbarEl = e;
        }),
        (t._setScrollbarContEl = function (e) {
          t._scrollbarContEl = e;
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        var t,
          n = this,
          s = e.children;
        return (
          e.itemRenderer &&
            ((s = this.visibleItems.map(function (t) {
              return e.itemRenderer(t, n._offset);
            })),
            e.scroll3d &&
              (t = this.visible3dItems.map(function (t) {
                return e.itemRenderer(t, n._offset, !0);
              }))),
          Bn(
            'div',
            { ref: this._setEl, className: this._cssClass, style: e.styles },
            Bn(
              'div',
              { ref: this._setInnerEl, className: e.innerClass, style: e.innerStyles },
              Bn('div', { ref: this._setScrollEl, className: 'mbsc-scrollview-scroll' + this._rtl }, s),
            ),
            e.scroll3d &&
              Bn(
                'div',
                {
                  ref: this._setScrollEl3d,
                  style: { height: e.itemSize + 'px' },
                  className: 'mbsc-scroller-items-3d',
                },
                t,
              ),
            Bn(
              'div',
              {
                ref: this._setScrollbarContEl,
                className:
                  'mbsc-scroller-bar-cont ' +
                  this._rtl +
                  (e.scrollBar && this._barSize !== this._barContSize ? '' : ' mbsc-scroller-bar-hidden') +
                  (this._started ? ' mbsc-scroller-bar-started' : ''),
              },
              Bn('div', {
                className: 'mbsc-scroller-bar' + this._theme,
                ref: this._setScrollbarEl,
                style: { height: this._barSize + 'px' },
              }),
            ),
          )
        );
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._currPos = 0),
          (t._delta = 0),
          (t._endPos = 0),
          (t._lastRaf = 0),
          (t._maxSnapScroll = 0),
          (t._margin = 0),
          (t._scrollEnd = le(function () {
            Ne(t._raf), (t._raf = !1), t._onEnd(), (t._hasScrolled = !1);
          }, 200)),
          (t._onStart = function (e) {
            var n = t.s;
            t._hook('onStart', {}),
              (n.changeOnEnd && t._isScrolling) ||
                (!n.mouseSwipe && !e.isTouch) ||
                !n.swipe ||
                ((t._started = !0),
                (t._hasScrolled = t._isScrolling),
                (t._currX = e.startX),
                (t._currY = e.startY),
                (t._delta = 0),
                (t._velocityX = 0),
                (t._velocityY = 0),
                (t._startPos = Ke(t._scrollEl, t._isVertical)),
                (t._timestamp = +new Date()),
                t._isScrolling && (Ne(t._raf), (t._raf = !1), t._scroll(t._startPos)));
          }),
          (t._onMove = function (e) {
            var n = e.domEvent,
              s = t.s;
            t._isVertical || s.scrollLock || t._hasScrolled
              ? n.cancelable && n.preventDefault()
              : 'touchmove' === n.type && (Math.abs(e.deltaY) > 7 || !s.swipe) && (t._started = !1),
              t._started &&
                ((t._delta = t._isVertical ? e.deltaY : e.deltaX),
                (t._hasScrolled || Math.abs(t._delta) > t._threshold) &&
                  (t._hasScrolled || t._hook('onGestureStart', {}),
                  (t._hasScrolled = !0),
                  (t._isScrolling = !0),
                  t._raf ||
                    (t._raf = Le(function () {
                      return t._move(e);
                    }))));
          }),
          (t._onEnd = function () {
            if (((t._started = !1), t._hasScrolled)) {
              var e,
                n = t.s,
                s = 17 * (t._isVertical ? t._velocityY : t._velocityX),
                a = t._maxSnapScroll,
                i = t._delta;
              (i += s * s * 0.5 * (s < 0 ? -1 : 1)), a && (i = j(i, -t._round * a, t._round * a));
              var o = j(ie((t._startPos + i) / t._round) * t._round, t._min, t._max),
                r = ie((-o * t._rtlNr) / n.itemSize) + t._offset,
                l = i > 0 ? (t._isVertical ? 270 : 360) : t._isVertical ? 90 : 180,
                c = r - n.selectedIndex;
              (e = n.time || Math.max(1e3, 3 * Math.abs(o - t._currPos))),
                t._hook('onGestureEnd', { direction: l, index: r }),
                (t._delta = 0),
                t._scroll(o, e),
                c &&
                  !n.changeOnEnd &&
                  (t._hook('onIndexChange', { index: r, diff: c }),
                  n.selectedIndex === t._prevIndex && n.selectedIndex !== r && t.forceUpdate());
            }
          }),
          (t._onClick = function (e) {
            t._hasScrolled && ((t._hasScrolled = !1), e.stopPropagation(), e.preventDefault());
          }),
          (t._onScroll = function (e) {
            (e.target.scrollTop = 0), (e.target.scrollLeft = 0);
          }),
          (t._onMouseWheel = function (e) {
            var n = t._isVertical ? (undefined === e.deltaY ? e.wheelDelta || e.detail : e.deltaY) : e.deltaX;
            if (t._el.contains(e.target) && n && t.s.mousewheel) {
              if (
                (e.preventDefault(),
                t._hook('onStart', {}),
                t._started ||
                  ((t._delta = 0),
                  (t._velocityX = 0),
                  (t._velocityY = 0),
                  (t._startPos = t._currPos),
                  t._hook('onGestureStart', {})),
                e.deltaMode && 1 === e.deltaMode && (n *= 15),
                (n = j(-n, -t._scrollSnap, t._scrollSnap)),
                (t._delta += n),
                t._maxSnapScroll && Math.abs(t._delta) > t._round * t._maxSnapScroll && (n = 0),
                t._startPos + t._delta < t._min && ((t._startPos = t._min), (t._delta = 0), (n = 0)),
                t._startPos + t._delta > t._max && ((t._startPos = t._max), (t._delta = 0), (n = 0)),
                t._raf ||
                  (t._raf = Le(function () {
                    return t._move();
                  })),
                !n && t._started)
              )
                return;
              (t._hasScrolled = !0), (t._isScrolling = !0), (t._started = !0), t._scrollEnd();
            }
          }),
          (t._onTrackStart = function (e) {
            e.stopPropagation();
            var n = { domEvent: e, startX: dt(e, 'X', !0), startY: dt(e, 'Y', !0) };
            if (
              (t._onStart(n),
              (t._trackStartX = n.startX),
              (t._trackStartY = n.startY),
              e.target === t._scrollbarEl)
            )
              Fe(t._doc, rt, t._onTrackEnd), Fe(t._doc, 'mousemove', t._onTrackMove);
            else {
              var s = Je(t._scrollbarContEl).top,
                a = (n.startY - s) / t._barContSize;
              (t._startPos = t._currPos = t._max + (t._min - t._max) * a), (t._hasScrolled = !0), t._onEnd();
            }
          }),
          (t._onTrackMove = function (e) {
            var n = t._barContSize,
              s = dt(e, 'X', !0),
              a = dt(e, 'Y', !0),
              i = (t._isVertical ? a - t._trackStartY : s - t._trackStartX) / n;
            t._isInfinite
              ? (t._delta = -(t._maxSnapScroll * t._round * 2 + n) * i)
              : (t._delta = (t._min - t._max - n) * i),
              (t._hasScrolled || Math.abs(t._delta) > t._threshold) &&
                (t._hasScrolled || t._hook('onGestureStart', {}),
                (t._hasScrolled = !0),
                (t._isScrolling = !0),
                t._raf ||
                  (t._raf = Le(function () {
                    return t._move({ endX: s, endY: a }, !t._isInfinite);
                  })));
          }),
          (t._onTrackEnd = function () {
            (t._delta = 0),
              (t._startPos = t._currPos),
              t._onEnd(),
              Ue(t._doc, rt, t._onTrackEnd),
              Ue(t._doc, 'mousemove', t._onTrackMove);
          }),
          (t._onTrackClick = function (e) {
            e.stopPropagation();
          }),
          t
        );
      }
      return (
        r(t, e),
        (t.prototype._render = function (e, t) {
          var n = this._prevS,
            s = e.batchSize,
            a = e.batchSize3d,
            i = e.itemNr || 1,
            o = e.itemSize,
            r = e.selectedIndex,
            l = n.selectedIndex,
            c = undefined === t.index ? r : t.index,
            d = [],
            h = [],
            u = r - l,
            m = c - this._currIndex,
            _ = e.minIndex,
            v = e.maxIndex,
            p = e.items,
            f = e.offset;
          (this._currIndex = c),
            (this._isVertical = 'Y' === e.axis),
            (this._threshold = this._isVertical ? e.thresholdY : e.thresholdX),
            (this._rtlNr = !this._isVertical && e.rtl ? -1 : 1),
            (this._round = e.snap ? o : 1);
          for (var g = this._round; g > 44; ) g /= 2;
          if (((this._scrollSnap = ie(44 / g) * g), p)) {
            for (var y = c - s; y < c + i + s; y++) d.push({ key: y, data: Ds(p, y, _, v) });
            if (e.scroll3d) for (y = c - a; y < c + i + a; y++) h.push({ key: y, data: Ds(p, y, _, v) });
            (this.visibleItems = d),
              (this.visible3dItems = h),
              (this._maxSnapScroll = s),
              (this._isInfinite = 'function' == typeof p);
          }
          undefined === this._offset && (this._offset = r);
          var b = -(r - this._offset) * o * this._rtlNr;
          if (Math.abs(u) > s && b !== this._endPos) {
            var D = u + s * (u > 0 ? -1 : 1);
            (this._offset += D), (this._margin -= D);
          }
          if (
            (f && f !== n.offset && ((this._offset += f), (this._margin -= f)),
            m && (this._margin += m),
            (this._max = undefined !== _ ? -(_ - this._offset) * o * this._rtlNr : 1 / 0),
            (this._min =
              undefined !== v ? -(v - this._offset - (e.spaceAround ? 0 : i - 1)) * o * this._rtlNr : -1 / 0),
            -1 === this._rtlNr)
          ) {
            var C = this._min;
            (this._min = this._max), (this._max = C);
          }
          this._min > this._max && (this._min = this._max);
          var k = e.visibleSize * o;
          (this._barContSize = k),
            (this._barSize = Math.max(20, (k * k) / (this._max - this._min + k))),
            (this._cssClass = this._className + ' mbsc-ltr');
        }),
        (t.prototype._mounted = function () {
          (this._doc = We(this._el)),
            Fe(this._el, it, this._onClick, !0),
            Fe(this.s.scroll3d ? this._innerEl : this._el, 'scroll', this._onScroll),
            Fe(this._doc, 'mousewheel', this._onMouseWheel, { passive: !1, capture: !0 }),
            Fe(this._doc, 'wheel', this._onMouseWheel, { passive: !1, capture: !0 }),
            Fe(this._scrollbarContEl, ot, this._onTrackStart),
            Fe(this._scrollbarContEl, it, this._onTrackClick),
            (this._unlisten = ft(this._el, {
              onEnd: this._onEnd,
              onMove: this._onMove,
              onStart: this._onStart,
              prevDef: !0,
            }));
        }),
        (t.prototype._updated = function () {
          var e = this.s,
            t = e.batchSize,
            n = e.itemSize,
            s = e.selectedIndex,
            a = this._prevIndex,
            i = !e.prevAnim && ((undefined !== a && a !== s) || this._isAnimating),
            o = -(s - this._offset) * n * this._rtlNr;
          e.margin &&
            (this._scrollEl.style.marginTop = this._isVertical ? (this._margin - t) * n + 'px' : ''),
            this._started || this._scroll(o, i ? this._isAnimating || e.time || 1e3 : 0),
            (this._prevIndex = s);
        }),
        (t.prototype._destroy = function () {
          Ue(this._el, it, this._onClick, !0),
            Ue(this.s.scroll3d ? this._innerEl : this._el, 'scroll', this._onScroll),
            Ue(this._doc, 'mousewheel', this._onMouseWheel, { passive: !1, capture: !0 }),
            Ue(this._doc, 'wheel', this._onMouseWheel, { passive: !1, capture: !0 }),
            Ue(this._scrollbarContEl, ot, this._onTrackStart),
            Ue(this._scrollbarContEl, it, this._onTrackClick),
            Ne(this._raf),
            (this._raf = !1),
            this._scroll(0),
            this._unlisten();
        }),
        (t.prototype._anim = function (e) {
          var t = this;
          return (this._raf = Le(function () {
            var n = t.s,
              s = +new Date();
            if (t._raf) {
              if ((t._currPos - t._endPos) * -e < 4)
                return (
                  (t._currPos = t._endPos),
                  (t._raf = !1),
                  (t._isAnimating = 0),
                  (t._isScrolling = !1),
                  t._infinite(t._currPos),
                  t._hook('onAnimationEnd', {}),
                  void t._scrollbarContEl.classList.remove('mbsc-scroller-bar-started')
                );
              s - t._lastRaf > 100 &&
                ((t._lastRaf = s),
                (t._currPos = Ke(t._scrollEl, t._isVertical)),
                n.changeOnEnd || t._infinite(t._currPos)),
                (t._raf = t._anim(e));
            }
          }));
        }),
        (t.prototype._infinite = function (e) {
          var t = this.s;
          if (t.itemSize) {
            var n = ie((-e * this._rtlNr) / t.itemSize) + this._offset,
              s = n - this._currIndex;
            s &&
              (t.changeOnEnd
                ? this._hook('onIndexChange', { index: n, diff: s })
                : this.setState({ index: n }));
          }
        }),
        (t.prototype._scroll = function (e, t) {
          var n = this.s,
            s = n.itemSize,
            a = this._isVertical,
            i = this._scrollEl.style,
            o = Ye ? Ye + 'T' : 't',
            r = t ? Pe + 'transform ' + ie(t) + 'ms ' + n.easing : '';
          if (
            ((i[o + 'ransform'] = 'translate3d(' + (a ? '0,' + e + 'px,' : e + 'px,0,') + '0)'),
            (i[o + 'ransition'] = r),
            (this._endPos = e),
            n.scroll3d)
          ) {
            var l = this._scrollEl3d.style,
              c = 360 / (2 * n.batchSize3d);
            (l[o + 'ransform'] = 'translateY(-50%) rotateX(' + (-e / s) * c + 'deg)'),
              (l[o + 'ransition'] = r);
          }
          if (this._scrollbarEl) {
            var d = this._scrollbarEl.style,
              h = this._isInfinite
                ? (this._maxSnapScroll * this._round - this._delta) / (this._maxSnapScroll * this._round * 2)
                : (e - this._max) / (this._min - this._max),
              u = j((this._barContSize - this._barSize) * h, 0, this._barContSize - this._barSize);
            (d[o + 'ransform'] = 'translate3d(' + (a ? '0,' + u + 'px,' : u + 'px,0,') + '0)'),
              (d[o + 'ransition'] = r);
          }
          t
            ? (Ne(this._raf),
              (this._isAnimating = t),
              this._scrollbarContEl.classList.add('mbsc-scroller-bar-started'),
              (this._raf = this._anim(e > this._currPos ? 1 : -1)))
            : ((this._currPos = e), n.changeOnEnd || this._infinite(e));
        }),
        (t.prototype._move = function (e, t) {
          var n = this._currX,
            s = this._currY,
            a = this._timestamp,
            i = this._maxSnapScroll;
          if (e) {
            (this._currX = e.endX), (this._currY = e.endY), (this._timestamp = +new Date());
            var o = this._timestamp - a;
            if (o > 0 && o < 100) {
              var r = (this._currX - n) / o,
                l = (this._currY - s) / o;
              (this._velocityX = 0.7 * r + 0.3 * this._velocityX),
                (this._velocityY = 0.7 * l + 0.3 * this._velocityY);
            }
          }
          i && !t && (this._delta = j(this._delta, -this._round * i, this._round * i)),
            this._scroll(
              j(this._startPos + this._delta, this._min - this.s.itemSize, this._max + this.s.itemSize),
            ),
            (this._raf = !1);
        }),
        (t.defaults = {
          axis: 'Y',
          batchSize: 40,
          easing: 'cubic-bezier(0.190, 1.000, 0.220, 1.000)',
          mouseSwipe: !0,
          mousewheel: !0,
          prevDef: !0,
          selectedIndex: 0,
          spaceAround: !0,
          stopProp: !0,
          swipe: !0,
          thresholdX: 10,
          thresholdY: 5,
        }),
        t
      );
    })(at),
  ),
  ks = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._onClick = function (e) {
          t._cellClick('onDayClick', e);
        }),
        (t._onRightClick = function (e) {
          t._cellClick('onDayRightClick', e);
        }),
        (t._onLabelClick = function (e) {
          t._labelClick('onLabelClick', e);
        }),
        (t._onLabelDoubleClick = function (e) {
          t._labelClick('onLabelDoubleClick', e);
        }),
        (t._onLabelRightClick = function (e) {
          t._labelClick('onLabelRightClick', e);
        }),
        (t._onLabelHoverIn = function (e) {
          t._labelClick('onLabelHoverIn', e);
        }),
        (t._onLabelHoverOut = function (e) {
          t._labelClick('onLabelHoverOut', e);
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._mounted = function () {
        var e,
          t,
          n,
          s = this;
        this._unlisten = ft(this._el, {
          click: !0,
          onBlur: function () {
            s.setState({ hasFocus: !1 });
          },
          onDoubleClick: function (e) {
            var t = s.s;
            t.clickToCreate &&
              'single' !== t.clickToCreate &&
              t.labels &&
              !t.disabled &&
              t.display &&
              (s._hook('onLabelUpdateStart', e), s._hook('onLabelUpdateEnd', e)),
              s._cellClick('onDayDoubleClick', e.domEvent);
          },
          onEnd: function (a) {
            e && (a.domEvent.preventDefault(), s._hook('onLabelUpdateEnd', a), (e = !1)),
              clearTimeout(n),
              (e = !1),
              (t = !1);
          },
          onFocus: function () {
            s.setState({ hasFocus: !0 });
          },
          onHoverIn: function (e) {
            var t = s.s;
            t.disabled || s.setState({ hasHover: !0 }),
              s._hook('onHoverIn', {
                date: new Date(t.date),
                domEvent: e,
                hidden: !t.display,
                outer: t.outer,
                target: s._el,
              });
          },
          onHoverOut: function (e) {
            var t = s.s;
            s.setState({ hasHover: !1 }),
              s._hook('onHoverOut', {
                date: new Date(t.date),
                domEvent: e,
                hidden: !t.display,
                outer: t.outer,
                target: s._el,
              });
          },
          onKeyDown: function (e) {
            switch (e.keyCode) {
              case 13:
              case 32:
                e.preventDefault(), s._onClick(e);
            }
          },
          onMove: function (a) {
            e && s.s.dragToCreate
              ? (a.domEvent.preventDefault(), s._hook('onLabelUpdateMove', a))
              : t && s.s.dragToCreate && (Math.abs(a.deltaX) > 7 || Math.abs(a.deltaY) > 7)
              ? ((e = !a.isTouch), s._hook('onLabelUpdateStart', a))
              : clearTimeout(n);
          },
          onStart: function (a) {
            var i = s.s;
            ((a.create = !0), i.disabled || (!i.dragToCreate && !i.clickToCreate) || !i.labels || e) ||
              (function (e, t, n) {
                for (; e && !Ze(e, t); ) {
                  if (e === n || e.nodeType === e.DOCUMENT_NODE) return null;
                  e = e.parentNode;
                }
                return e;
              })(a.domEvent.target, '.mbsc-calendar-text', s._el) ||
              (a.isTouch && i.dragToCreate
                ? (n = setTimeout(function () {
                    s._hook('onLabelUpdateStart', a), s._hook('onLabelUpdateModeOn', a), (e = !0);
                  }, 350))
                : 'single' === i.clickToCreate
                ? (s._hook('onLabelUpdateStart', a), (e = !0))
                : (t = !a.isTouch));
          },
        });
      }),
      (t.prototype._render = function (e, t) {
        var n = new Date(),
          s = e.date,
          a = e.colors,
          i = e.display,
          o = e.dragData,
          r = e.hoverEnd,
          l = e.hoverStart,
          c = e.labels,
          d = e.rangeEnd,
          h = e.rangeStart,
          u = new Date(s),
          m = zt(u),
          _ = Wt(n, u),
          v = c && c.events,
          p = a && a[0],
          f = p && p.background,
          g = p && p.highlight,
          y = '',
          b = '';
        (this._draggedLabel = o && o.draggedDates && o.draggedDates[m]),
          (this._draggedLabelOrig = o && o.originDates && o.originDates[m]),
          (this._todayClass = _ ? ' mbsc-calendar-today' : ''),
          (this._cellStyles = f && i ? { backgroundColor: f, color: je(f) } : undefined),
          (this._circleStyles = g ? { backgroundColor: g, color: je(p.highlight) } : undefined),
          (this._ariaLabel =
            'day' === e.type
              ? (_ ? e.todayText + ', ' : '') + e.day + ', ' + e.month + ' ' + e.text + ', ' + e.year
              : 'month' === e.type
              ? e.month
              : ''),
          i &&
            (((h && s >= h && s <= (d || h)) || (d && s <= d && s >= (h || d))) &&
              (b =
                ' mbsc-range-day' +
                (s === (h || d) ? ' mbsc-range-day-start' : '') +
                (s === (d || h) ? ' mbsc-range-day-end' : '')),
            l &&
              r &&
              s >= l &&
              s <= r &&
              (b +=
                ' mbsc-range-hover' +
                (s === l ? ' mbsc-range-hover-start mbsc-hover' : '') +
                (s === r ? ' mbsc-range-hover-end mbsc-hover' : ''))),
          e.marks &&
            e.marks.forEach(function (e) {
              y += e.cellCssClass ? ' ' + e.cellCssClass : '';
            }),
          a &&
            a.forEach(function (e) {
              y += e.cellCssClass ? ' ' + e.cellCssClass : '';
            }),
          v &&
            v.forEach(function (e) {
              y += e.cellCssClass ? ' ' + e.cellCssClass : '';
            }),
          (this._cssClass =
            'mbsc-calendar-cell mbsc-flex-1-0-0 mbsc-calendar-' +
            e.type +
            this._theme +
            this._rtl +
            this._hb +
            y +
            (c ? ' mbsc-calendar-day-labels' : '') +
            (a ? ' mbsc-calendar-day-colors' : '') +
            (e.outer ? ' mbsc-calendar-day-outer' : '') +
            (e.hasMarks ? ' mbsc-calendar-day-marked' : '') +
            (e.disabled ? ' mbsc-disabled' : '') +
            (i ? '' : ' mbsc-calendar-day-empty') +
            (e.selected ? ' mbsc-selected' : '') +
            (t.hasFocus ? ' mbsc-focus' : '') +
            (!t.hasHover || (s !== l && s !== r && (l || r)) ? '' : ' mbsc-hover') +
            (this._draggedLabel ? ' mbsc-calendar-day-highlight' : '') +
            b),
          (this._data = { date: u, events: v, selected: e.selected });
      }),
      (t.prototype._destroy = function () {
        this._unlisten();
      }),
      (t.prototype._cellClick = function (e, t) {
        var n = this.s;
        n.display &&
          this._hook(e, {
            date: new Date(n.date),
            disabled: n.disabled,
            domEvent: t,
            outer: n.outer,
            selected: n.selected,
            source: 'calendar',
            target: this._el,
          });
      }),
      (t.prototype._labelClick = function (e, t) {
        var n = this.s;
        (t.date = new Date(n.date)), (t.labels = n.labels.events), this._hook(e, t);
      }),
      t
    );
  })(at),
  xs = {},
  Ts = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._onClick = function (e) {
          if (t._isDrag) e.stopPropagation();
          else {
            t._triggerEvent('onClick', e);
            var n = t.s,
              s = xs[n.id];
            s && n.selected && s.next({ hasFocus: !1 });
          }
        }),
        (t._onRightClick = function (e) {
          t._triggerEvent('onRightClick', e);
        }),
        (t._onDocTouch = function (e) {
          Ue(t._doc, 'touchstart', t._onDocTouch),
            Ue(t._doc, ot, t._onDocTouch),
            (t._isDrag = !1),
            t._hook('onDragModeOff', { data: t.s.event });
        }),
        (t._updateState = function (e) {
          t.s.showText && t.setState(e);
        }),
        (t._triggerEvent = function (e, n) {
          t._hook(e, { domEvent: n, label: t.s.event, target: t._el });
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._mounted = function () {
        var e,
          t = this,
          n = this.s,
          s = n.id,
          a = n.isPicker,
          i = xs[s];
        i || ((i = new _()), (xs[s] = i)),
          (this._unsubscribe = i.subscribe(this._updateState)),
          (this._doc = We(this._el)),
          (this._unlisten = ft(this._el, {
            keepFocus: !0,
            onBlur: function () {
              a || i.next({ hasFocus: !1 });
            },
            onDoubleClick: function (e) {
              e.domEvent.stopPropagation(),
                t._hook('onDoubleClick', { domEvent: e.domEvent, label: t.s.event, target: t._el });
            },
            onEnd: function (n) {
              if (t._isDrag) {
                var s = t.s,
                  a = l({}, n);
                a.domEvent.preventDefault(),
                  (a.data = s.event),
                  s.resize && e ? ((a.resize = !0), (a.direction = e)) : s.drag && (a.drag = !0),
                  t._hook('onDragEnd', a),
                  s.isUpdate || (t._isDrag = !1);
              }
              clearTimeout(t._touchTimer), (e = undefined);
            },
            onFocus: function () {
              a || i.next({ hasFocus: !0 });
            },
            onHoverIn: function (e) {
              t._isDrag || a || (i.next({ hasHover: !0 }), t._triggerEvent('onHoverIn', e));
            },
            onHoverOut: function (e) {
              i.next({ hasHover: !1 }), t._triggerEvent('onHoverOut', e);
            },
            onKeyDown: function (e) {
              var n = t.s.event;
              switch (e.keyCode) {
                case 13:
                case 32:
                  t._el.click(), e.preventDefault();
                  break;
                case 8:
                case 46:
                  n &&
                    !1 !== n.editable &&
                    t._hook('onDelete', { domEvent: e, event: n, source: 'calendar' });
              }
            },
            onMove: function (n) {
              var s = t.s,
                a = l({}, n);
              if (((a.data = s.event), e)) (a.resize = !0), (a.direction = e);
              else {
                if (!s.drag) return;
                a.drag = !0;
              }
              s.event &&
                !1 !== s.event.editable &&
                (t._isDrag
                  ? (a.domEvent.preventDefault(), t._hook('onDragMove', a))
                  : (Math.abs(a.deltaX) > 7 || Math.abs(a.deltaY) > 7) &&
                    (clearTimeout(t._touchTimer),
                    a.isTouch || ((t._isDrag = !0), t._hook('onDragStart', a))));
            },
            onStart: function (n) {
              var s = t.s,
                a = l({}, n),
                i = a.domEvent.target;
              if (((a.data = s.event), s.resize && i.classList.contains('mbsc-calendar-label-resize')))
                (e = i.classList.contains('mbsc-calendar-label-resize-start') ? 'start' : 'end'),
                  (a.resize = !0),
                  (a.direction = e);
              else {
                if (!s.drag) return;
                a.drag = !0;
              }
              s.event &&
                !1 !== s.event.editable &&
                ((!t._isDrag && a.isTouch) || a.domEvent.stopPropagation(),
                t._isDrag
                  ? t._hook('onDragStart', a)
                  : a.isTouch &&
                    (t._touchTimer = setTimeout(function () {
                      t._hook('onDragModeOn', a), t._hook('onDragStart', a), (t._isDrag = !0);
                    }, 350)));
            },
          })),
          this._isDrag &&
            (Fe(this._doc, 'touchstart', this._onDocTouch), Fe(this._doc, ot, this._onDocTouch));
      }),
      (t.prototype._destroy = function () {
        if (this._unsubscribe) {
          var e = this.s.id,
            t = xs[e];
          t && (t.unsubscribe(this._unsubscribe), t.nr || delete xs[e]);
        }
        this._unlisten && this._unlisten(),
          Ue(this._doc, 'touchstart', this._onDocTouch),
          Ue(this._doc, ot, this._onDocTouch);
      }),
      (t.prototype._render = function (e, t) {
        var n,
          s,
          a,
          i,
          o,
          r = e.event,
          l = new Date(e.date),
          c = e.render || e.renderContent,
          d = !1;
        if (
          ((this._isDrag = this._isDrag || e.isUpdate),
          (this._html = this._content = undefined),
          (this._title =
            e.more || e.count || !e.showEventTooltip
              ? undefined
              : (function (e) {
                  if (De && e) {
                    var t = De.createElement('div');
                    return (t.innerHTML = e), t.textContent.trim();
                  }
                  return e || '';
                })(r.tooltip || r.title || r.text)),
          (this._tabIndex = e.isActiveMonth && e.showText && !e.count && !e.isPicker ? 0 : -1),
          r)
        ) {
          var h = r.allDay,
            u = h ? undefined : e;
          (n = r.start ? qt(r.start, u) : null), (s = r.end ? qt(r.end, u) : null);
          var m = n && s && Ot(e, h, n, s, !0),
            _ = Qt(Ut(l, e), 7),
            v = e.lastDay && e.lastDay < _ ? e.lastDay : _;
          (a = !(d = n && m && !Wt(n, m)) || (n && Wt(n, l))),
            (i = !d || (m && Wt(m, l))),
            (o = !d || (e.showText ? m < v : i)),
            (this._hasResizeStart = e.resize && a),
            (this._hasResizeEnd = e.resize && o);
          var p = r.color;
          if (!p && r.resource && e.resourcesMap) {
            var f = e.resourcesMap[q(r.resource) ? r.resource[0] : r.resource];
            p = f && f.color;
          }
          e.showText && (this._textColor = p ? je(p) : undefined),
            (this._color = e.render || e.template ? undefined : r.textColor && !p ? 'transparent' : p);
        }
        if (r && e.showText && (c || e.contentTemplate || e.template)) {
          var g = r.allDay || !n || (d && !a && !i);
          if (
            ((this._data = {
              end: !g && i && s ? Jt(e.timeFormat, s, e) : '',
              id: r.id,
              isMultiDay: d,
              original: r,
              start: !g && a && n ? Jt(e.timeFormat, n, e) : '',
              title: this._title,
            }),
            c)
          ) {
            var y = c(this._data);
            Z(y) ? ((this._html = this._safeHtml(y)), (this._shouldEnhance = !0)) : (this._content = y);
          }
        } else this._html = this._safeHtml(e.more || e.count || (e.showText && (r.title || r.text)) || '');
        this._cssClass =
          'mbsc-calendar-text' +
          this._theme +
          this._rtl +
          ((t.hasFocus && !e.inactive && !e.selected) || (e.selected && e.showText)
            ? ' mbsc-calendar-label-active '
            : '') +
          (!t.hasHover || e.inactive || this._isDrag ? '' : ' mbsc-calendar-label-hover') +
          (e.more
            ? ' mbsc-calendar-text-more'
            : e.render || e.template
            ? ' mbsc-calendar-custom-label'
            : ' mbsc-calendar-label') +
          (e.inactive ? ' mbsc-calendar-label-inactive' : '') +
          (e.isUpdate ? ' mbsc-calendar-label-dragging' : '') +
          (e.hidden ? ' mbsc-calendar-label-hidden' : '') +
          (a ? ' mbsc-calendar-label-start' : '') +
          (o ? ' mbsc-calendar-label-end' : '') +
          (r && !1 === r.editable ? ' mbsc-readonly-event' : '');
      }),
      t
    );
  })(at),
  ws = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        var t = e.event && !1 !== e.event.editable;
        return Bn(
          'div',
          {
            'aria-hidden': e.showText ? undefined : 'true',
            className: this._cssClass,
            'data-id': e.showText && e.event ? e.event.id : null,
            onClick: this._onClick,
            onContextMenu: this._onRightClick,
            ref: this._setEl,
            role: e.showText ? 'button' : undefined,
            style: { color: this._color },
            tabIndex: this._tabIndex,
            title: this._title,
          },
          this._hasResizeStart &&
            t &&
            Bn('div', {
              className:
                'mbsc-calendar-label-resize mbsc-calendar-label-resize-start' +
                this._rtl +
                (e.isUpdate ? ' mbsc-calendar-label-resize-start-touch' : ''),
            }),
          this._hasResizeEnd &&
            t &&
            Bn('div', {
              className:
                'mbsc-calendar-label-resize mbsc-calendar-label-resize-end' +
                this._rtl +
                (e.isUpdate ? ' mbsc-calendar-label-resize-end-touch' : ''),
            }),
          e.showText &&
            !e.more &&
            !e.render &&
            Bn('div', { className: 'mbsc-calendar-label-background' + this._theme }),
          e.showText && !e.more && e.render
            ? this._html
              ? Bn('div', { dangerouslySetInnerHTML: this._html })
              : this._content
            : Bn(
                'div',
                { className: 'mbsc-calendar-label-inner' + this._theme, style: { color: this._textColor } },
                Bn(
                  'div',
                  {
                    'aria-hidden': 'true',
                    className: 'mbsc-calendar-label-text' + this._theme,
                    dangerouslySetInnerHTML: this._html,
                    style: { color: e.event && e.event.textColor },
                  },
                  this._content,
                ),
                e.label && Bn('div', { className: 'mbsc-hidden-content' }, e.label),
              ),
        );
      }),
      t
    );
  })(Ts),
  Ss = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._renderEvent = function (e, t, n, s, a, i) {
        return Bn(ws, {
          key: i,
          amText: e.amText,
          count: t.count ? t.count + ' ' + (t.count > 1 ? e.eventsText : e.eventText) : undefined,
          date: e.date,
          dataTimezone: e.dataTimezone,
          displayTimezone: e.displayTimezone,
          drag: e.dragToMove,
          resize: e.dragToResize,
          event: t.event,
          exclusiveEndDates: e.exclusiveEndDates,
          firstDay: e.firstDay,
          hidden: s,
          id: t.id,
          inactive:
            !a &&
            t.event &&
            e.dragData &&
            e.dragData.draggedEvent &&
            t.event.id === e.dragData.draggedEvent.id,
          isActiveMonth: e.isActiveMonth,
          isPicker: e.isPicker,
          isUpdate: a,
          label: t.label,
          lastDay: t.lastDay,
          more: t.more,
          pmText: e.pmText,
          resourcesMap: e.resourcesMap,
          rtl: e.rtl,
          selected:
            t.event && e.selectedEventsMap && (e.selectedEventsMap[t.id] || e.selectedEventsMap[t.event.id]),
          showEventTooltip: e.showEventTooltip,
          showText: n,
          theme: e.theme,
          timeFormat: e.timeFormat,
          timezonePlugin: e.timezonePlugin,
          render: e.renderLabel,
          renderContent: e.renderLabelContent,
          onClick: this._onLabelClick,
          onDoubleClick: this._onLabelDoubleClick,
          onRightClick: this._onLabelRightClick,
          onHoverIn: this._onLabelHoverIn,
          onHoverOut: this._onLabelHoverOut,
          onDelete: e.onLabelDelete,
          onDragStart: e.onLabelUpdateStart,
          onDragMove: e.onLabelUpdateMove,
          onDragEnd: e.onLabelUpdateEnd,
          onDragModeOn: e.onLabelUpdateModeOn,
          onDragModeOff: e.onLabelUpdateModeOff,
        });
      }),
      (t.prototype._renderLabel = function (e, t) {
        var n = t.id;
        return t.placeholder
          ? Bn('div', { className: 'mbsc-calendar-text mbsc-calendar-text-placeholder', key: n })
          : t.more || t.count
          ? this._renderEvent(e, t, !0, !1, !1, n)
          : t.multiDay
          ? [
              Bn(
                'div',
                { className: 'mbsc-calendar-label-wrapper', style: { width: t.width + '%' }, key: n },
                this._renderEvent(e, t, !0),
              ),
              this._renderEvent(e, t, !1, !1, !1, '-' + n),
            ]
          : this._renderEvent(e, t, t.showText, !1, !1, n);
      }),
      (t.prototype._template = function (e) {
        var t,
          n = this,
          s = this._draggedLabel,
          a = this._draggedLabelOrig,
          i = this._theme;
        return (
          e.renderDay && (t = e.renderDay(this._data)),
          e.renderDayContent && (t = e.renderDayContent(this._data)),
          Z(t) &&
            ((t = Bn('div', { dangerouslySetInnerHTML: this._safeHtml(t) })), (this._shouldEnhance = !0)),
          Bn(
            'div',
            {
              ref: this._setEl,
              className: this._cssClass,
              onClick: this._onClick,
              onContextMenu: this._onRightClick,
              style: this._cellStyles,
              tabIndex: e.disabled ? undefined : e.active ? 0 : -1,
            },
            Bn(
              'div',
              {
                className:
                  'mbsc-calendar-cell-inner mbsc-calendar-' +
                  e.type +
                  '-inner' +
                  i +
                  ('day' === e.type ? '' : this._hb) +
                  (e.display ? '' : ' mbsc-calendar-day-hidden'),
              },
              e.renderDay
                ? t
                : Bn(
                    jn,
                    null,
                    1 === e.text &&
                      Bn(
                        'div',
                        { 'aria-hidden': 'true', className: 'mbsc-calendar-month-name' + i + this._rtl },
                        e.monthShort,
                      ),
                    Bn(
                      'div',
                      {
                        'aria-label': this._ariaLabel,
                        role: 'button',
                        'aria-pressed': e.selected ? 'true' : undefined,
                        className:
                          'mbsc-calendar-cell-text mbsc-calendar-' + e.type + '-text' + i + this._todayClass,
                        style: this._circleStyles,
                      },
                      e.text,
                    ),
                    e.marks &&
                      Bn(
                        'div',
                        null,
                        Bn(
                          'div',
                          { className: 'mbsc-calendar-marks' + i + this._rtl },
                          e.marks.map(function (e, t) {
                            return Bn('div', {
                              className: 'mbsc-calendar-mark ' + (e.markCssClass || '') + i,
                              key: t,
                              style: { background: e.color },
                            });
                          }),
                        ),
                      ),
                    e.renderDayContent && t,
                  ),
              e.labels &&
                Bn(
                  'div',
                  null,
                  a &&
                    a.event &&
                    Bn(
                      'div',
                      { className: 'mbsc-calendar-labels mbsc-calendar-labels-dragging' },
                      Bn(
                        'div',
                        { style: { width: a.width + '%' || '100%' } },
                        this._renderEvent(e, { id: 0, event: a.event }, !0, !!e.dragData.draggedDates, !0),
                      ),
                    ),
                  s &&
                    s.event &&
                    Bn(
                      'div',
                      { className: 'mbsc-calendar-labels mbsc-calendar-labels-dragging' },
                      Bn(
                        'div',
                        {
                          className: 'mbsc-calendar-label-wrapper',
                          style: { width: s.width + '%' || '100%' },
                        },
                        this._renderEvent(e, { id: 0, event: s.event }, !0, !1, !0),
                      ),
                    ),
                  Bn(
                    'div',
                    { className: 'mbsc-calendar-labels' },
                    e.labels.data.map(function (t) {
                      return n._renderLabel(e, t);
                    }),
                  ),
                  Bn('div', { className: 'mbsc-calendar-text mbsc-calendar-text-placeholder' }),
                ),
            ),
          )
        );
      }),
      t
    );
  })(ks),
  Es = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t.state = { height: 'sm', pageSize: 0, pickerSize: 0, width: 'sm' }),
        (t._dim = {}),
        (t._months = [1, 2, 3]),
        (t._title = []),
        (t.MONTH_VIEW = 'month'),
        (t.YEAR_VIEW = 'year'),
        (t.MULTI_YEAR_VIEW = 'multi-year'),
        (t.nextPage = function () {
          switch ((t._prevDocClick(), t._view)) {
            case 'multi-year':
              t._activeYearsChange(1);
              break;
            case 'year':
              t._activeYearChange(1);
              break;
            default:
              t._activeChange(1);
          }
        }),
        (t.prevPage = function () {
          switch ((t._prevDocClick(), t._view)) {
            case 'multi-year':
              t._activeYearsChange(-1);
              break;
            case 'year':
              t._activeYearChange(-1);
              break;
            default:
              t._activeChange(-1);
          }
        }),
        (t._changeView = function (e) {
          var n = t.s,
            s = t._view,
            a = t._hasPicker,
            i = n.selectView,
            o = 'year' === (n.showCalendar ? n.calendarType : n.eventRange);
          if (!e) {
            switch (s) {
              case 'month':
                e = 'multi-year';
                break;
              case 'multi-year':
                e = 'year';
                break;
              default:
                e = a || 'year' === i ? 'multi-year' : 'month';
            }
            'multi-year' === s && o && (e = 'month');
          }
          var r = a && e === i;
          t.setState({ view: e, viewClosing: r ? undefined : s, viewOpening: r ? undefined : e });
        }),
        (t._onDayHoverIn = function (e) {
          t._disableHover ||
            (t._hook('onDayHoverIn', e),
            (t._hoverTimer = setTimeout(function () {
              var n = zt(e.date);
              t._labels && (e.labels = t._labels[n]),
                t._marked && (e.marked = t._marked[n]),
                (t._isHover = !0),
                t._hook('onCellHoverIn', e);
            }, 150)));
        }),
        (t._onDayHoverOut = function (e) {
          if (!t._disableHover && (t._hook('onDayHoverOut', e), clearTimeout(t._hoverTimer), t._isHover)) {
            var n = zt(e.date);
            t._labels && (e.labels = t._labels[n]),
              t._marked && (e.marked = t._marked[n]),
              (t._isHover = !1),
              t._hook('onCellHoverOut', e);
          }
        }),
        (t._onLabelClick = function (e) {
          (t._isLabelClick = !0), t._hook('onLabelClick', e);
        }),
        (t._onDayClick = function (e) {
          (t._shouldFocus = !t._isLabelClick),
            (t._prevAnim = !1),
            (t._prevPageChange = t.s.noOuterChange),
            (t._isLabelClick = !1),
            t._hook('onDayClick', e);
        }),
        (t._onTodayClick = function (e) {
          (t._prevAnim = !1),
            t._hook('onActiveChange', { date: +new Date(), today: !0 }),
            t._hook('onTodayClick', {});
        }),
        (t._onMonthClick = function (e) {
          var n = e.date,
            s = t.s;
          if ('year' === s.selectView) t._hook('onDayClick', e);
          else {
            var a = on(n, s) - t._offset;
            t._changeView('month'),
              (t._shouldFocus = !0),
              (t._prevAnim = !t._hasPicker),
              t._hook('onActiveChange', { date: +n, nav: !0, pageChange: a !== t._pageIndex });
          }
        }),
        (t._onYearClick = function (e) {
          var n = e.date,
            s = t.s,
            a = s.selectView;
          if ('multi-year' === a) t._hook('onDayClick', e);
          else if (
            ((t._shouldFocus = !0),
            (t._prevAnim = 'year' === a),
            (t._activeMonth = +n),
            t._changeView(),
            'year' === (s.showCalendar ? s.calendarType : s.eventRange))
          ) {
            var i = on(n, s) - t._offset;
            t._hook('onActiveChange', { date: +n, pageChange: i !== t._pageIndex });
          }
        }),
        (t._onPageChange = function (e) {
          (t._isSwipeChange = !0), t._activeChange(e.diff);
        }),
        (t._onYearPageChange = function (e) {
          t._activeYearChange(e.diff);
        }),
        (t._onYearsPageChange = function (e) {
          t._activeYearsChange(e.diff);
        }),
        (t._onAnimationEnd = function (e) {
          (t._disableHover = !1), t._isIndexChange && (t._pageLoaded(), (t._isIndexChange = !1));
        }),
        (t._onStart = function () {
          clearTimeout(t._hoverTimer);
        }),
        (t._onGestureStart = function (e) {
          (t._disableHover = !0), t._hook('onGestureStart', e);
        }),
        (t._onGestureEnd = function (e) {
          t._prevDocClick();
        }),
        (t._onPickerClose = function () {
          t.setState({ view: 'month' });
        }),
        (t._onPickerOpen = function () {
          var e = t._pickerCont.clientHeight,
            n = t._pickerCont.clientWidth;
          t.setState({ pickerSize: t._isVertical ? e : n });
        }),
        (t._onPickerBtnClick = function (e) {
          'month' === t._view && (t._pickerBtn = e.currentTarget), t._prevDocClick(), t._changeView();
        }),
        (t._onDocClick = function (e) {
          var n = t.s.selectView;
          t._prevClick ||
            t._hasPicker ||
            t._view === n ||
            !t._pickerCont ||
            t._pickerCont.contains(e.target) ||
            t._changeView(n);
        }),
        (t._onViewAnimationEnd = function () {
          t.state.viewClosing && t.setState({ viewClosing: undefined }),
            t.state.viewOpening && t.setState({ viewOpening: undefined });
        }),
        (t._onResize = function () {
          if (t._body && f) {
            var e = t.s,
              n = t.state,
              s = e.showCalendar,
              a = s ? t._body.querySelector('.mbsc-calendar-body-inner') : t._body,
              i = t._el.offsetWidth,
              o = t._el.offsetHeight,
              r = a.clientHeight,
              l = a.clientWidth,
              c = t._isVertical ? r : l,
              d = t._hasPicker ? n.pickerSize : c,
              h = undefined !== s,
              u = 'sm',
              m = 'sm',
              _ = 0,
              v = !1,
              p = 0,
              g = 0;
            if (
              (e.responsiveStyle && !t._isGrid && (r > 300 && (m = 'md'), l > 767 && (u = 'md')),
              u !== n.width || m !== n.height)
            )
              (t._shouldCheckSize = !0), t.setState({ width: u, height: m });
            else {
              if (t._labels && s) {
                var y = a.querySelector('.mbsc-calendar-text'),
                  b = a.querySelector('.mbsc-calendar-day-inner'),
                  D = b.querySelector('.mbsc-calendar-labels'),
                  C = y ? Ae(y, 'marginBottom') : 2,
                  k = y ? y.offsetHeight : 18;
                (p = D.offsetTop),
                  (v = a.scrollHeight > a.clientHeight),
                  (g = k + C),
                  (_ = Math.max(1, oe((b.clientHeight - p) / g)));
              }
              t._hook('onResize', { height: o, target: t._el, width: i }),
                t.setState({
                  cellTextHeight: p,
                  hasScrollY: v,
                  labelHeight: g,
                  maxLabels: _,
                  pageSize: c,
                  pickerSize: d,
                  ready: h,
                });
            }
          }
        }),
        (t._onKeyDown = function (e) {
          var n,
            s = t.s,
            a = t._view,
            i = 'month' === a ? t._active : t._activeMonth,
            o = new Date(i),
            r = s.getYear(o),
            l = s.getMonth(o),
            c = s.getDay(o),
            d = s.getDate,
            h = s.weeks,
            u = 'month' === s.calendarType;
          if ('multi-year' === a) {
            var m = void 0;
            switch (e.keyCode) {
              case 37:
                m = r - 1 * t._rtlNr;
                break;
              case 39:
                m = r + 1 * t._rtlNr;
                break;
              case 38:
                m = r - 3;
                break;
              case 40:
                m = r + 3;
                break;
              case 36:
                m = t._getPageYears(t._yearsIndex);
                break;
              case 35:
                m = t._getPageYears(t._yearsIndex) + 11;
                break;
              case 33:
                m = r - 12;
                break;
              case 34:
                m = r + 12;
            }
            m &&
              t._minYears <= m &&
              t._maxYears >= m &&
              (e.preventDefault(),
              (t._shouldFocus = !0),
              (t._prevAnim = !1),
              (t._activeMonth = +d(m, 0, 1)),
              t.forceUpdate());
          } else if ('year' === a) {
            switch (e.keyCode) {
              case 37:
                n = d(r, l - 1 * t._rtlNr, 1);
                break;
              case 39:
                n = d(r, l + 1 * t._rtlNr, 1);
                break;
              case 38:
                n = d(r, l - 3, 1);
                break;
              case 40:
                n = d(r, l + 3, 1);
                break;
              case 36:
                n = d(r, 0, 1);
                break;
              case 35:
                n = d(r, 11, 1);
                break;
              case 33:
                n = d(r - 1, l, 1);
                break;
              case 34:
                n = d(r + 1, l, 1);
            }
            n &&
              t._minYear <= n &&
              t._maxYear >= n &&
              (e.preventDefault(),
              (t._shouldFocus = !0),
              (t._prevAnim = !1),
              (t._activeMonth = +n),
              t.forceUpdate());
          } else if ('month' === a) {
            switch (e.keyCode) {
              case 37:
                n = d(r, l, c - 1 * t._rtlNr);
                break;
              case 39:
                n = d(r, l, c + 1 * t._rtlNr);
                break;
              case 38:
                n = d(r, l, c - 7);
                break;
              case 40:
                n = d(r, l, c + 7);
                break;
              case 36:
                n = d(r, l, 1);
                break;
              case 35:
                n = d(r, l + 1, 0);
                break;
              case 33:
                n = e.altKey ? d(r - 1, l, c) : u ? d(r, l - 1, c) : d(r, l, c - 7 * h);
                break;
              case 34:
                n = e.altKey ? d(r + 1, l, c) : u ? d(r, l + 1, c) : d(r, l, c + 7 * h);
            }
            if (n && t._minDate <= n && t._maxDate >= n) {
              e.preventDefault();
              var _ = on(n, s) - t._offset;
              (t._shouldFocus = !0),
                (t._prevAnim = !1),
                (t._pageChange = s.noOuterChange && _ !== t._pageIndex),
                t._hook('onActiveChange', { date: +n, pageChange: t._pageChange });
            }
          }
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._getPageDay = function (e) {
        return +an(e + this._offset, this.s);
      }),
      (t.prototype._getPageStyle = function (e, t, n) {
        var s;
        return (
          ((s = {})[(Ye ? Ye + 'T' : 't') + 'ransform'] =
            'translate' + this._axis + '(' + 100 * (e - t) * this._rtlNr + '%)'),
          (s.width = 100 / (n || 1) + '%'),
          s
        );
      }),
      (t.prototype._getPageYear = function (e) {
        var t = this.s,
          n = t.refDate ? qt(t.refDate) : kt;
        return t.getYear(n) + e + this._yearOffset;
      }),
      (t.prototype._getPageYears = function (e) {
        var t = this.s,
          n = t.refDate ? qt(t.refDate) : kt;
        return t.getYear(n) + 12 * (e + this._yearsOffset);
      }),
      (t.prototype._getPickerClass = function (e) {
        var t,
          n = e === this.s.selectView ? ' mbsc-calendar-picker-main' : '',
          s = 'mbsc-calendar-picker',
          a = this._hasPicker,
          i = this.state,
          o = i.viewClosing,
          r = i.viewOpening;
        switch (e) {
          case 'month':
            t = a ? '' : ('month' === r ? 'in-down' : '') + ('month' === o ? 'out-down' : '');
            break;
          case 'multi-year':
            t =
              a && 'month' === o
                ? ''
                : ('multi-year' === r ? 'in-up' : '') + ('multi-year' === o ? 'out-up' : '');
            break;
          default:
            t =
              a && 'month' === r
                ? ''
                : ('year' === r ? ('multi-year' === o ? 'in-down' : 'in-up') : '') +
                  ('year' === o ? ('multi-year' === r ? 'out-down' : 'out-up') : '');
        }
        return s + n + (He && t ? ' ' + s + '-' + t : '');
      }),
      (t.prototype._isNextDisabled = function (e) {
        if (!this._hasPicker || e) {
          var t = this._view;
          if ('multi-year' === t) return this._yearsIndex + 1 > this._maxYearsIndex;
          if ('year' === t) return this._yearIndex + 1 > this._maxYearIndex;
        }
        return this._pageIndex + 1 > this._maxIndex;
      }),
      (t.prototype._isPrevDisabled = function (e) {
        if (!this._hasPicker || e) {
          var t = this._view;
          if ('multi-year' === t) return this._yearsIndex - 1 < this._minYearsIndex;
          if ('year' === t) return this._yearIndex - 1 < this._minYearIndex;
        }
        return this._pageIndex - 1 < this._minIndex;
      }),
      (t.prototype._render = function (e, t) {
        var n = e.getDate,
          s = e.getYear,
          a = e.getMonth,
          i = e.showCalendar,
          o = e.calendarType,
          r = e.eventRange,
          l = e.eventRangeSize || 1,
          c = e.firstDay,
          d = 'week' === o,
          h = 'month' === o,
          u = 'year' === o ? 12 : e.size || 1,
          m = u > 1 && !d,
          _ = i ? (d ? e.weeks : 6) : 0,
          v = e.activeDate || this._active || +new Date(),
          p = v !== this._active,
          f = new Date(v),
          g = this._prevS,
          y = e.dateFormat,
          b = e.monthNames,
          D = e.yearSuffix,
          C = G(e.labelList) ? +e.labelList + 1 : 'all' === e.labelList ? -1 : 0,
          k = e.labelList !== g.labelList,
          x =
            o !== g.calendarType ||
            r !== g.eventRange ||
            c !== g.firstDay ||
            e.eventRangeSize !== g.eventRangeSize ||
            e.refDate !== g.refDate ||
            e.showCalendar !== g.showCalendar ||
            e.weeks !== g.weeks,
          T =
            this._pageChange ||
            undefined === this._pageIndex ||
            x ||
            (!this._prevPageChange && p && (v < +this._firstDay || v >= +this._lastDay))
              ? on(f, e)
              : this._pageIndex + this._offset;
        (_ === this._weeks && undefined !== this._pageIndex) || (this._offset = T),
          p && (this._activeMonth = v);
        var w = rn(new Date(this._activeMonth), e),
          S = ln(new Date(this._activeMonth), e);
        if (
          (p && ((this._yearsOffset = w), (this._yearOffset = S)),
          (this._view = t.view || e.selectView),
          (this._yearsIndex = w - this._yearsOffset),
          (this._yearIndex = S - this._yearOffset),
          'year' === this._view)
        )
          this._viewTitle = this._getPageYear(this._yearIndex) + '';
        else if ('multi-year' === this._view) {
          var E = this._getPageYears(this._yearsIndex);
          this._viewTitle = E + ' - ' + (E + 11);
        }
        var M,
          L,
          N = m ? 0 : 1,
          H = m
            ? 1
            : ((M = e.pages),
              (L = t.pageSize),
              'auto' === M ? Math.max(1, Math.min(3, Math.floor(L ? L / 296 : 1))) : M ? +M : 1),
          I =
            'vertical' === e.calendarScroll && 'auto' !== e.pages && (undefined === e.pages || 1 === e.pages),
          O = undefined !== e.showOuterDays ? e.showOuterDays : !I && H < 2 && (d || !u || u < 2),
          z = an(T, e),
          Y = an(T + H, e);
        i ||
          'week' !== r ||
          undefined === e.startDay ||
          undefined === e.endDay ||
          ((z = Qt(z, e.startDay - c + (e.startDay < c ? 7 : 0))),
          (Y = Qt(z, 7 * l + e.endDay - e.startDay + 1 - (e.endDay < e.startDay ? 0 : 7))));
        var P = i && O ? Ut(z, e) : z,
          R = m ? n(s(Y), a(Y) - 1, 1) : an(T + H - 1, e),
          F = i && O ? Qt(Ut(R, e), 7 * _) : Y,
          U = i ? Ut(an(T - 0 - N, e), e) : z,
          W = i ? Ut(an(T - 0 + H + N - 1, e), e) : Y,
          A = i ? Qt(m ? Ut(R, e) : W, 7 * _) : Y,
          V = y.search(/m/i),
          X = y.search(/y/i);
        if ($(e.min))
          (this._minDate = -1 / 0),
            (this._minIndex = -1 / 0),
            (this._minYears = -1 / 0),
            (this._minYearsIndex = -1 / 0),
            (this._minYear = -1 / 0),
            (this._minYearIndex = -1 / 0);
        else {
          if (g.min !== e.min || e.getDate !== g.getDate) {
            var B = qt(e.min);
            (this._minDate = Yt(B)), (this._minYear = n(s(B), a(B), 1)), (this._minYears = s(B));
          }
          (this._minIndex = on(this._minDate, e) - this._offset),
            (this._minYearIndex = ln(this._minDate, e) - this._yearOffset),
            (this._minYearsIndex = rn(this._minDate, e) - this._yearsOffset);
        }
        if ($(e.max))
          (this._maxDate = 1 / 0),
            (this._maxIndex = 1 / 0),
            (this._maxYears = 1 / 0),
            (this._maxYearsIndex = 1 / 0),
            (this._maxYear = 1 / 0),
            (this._maxYearIndex = 1 / 0);
        else {
          if (g.max !== e.max || e.getDate !== g.getDate) {
            var K = qt(e.max);
            (this._maxDate = K), (this._maxYear = n(s(K), a(K) + 1, 1)), (this._maxYears = s(this._maxDate));
          }
          (this._maxIndex = on(this._maxDate, e) - this._offset),
            (this._maxYearIndex = ln(this._maxDate, e) - this._yearOffset),
            (this._maxYearsIndex = rn(this._maxDate, e) - this._yearsOffset);
        }
        if (m && ((this._monthsMulti = []), undefined !== T)) {
          for (var q = oe(t.pageSize / 296) || 1; u % q; ) q--;
          for (var J = 0; J < u / q; ++J) {
            for (var Z = [], Q = 0; Q < q; ++Q) Z.push(+n(s(z), a(z) + J * q + Q, 1));
            this._monthsMulti.push(Z);
          }
        }
        (o !== g.calendarType ||
          e.theme !== g.theme ||
          e.calendarScroll !== g.calendarScroll ||
          e.hasContent !== g.hasContent ||
          e.showCalendar !== g.showCalendar ||
          e.showWeekNumbers !== g.showWeekNumbers ||
          e.weeks !== g.weeks ||
          k) &&
          (this._shouldCheckSize = !0),
          (g.width === e.width && g.height === e.height) ||
            (this._dim = { height: ne(e.height), width: ne(e.width) }),
          (this._cssClass =
            'mbsc-calendar mbsc-font' +
            this._theme +
            this._rtl +
            (t.ready ? '' : ' mbsc-calendar-hidden') +
            (m
              ? ' mbsc-calendar-grid-view'
              : ' mbsc-calendar-height-' + t.height + ' mbsc-calendar-width-' + t.width) +
            ' ' +
            e.cssClass),
          (this._dayNames = 'sm' === t.width || m ? e.dayNamesMin : e.dayNamesShort),
          (this._isSwipeChange = !1),
          (this._firstDay = z),
          (this._firstPageDay = P),
          (this._lastDay = Y),
          (this._lastPageDay = F),
          (this._yearFirst = X < V),
          (this._pageNr = H),
          (this._variableRow = C);
        var ee = e.pageLoad !== g.pageLoad,
          te = +U != +this._viewStart || +A != +this._viewEnd;
        if (
          (undefined !== this._pageIndex &&
            te &&
            ((this._isIndexChange = !this._isSwipeChange && !x),
            this._hook('onPageChange', {
              firstDay: P,
              lastDay: F,
              month: h ? z : undefined,
              viewEnd: A,
              viewStart: U,
            })),
          undefined !== T && (this._pageIndex = T - this._offset),
          undefined !== T &&
            (e.marked !== g.marked ||
              e.colors !== g.colors ||
              e.labels !== g.labels ||
              e.invalid !== g.invalid ||
              e.valid !== g.valid ||
              t.maxLabels !== this._maxLabels ||
              te ||
              k ||
              ee))
        ) {
          (te || ee) &&
            ((this._marksMap = undefined),
            (this._labelsMap = undefined),
            this._hook('onPageLoading', {
              firstDay: P,
              lastDay: F,
              month: h ? z : undefined,
              viewChanged: te,
              viewEnd: A,
              viewStart: U,
            })),
            (this._maxLabels = t.maxLabels || 0),
            (this._viewStart = U),
            (this._viewEnd = A);
          var se = this._labelsMap || Tn(e.labels, U, A, e),
            ae =
              se &&
              dn(
                e,
                se,
                U,
                A,
                this._variableRow || this._maxLabels,
                7,
                !1,
                c,
                !0,
                e.eventOrder,
                !O,
                e.showLabelCount,
                e.moreEventsText,
                e.moreEventsPluralText,
              );
          ae && !this._labels && (this._shouldCheckSize = !0),
            ((ae && t.maxLabels) || !ae) &&
              (this._shouldPageLoad = !this._isIndexChange || this._prevAnim || !i || ee),
            (this._labelsLayout = ae),
            (this._labels = se),
            (this._marked = !se && (this._marksMap || Tn(e.marked, U, A, e))),
            (this._colors = Tn(e.colors, U, A, e)),
            (this._valid = Tn(e.valid, U, A, e, !0)),
            (this._invalid = Tn(e.invalid, U, A, e, !0));
        }
        if (te || p || r !== g.eventRange || l !== g.eventRangeSize || e.monthNames !== g.monthNames) {
          this._title = [];
          var ie = Qt(Y, -1),
            re = undefined === T ? f : z;
          if (d)
            for (var le = 0, ce = Object.keys(e.selectedDates); le < ce.length; le++) {
              var de = ce[le];
              if (+de >= +z && +de < +Y) {
                re = new Date(+de);
                break;
              }
            }
          if (this._pageNr > 1)
            for (J = 0; J < H; J++) {
              var he = n(s(z), a(z) + J, 1),
                ue = s(he) + D,
                me = b[a(he)];
              this._title.push({ yearTitle: ue, monthTitle: me });
            }
          else {
            var _e = { yearTitle: s(re) + D, monthTitle: b[a(re)] },
              ve = e.showSchedule && 1 === l ? r : i ? o : r,
              pe = r && !i && (!e.showSchedule || l > 1);
            switch (ve) {
              case 'year':
                (_e.title = s(z) + D), l > 1 && (_e.title += ' - ' + (s(ie) + D));
                break;
              case 'month':
                if (l > 1 && !i) {
                  var fe = b[a(z)],
                    ge = s(z) + D,
                    ye = this._yearFirst ? ge + ' ' + fe : fe + ' ' + ge,
                    be = b[a(ie)],
                    De = s(ie) + D,
                    Ce = this._yearFirst ? De + ' ' + be : be + ' ' + De;
                  _e.title = ye + ' - ' + Ce;
                } else m && (_e.title = s(z) + D);
                break;
              case 'day':
              case 'week':
                if (pe) {
                  var ke = y.search(/d/i) < V ? 'D MMM, YYYY' : 'MMM D, YYYY';
                  (_e.title = Jt(ke, z, e)), ('week' === ve || l > 1) && (_e.title += ' - ' + Jt(ke, ie, e));
                }
            }
            this._title.push(_e);
          }
        }
        (this._active = v),
          (this._activeMonth = j(this._activeMonth, +this._minDate, +this._maxDate)),
          (this._hasPicker = e.hasPicker || m || !h || !i || ('md' === t.width && !1 !== e.hasPicker)),
          (this._axis = I ? 'Y' : 'X'),
          (this._rtlNr = !I && e.rtl ? -1 : 1),
          (this._weeks = _),
          (this._nextIcon = I ? e.nextIconV : e.rtl ? e.prevIconH : e.nextIconH),
          (this._prevIcon = I ? e.prevIconV : e.rtl ? e.nextIconH : e.prevIconH),
          (this._mousewheel = undefined === e.mousewheel ? I : e.mousewheel),
          (this._isGrid = m),
          (this._isVertical = I),
          (this._showOuter = O);
      }),
      (t.prototype._mounted = function () {
        (this._observer = hs(this._el, this._onResize, this._zone)),
          (this._doc = We(this._el)),
          Fe(this._doc, it, this._onDocClick);
      }),
      (t.prototype._updated = function () {
        var e = this;
        if (
          (this._shouldCheckSize
            ? (setTimeout(function () {
                e._onResize();
              }),
              (this._shouldCheckSize = !1))
            : this._shouldPageLoad && (this._pageLoaded(), (this._shouldPageLoad = !1)),
          this._shouldFocus &&
            setTimeout(function () {
              e._focusActive(), (e._shouldFocus = !1);
            }),
          this.s.instanceService && this.s.instanceService.onComponentChange.next({}),
          (this._pageChange = !1),
          (this._prevPageChange = !1),
          this._variableRow && this._body.firstChild)
        ) {
          var t = this._body.firstChild,
            n = t.scrollHeight > t.clientHeight;
          n !== this.state.hasScrollY && ((this._shouldCheckSize = !0), this.setState({ hasScrollY: n }));
        }
      }),
      (t.prototype._destroy = function () {
        this._observer && this._observer.detach(),
          Ue(this._doc, it, this._onDocClick),
          clearTimeout(this._hoverTimer);
      }),
      (t.prototype._getActiveCell = function () {
        var e = this._view,
          t = 'month' === e ? this._body : this._pickerCont,
          n = 'multi-year' === e ? 'year' : 'year' === e ? 'month' : 'cell';
        return t && t.querySelector('.mbsc-calendar-' + n + '[tabindex="0"]');
      }),
      (t.prototype._focusActive = function () {
        var e = this._getActiveCell();
        e && e.focus();
      }),
      (t.prototype._pageLoaded = function () {
        this._hook('onPageLoaded', {
          activeElm: this._getActiveCell(),
          firstDay: this._firstPageDay,
          lastDay: this._lastPageDay,
          month: 'month' === this.s.calendarType ? this._firstDay : undefined,
          viewEnd: this._viewEnd,
          viewStart: this._viewStart,
        });
      }),
      (t.prototype._activeChange = function (e) {
        var t = this._pageIndex + e;
        this._minIndex <= t &&
          this._maxIndex >= t &&
          ((this._prevAnim = !1),
          (this._pageChange = !0),
          this._hook('onActiveChange', { date: this._getPageDay(t), dir: e, pageChange: !0 }));
      }),
      (t.prototype._activeYearsChange = function (e) {
        var t = this._yearsIndex + e;
        if (this._minYearsIndex <= t && this._maxYearsIndex >= t) {
          var n = this._getPageYears(t);
          (this._prevAnim = !1), (this._activeMonth = +this.s.getDate(n, 0, 1)), this.forceUpdate();
        }
      }),
      (t.prototype._activeYearChange = function (e) {
        var t = this._yearIndex + e;
        if (this._minYearIndex <= t && this._maxYearIndex >= t) {
          var n = this._getPageYear(t);
          (this._prevAnim = !1), (this._activeMonth = +this.s.getDate(n, 0, 1)), this.forceUpdate();
        }
      }),
      (t.prototype._prevDocClick = function () {
        var e = this;
        (this._prevClick = !0),
          setTimeout(function () {
            e._prevClick = !1;
          });
      }),
      t
    );
  })(at),
  Ms = function (e) {
    var t = e.firstDay,
      n = e.hidden,
      s = e.rtl,
      a = e.theme,
      i = e.dayNamesShort,
      o = e.showWeekNumbers,
      r = e.hasScroll;
    return Bn(
      'div',
      { 'aria-hidden': 'true', className: 'mbsc-calendar-week-days mbsc-flex' + (n ? ' mbsc-hidden' : '') },
      o && Bn('div', { className: 'mbsc-calendar-week-day mbsc-flex-none mbsc-calendar-week-nr' + a + s }),
      K.map(function (e, n) {
        return Bn(
          'div',
          { className: 'mbsc-calendar-week-day mbsc-flex-1-0-0' + a + s, key: n },
          i[(n + t) % 7],
        );
      }),
      r && Bn('div', { className: 'mbsc-schedule-fake-scroll-y' }),
    );
  },
  Ls = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        var t = this,
          n = e.showWeekNumbers,
          s = e.showWeekDays
            ? Bn(Ms, {
                dayNamesShort: e.dayNamesShort,
                firstDay: e.firstDay,
                rtl: this._rtl,
                showWeekNumbers: n,
                theme: this._theme,
              })
            : null;
        return Bn(
          'div',
          {
            'aria-hidden': e.isActive ? undefined : 'true',
            className:
              'mbsc-calendar-table mbsc-flex-col mbsc-flex-1-1' +
              (e.isActive ? ' mbsc-calendar-table-active' : ''),
          },
          s,
          this._rows.map(function (s, a) {
            var i = n ? t._getWeekNr(e, s[0].date) : '';
            return Bn(
              'div',
              {
                className: 'mbsc-calendar-row mbsc-flex mbsc-flex-1-0',
                key: a,
                style: { minHeight: t._rowHeights[a] },
              },
              n &&
                Bn(
                  'div',
                  {
                    className:
                      'mbsc-calendar-cell mbsc-flex-none mbsc-calendar-day mbsc-calendar-week-nr' + t._theme,
                  },
                  Bn('div', { 'aria-hidden': 'true' }, i),
                  Bn('div', { className: 'mbsc-hidden-content' }, e.weekText.replace('{count}', i)),
                ),
              s.map(function (n, s) {
                return Bn(Ss, {
                  active: n.display && t._isActive(n.date),
                  amText: e.amText,
                  clickToCreate: e.clickToCreate,
                  colors: n.colors,
                  date: n.date,
                  day: n.day,
                  disabled: t._isInvalid(n.date),
                  display: n.display,
                  dataTimezone: e.dataTimezone,
                  displayTimezone: e.displayTimezone,
                  dragData: e.dragData,
                  dragToCreate: e.dragToCreate,
                  dragToResize: e.dragToResize,
                  dragToMove: e.dragToMove,
                  eventText: e.eventText,
                  eventsText: e.eventsText,
                  exclusiveEndDates: e.exclusiveEndDates,
                  firstDay: e.firstDay,
                  hasMarks: e.hasMarks,
                  hoverEnd: e.hoverEnd,
                  hoverStart: e.hoverStart,
                  isActiveMonth: e.isActive,
                  isPicker: e.isPicker,
                  key: n.date,
                  labels: n.labels,
                  pmText: e.pmText,
                  marks: n.marks,
                  month: n.month,
                  monthShort: n.monthShort,
                  onDayClick: e.onDayClick,
                  onDayDoubleClick: e.onDayDoubleClick,
                  onDayRightClick: e.onDayRightClick,
                  onLabelClick: e.onLabelClick,
                  onLabelDoubleClick: e.onLabelDoubleClick,
                  onLabelRightClick: e.onLabelRightClick,
                  onLabelHoverIn: e.onLabelHoverIn,
                  onLabelHoverOut: e.onLabelHoverOut,
                  onLabelDelete: e.onLabelDelete,
                  onLabelUpdateStart: e.onLabelUpdateStart,
                  onLabelUpdateMove: e.onLabelUpdateMove,
                  onLabelUpdateEnd: e.onLabelUpdateEnd,
                  onLabelUpdateModeOn: e.onLabelUpdateModeOn,
                  onLabelUpdateModeOff: e.onLabelUpdateModeOff,
                  outer: n.outer,
                  renderDay: e.renderDay,
                  renderDayContent: e.renderDayContent,
                  renderLabel: e.renderLabel,
                  renderLabelContent: e.renderLabelContent,
                  rangeEnd: e.rangeEnd,
                  rangeStart: e.rangeStart,
                  resourcesMap: e.resourcesMap,
                  selectedEventsMap: e.selectedEventsMap,
                  rtl: e.rtl,
                  showEventTooltip: e.showEventTooltip,
                  selected: t._isSelected(n.date),
                  text: n.text,
                  theme: e.theme,
                  timeFormat: e.timeFormat,
                  timezonePlugin: e.timezonePlugin,
                  todayText: e.todayText,
                  type: 'day',
                  year: n.year,
                  onHoverIn: e.onDayHoverIn,
                  onHoverOut: e.onDayHoverOut,
                });
              }),
            );
          }),
        );
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        r(t, e),
        (t.prototype._isActive = function (e) {
          return this.s.isActive && e === this.s.activeDate;
        }),
        (t.prototype._isInvalid = function (e) {
          var t = this.s;
          return wn(t, Kt(t, new Date(e)), t.invalid, t.valid, +t.min, +t.max);
        }),
        (t.prototype._isSelected = function (e) {
          var t = new Date(e),
            n = Kt(this.s, t);
          return !!this.s.selectedDates[+n];
        }),
        (t.prototype._getWeekNr = function (e, t) {
          var n = new Date(t);
          return (
            '' +
            e.getWeekNumber(
              e.getDate(n.getFullYear(), n.getMonth(), n.getDate() + ((7 - e.firstDay + 1) % 7)),
            )
          );
        }),
        (t.prototype._render = function (e) {
          var t = e.weeks,
            n = e.firstDay,
            s = new Date(e.firstPageDay),
            a = e.getYear(s),
            i = e.getMonth(s),
            o = e.getDay(s),
            r = e.getDate(a, i, o).getDay(),
            l = n - r > 0 ? 7 : 0,
            c = [],
            d = 0;
          (this._rowHeights = []), (this._rows = []), (this._days = Array.apply(0, Array(7)));
          for (var h = 0; h < 7 * t; h++) {
            var u = e.getDate(a, i, h + n - l - r + o),
              m = zt(u),
              _ = e.getMonth(u),
              v = _ !== i && 'week' !== e.calendarType,
              p = e.marked && e.marked[m],
              f = p ? (e.showSingleMark ? [{}] : p) : null,
              g = e.labels && e.labels[m],
              y = g ? g.data.length : 0,
              b = h % 7 == 0;
            if (e.variableRow) {
              if (b && v && h) break;
              y > d && (d = y),
                h % 7 == 6 &&
                  (this._rowHeights.push(d * (e.labelHeight || 20) + (e.cellTextHeight || 0) + 3), (d = 0));
            }
            b && ((c = []), this._rows.push(c)),
              c.push({
                colors: e.colors && e.colors[m],
                date: +u,
                day: e.dayNames[u.getDay()],
                display: !v || e.showOuter,
                labels: g,
                marks: f,
                month: e.monthNames[_],
                monthShort: e.monthNamesShort[_],
                outer: v,
                text: e.getDay(u),
                year: e.getYear(u),
              });
          }
        }),
        t
      );
    })(at),
  ),
  Ns = 0,
  Hs = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._setHeader = function (e) {
          t._headerElement = e;
        }),
        (t._setBody = function (e) {
          t._body = e;
        }),
        (t._setPickerCont = function (e) {
          t._pickerCont = e;
        }),
        (t._renderMonthView = function (e, n) {
          var s = t.s,
            a = t.state;
          return Bn(
            Ls,
            l({}, n, {
              activeDate: t._active,
              amText: s.amText,
              calendarType: s.calendarType,
              cellTextHeight: a.cellTextHeight,
              clickToCreate: s.clickToCreate,
              colors: t._colors,
              dayNames: s.dayNames,
              dayNamesShort: t._dayNames,
              dataTimezone: s.dataTimezone,
              displayTimezone: s.displayTimezone,
              eventText: s.eventText,
              eventsText: s.eventsText,
              exclusiveEndDates: s.exclusiveEndDates,
              firstDay: s.firstDay,
              firstPageDay: e,
              getDate: s.getDate,
              getDay: s.getDay,
              getMonth: s.getMonth,
              getWeekNumber: s.getWeekNumber,
              getYear: s.getYear,
              hasMarks: !!t._marked,
              hoverEnd: s.hoverEnd,
              hoverStart: s.hoverStart,
              isPicker: s.isPicker,
              invalid: t._invalid,
              labels: t._labelsLayout,
              labelHeight: a.labelHeight,
              marked: t._marked,
              max: t._maxDate,
              min: t._minDate,
              monthNames: s.monthNames,
              monthNamesShort: s.monthNamesShort,
              onDayClick: t._onDayClick,
              onDayDoubleClick: s.onDayDoubleClick,
              onDayRightClick: s.onDayRightClick,
              onDayHoverIn: t._onDayHoverIn,
              onDayHoverOut: t._onDayHoverOut,
              onLabelClick: t._onLabelClick,
              onLabelDoubleClick: s.onLabelDoubleClick,
              onLabelRightClick: s.onLabelRightClick,
              onLabelHoverIn: s.onLabelHoverIn,
              onLabelHoverOut: s.onLabelHoverOut,
              onLabelDelete: s.onLabelDelete,
              pmText: s.pmText,
              rangeEnd: s.rangeEnd,
              rangeStart: s.rangeStart,
              resourcesMap: s.resourcesMap,
              rtl: s.rtl,
              selectedDates: s.selectedDates,
              selectedEventsMap: s.selectedEventsMap,
              showEventTooltip: s.showEventTooltip,
              showOuter: t._showOuter,
              showWeekDays: !t._isVertical && !t._variableRow,
              showWeekNumbers: s.showWeekNumbers,
              showSingleMark: !!t._marksMap,
              todayText: s.todayText,
              theme: s.theme,
              timeFormat: s.timeFormat,
              timezonePlugin: s.timezonePlugin,
              valid: t._valid,
              weeks: t._weeks,
              weekText: s.weekText,
              renderDay: s.renderDay,
              renderDayContent: s.renderDayContent,
              renderLabel: s.renderLabel,
              renderLabelContent: s.renderLabelContent,
              variableRow: t._variableRow,
            }),
          );
        }),
        (t._renderMonth = function (e, n) {
          var s = t.s,
            a = e.key,
            i = a >= t._pageIndex && a < t._pageIndex + t._pageNr && 'month' === t._view,
            o = {
              dragData: s.dragData,
              dragToCreate: s.dragToCreate,
              dragToMove: s.dragToMove,
              dragToResize: s.dragToResize,
              isActive: i,
              onLabelUpdateEnd: s.onLabelUpdateEnd,
              onLabelUpdateModeOff: s.onLabelUpdateModeOff,
              onLabelUpdateModeOn: s.onLabelUpdateModeOn,
              onLabelUpdateMove: s.onLabelUpdateMove,
              onLabelUpdateStart: s.onLabelUpdateStart,
            };
          return Bn(
            'div',
            {
              className: 'mbsc-calendar-slide' + (i ? ' mbsc-calendar-slide-active' : '') + t._theme + t._rtl,
              key: a,
              style: t._getPageStyle(a, n, t._pageNr),
            },
            t._renderMonthView(t._getPageDay(a), o),
          );
        }),
        (t._renderYears = function (e, n) {
          var s = t.s,
            a = e.key,
            i = t._getPageYears(a),
            o = s.getYear(new Date(t._active)),
            r = s.getYear(new Date(t._activeMonth));
          return Bn(
            'div',
            {
              'aria-hidden': t._yearsIndex === a ? undefined : 'true',
              className: 'mbsc-calendar-picker-slide mbsc-calendar-slide' + t._theme + t._rtl,
              key: a,
              style: t._getPageStyle(a, n),
            },
            Bn(
              'div',
              { className: 'mbsc-calendar-table mbsc-flex-col' },
              B.map(function (e, n) {
                return Bn(
                  'div',
                  { className: 'mbsc-calendar-row mbsc-flex mbsc-flex-1-0', key: n },
                  X.map(function (e, a) {
                    var l = i + 3 * n + a,
                      c = +s.getDate(l, 0, 1);
                    return Bn(Ss, {
                      active: l === r,
                      date: c,
                      display: !0,
                      selected: l === o,
                      disabled: l < t._minYears || l > t._maxYears,
                      rtl: s.rtl,
                      text: l + s.yearSuffix,
                      theme: s.theme,
                      type: 'year',
                      onDayClick: t._onYearClick,
                      key: l,
                    });
                  }),
                );
              }),
            ),
          );
        }),
        (t._renderYear = function (e, n) {
          var s = t.s,
            a = e.key,
            i = t._getPageYear(a),
            o = new Date(t._activeMonth),
            r = s.getYear(o),
            l = s.getMonth(o),
            c = new Date(t._active),
            d = s.getYear(c),
            h = s.getMonth(c);
          return Bn(
            'div',
            {
              'aria-hidden': t._yearIndex === a ? undefined : 'true',
              className: 'mbsc-calendar-picker-slide mbsc-calendar-slide' + t._theme + t._rtl,
              key: a,
              style: t._getPageStyle(a, n),
            },
            Bn(
              'div',
              { className: 'mbsc-calendar-table mbsc-flex-col' },
              B.map(function (e, n) {
                return Bn(
                  'div',
                  { className: 'mbsc-calendar-row mbsc-flex mbsc-flex-1-0', key: n },
                  X.map(function (e, a) {
                    var o = s.getDate(i, 3 * n + a, 1),
                      c = s.getYear(o),
                      u = s.getMonth(o);
                    return Bn(Ss, {
                      active: c === r && u === l,
                      date: +o,
                      display: !0,
                      selected: c === d && u === h,
                      disabled: o < t._minYear || o >= t._maxYear,
                      month: s.monthNames[u],
                      rtl: s.rtl,
                      text: s.monthNamesShort[u],
                      theme: s.theme,
                      type: 'month',
                      onDayClick: t._onMonthClick,
                      key: +o,
                    });
                  }),
                );
              }),
            ),
          );
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._template = function (e, t) {
        var n = this;
        Ns++;
        var s = this._variableRow,
          a = 'month' !== this._view,
          i =
            (this._isVertical || (s && 1 == +e.size)) && e.showCalendar
              ? Bn(Ms, {
                  dayNamesShort: this._dayNames,
                  rtl: this._rtl,
                  theme: this._theme,
                  firstDay: e.firstDay,
                  hasScroll: t.hasScrollY,
                  hidden: 'month' !== this._view && !this._hasPicker,
                  showWeekNumbers: e.showWeekNumbers,
                })
              : null,
          o = {
            axis: this._axis,
            batchSize: 1,
            changeOnEnd: !0,
            className: 'mbsc-calendar-scroll-wrapper' + this._theme,
            data: Ns,
            easing: 'ease-out',
            itemSize: t.pickerSize,
            items: this._months,
            mousewheel: this._mousewheel,
            prevAnim: this._prevAnim,
            rtl: e.rtl,
            snap: !0,
            time: 200,
          },
          r = Bn(
            'div',
            { ref: this._setPickerCont, className: this._hasPicker ? 'mbsc-calendar-picker-wrapper' : '' },
            ('multi-year' === t.view || 'multi-year' === t.viewClosing || 'multi-year' === e.selectView) &&
              Bn(
                'div',
                { onAnimationEnd: this._onViewAnimationEnd, className: this._getPickerClass('multi-year') },
                Bn(
                  Cs,
                  l(
                    {
                      key: 'years',
                      itemRenderer: this._renderYears,
                      maxIndex: this._maxYearsIndex,
                      minIndex: this._minYearsIndex,
                      onGestureEnd: this._onGestureEnd,
                      onIndexChange: this._onYearsPageChange,
                      selectedIndex: this._yearsIndex,
                    },
                    o,
                  ),
                ),
              ),
            ('year' === t.view || 'year' === t.viewClosing || 'year' === e.selectView) &&
              Bn(
                'div',
                { onAnimationEnd: this._onViewAnimationEnd, className: this._getPickerClass('year') },
                Bn(
                  Cs,
                  l(
                    {
                      key: 'year',
                      itemRenderer: this._renderYear,
                      maxIndex: this._maxYearIndex,
                      minIndex: this._minYearIndex,
                      onGestureEnd: this._onGestureEnd,
                      onIndexChange: this._onYearPageChange,
                      selectedIndex: this._yearIndex,
                    },
                    o,
                  ),
                ),
              ),
          );
        return Bn(
          'div',
          { className: this._cssClass, ref: this._setEl, style: this._dim, onClick: se },
          Bn(
            'div',
            {
              className:
                'mbsc-calendar-wrapper mbsc-flex-col mbsc-flex-1-1' +
                this._theme +
                this._hb +
                (e.hasContent || !e.showCalendar ? ' mbsc-calendar-wrapper-fixed' : ''),
            },
            Bn(
              'div',
              {
                className:
                  'mbsc-calendar-header' +
                  this._theme +
                  this._hb +
                  (this._isVertical || s ? ' mbsc-calendar-header-vertical' : ''),
                ref: this._setHeader,
              },
              e.showControls &&
                (function () {
                  var t, s;
                  if (e.renderHeader)
                    Z((t = e.renderHeader())) &&
                      (t !== n._headerHTML && ((n._headerHTML = t), (n._shouldEnhanceHeader = !0)),
                      (s = n._safeHtml(t)));
                  else {
                    var a = n._pageNr > 1;
                    t = Bn(
                      jn,
                      null,
                      Bn(os, {
                        className:
                          'mbsc-calendar-title-wrapper' + (a ? ' mbsc-calendar-title-wrapper-multi' : ''),
                      }),
                      Bn(ss, {
                        className:
                          'mbsc-calendar-button-prev' + (a ? ' mbsc-calendar-button-prev-multi' : ''),
                      }),
                      e.showToday && Bn(is, { className: 'mbsc-calendar-header-today' }),
                      Bn(as, {
                        className:
                          'mbsc-calendar-button-next' + (a ? ' mbsc-calendar-button-next-multi' : ''),
                      }),
                    );
                  }
                  var i = Bn(
                    'div',
                    { className: 'mbsc-calendar-controls' + n._theme, dangerouslySetInnerHTML: s },
                    t,
                  );
                  return Bn(Zn.Provider, { children: i, value: { instance: n } });
                })(),
              i,
            ),
            Bn(
              'div',
              {
                className: 'mbsc-calendar-body mbsc-flex-col mbsc-flex-1-1' + this._theme,
                ref: this._setBody,
                onKeyDown: this._onKeyDown,
              },
              e.showCalendar &&
                Bn(
                  'div',
                  {
                    className:
                      'mbsc-calendar-body-inner mbsc-flex-col mbsc-flex-1-1' +
                      (s ? ' mbsc-calendar-body-inner-variable' : ''),
                  },
                  this._isGrid
                    ? Bn(
                        'div',
                        {
                          'aria-hidden': a ? 'true' : undefined,
                          className:
                            'mbsc-calendar-grid mbsc-flex-1-1 mbsc-flex-col' + this._theme + this._hb,
                        },
                        this._monthsMulti.map(function (t, s) {
                          return Bn(
                            'div',
                            { key: s, className: 'mbsc-calendar-grid-row mbsc-flex mbsc-flex-1-1' },
                            t.map(function (t, s) {
                              return Bn(
                                'div',
                                {
                                  key: s,
                                  className: 'mbsc-calendar-grid-item mbsc-flex-col mbsc-flex-1-1' + n._theme,
                                },
                                Bn(
                                  'div',
                                  { className: 'mbsc-calendar-month-title' + n._theme },
                                  e.monthNames[new Date(t).getMonth()],
                                ),
                                n._renderMonthView(t, { isActive: !0 }),
                              );
                            }),
                          );
                        }),
                      )
                    : s
                    ? Bn(
                        'div',
                        {
                          'aria-hidden': a ? 'true' : undefined,
                          className:
                            'mbsc-calendar-slide mbsc-calendar-slide-active ' + this._getPickerClass('month'),
                        },
                        this._renderMonthView(+this._firstDay, {
                          dragData: e.dragData,
                          dragToCreate: e.dragToCreate,
                          dragToMove: e.dragToMove,
                          dragToResize: e.dragToResize,
                          isActive: !0,
                          onLabelUpdateEnd: e.onLabelUpdateEnd,
                          onLabelUpdateModeOff: e.onLabelUpdateModeOff,
                          onLabelUpdateModeOn: e.onLabelUpdateModeOn,
                          onLabelUpdateMove: e.onLabelUpdateMove,
                          onLabelUpdateStart: e.onLabelUpdateStart,
                        }),
                      )
                    : 'month' === e.selectView &&
                      Bn(
                        'div',
                        {
                          'aria-hidden': a ? 'true' : undefined,
                          className: this._getPickerClass('month'),
                          onAnimationEnd: this._onViewAnimationEnd,
                        },
                        Bn(
                          Cs,
                          l({}, o, {
                            itemNr: this._pageNr,
                            itemSize: t.pageSize / this._pageNr,
                            itemRenderer: this._renderMonth,
                            maxIndex: this._maxIndex,
                            minIndex: this._minIndex,
                            mouseSwipe: e.mouseSwipe,
                            onAnimationEnd: this._onAnimationEnd,
                            onGestureStart: this._onGestureStart,
                            onIndexChange: this._onPageChange,
                            onStart: this._onStart,
                            selectedIndex: this._pageIndex,
                            swipe: e.swipe,
                          }),
                        ),
                      ),
                  !this._hasPicker && r,
                ),
            ),
          ),
          this.props.children,
          this._hasPicker &&
            Bn(
              bs,
              {
                anchor: this._pickerBtn,
                closeOnScroll: !0,
                contentPadding: !1,
                context: e.context,
                cssClass: 'mbsc-calendar-popup',
                display: 'anchored',
                isOpen: 'month' !== this._view,
                locale: e.locale,
                onClose: this._onPickerClose,
                onOpen: this._onPickerOpen,
                rtl: e.rtl,
                scrollLock: !1,
                showOverlay: !1,
                theme: e.theme,
                themeVariant: e.themeVariant,
              },
              Bn(
                'div',
                { onKeyDown: this._onKeyDown },
                Bn(
                  'div',
                  { className: 'mbsc-calendar-controls' + this._theme },
                  Bn(
                    'div',
                    {
                      'aria-live': 'polite',
                      className:
                        'mbsc-calendar-picker-button-wrapper mbsc-calendar-title-wrapper' + this._theme,
                    },
                    Bn(
                      Jn,
                      {
                        className: 'mbsc-calendar-button',
                        onClick: this._onPickerBtnClick,
                        theme: e.theme,
                        themeVariant: e.themeVariant,
                        type: 'button',
                        variant: 'flat',
                      },
                      this._viewTitle,
                      e.downIcon &&
                        Bn(Gn, { svg: 'multi-year' === t.view ? e.downIcon : e.upIcon, theme: e.theme }),
                    ),
                  ),
                  Bn(Jn, {
                    className: 'mbsc-calendar-button',
                    ariaLabel: e.prevPageText,
                    disabled: this._isPrevDisabled(!0),
                    iconSvg: this._prevIcon,
                    onClick: this.prevPage,
                    theme: e.theme,
                    themeVariant: e.themeVariant,
                    type: 'button',
                    variant: 'flat',
                  }),
                  Bn(Jn, {
                    className: 'mbsc-calendar-button',
                    ariaLabel: e.nextPageText,
                    disabled: this._isNextDisabled(!0),
                    iconSvg: this._nextIcon,
                    onClick: this.nextPage,
                    theme: e.theme,
                    themeVariant: e.themeVariant,
                    type: 'button',
                    variant: 'flat',
                  }),
                ),
                r,
              ),
            ),
        );
      }),
      (t.prototype._updated = function () {
        e.prototype._updated.call(this),
          this._shouldEnhanceHeader &&
            (Kn(this._headerElement, { view: this }), (this._shouldEnhanceHeader = !1));
      }),
      t
    );
  })(Es),
  Is = /*#__PURE__*/ (function () {
    function e() {
      (this.onInstanceReady = new _()), (this.onComponentChange = new _());
    }
    return (
      Object.defineProperty(e.prototype, 'instance', {
        get: function () {
          return this.inst;
        },
        set: function (e) {
          (this.inst = e), this.onInstanceReady.next(e);
        },
        enumerable: !0,
        configurable: !0,
      }),
      e
    );
  })(),
  Os = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        return Bn('div', { ref: this._setEl, className: this._cssClass }, e.children);
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        r(t, e),
        (t.prototype._render = function (e) {
          this._cssClass = this._className + ' mbsc-list-header' + this._theme + this._hb;
        }),
        t
      );
    })(at),
  ),
  zs = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        var t = this.props;
        t.actionable;
        var n = t.children;
        t.className, t.data, t.drag, t.ripple, t.rtl;
        var s = t.theme;
        t.themeVariant,
          t.onHoverIn,
          t.onHoverOut,
          t.onDragEnd,
          t.onDragMove,
          t.onDragStart,
          t.onDragModeOn,
          t.onDragModeOff,
          t.onDelete,
          t.onClick;
        var a = c(t, [
          'actionable',
          'children',
          'className',
          'data',
          'drag',
          'ripple',
          'rtl',
          'theme',
          'themeVariant',
          'onHoverIn',
          'onHoverOut',
          'onDragEnd',
          'onDragMove',
          'onDragStart',
          'onDragModeOn',
          'onDragModeOff',
          'onDelete',
          'onClick',
        ]);
        return Bn(
          'div',
          l({ tabIndex: 0, ref: this._setEl, onClick: this._onClick, className: this._cssClass }, a),
          n,
          Bn('div', { className: 'mbsc-list-item-background mbsc-' + s }),
        );
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._onClick = function (e) {
            t._hook('onClick', { domEvent: e }), t.s.selected && t.setState({ hasFocus: !1 });
          }),
          t
        );
      }
      return (
        r(t, e),
        (t.prototype._mounted = function () {
          var e,
            t,
            n = this;
          this._unlisten = ft(this._el, {
            click: !0,
            keepFocus: !0,
            onBlur: function () {
              n.setState({ hasFocus: !1 });
            },
            onEnd: function (s) {
              if (e) {
                var a = l({}, s);
                a.domEvent.preventDefault(),
                  (a.data = n.s.data),
                  (a.drag = !0),
                  n._hook('onDragEnd', a),
                  (e = !1);
              }
              clearTimeout(t);
            },
            onFocus: function () {
              n.setState({ hasFocus: !0 });
            },
            onHoverIn: function (e) {
              n.s.actionable && n.setState({ hasHover: !0 }), n._hook('onHoverIn', { domEvent: e });
            },
            onHoverOut: function (e) {
              n.setState({ hasHover: !1 }), n._hook('onHoverOut', { domEvent: e });
            },
            onKeyDown: function (e) {
              var t = n.s.data;
              switch (e.keyCode) {
                case 13:
                case 32:
                  n._el.click(), e.preventDefault();
                  break;
                case 8:
                case 46:
                  t && !1 !== t.editable && n._hook('onDelete', { domEvent: e, event: t, source: 'agenda' });
              }
            },
            onMove: function (s) {
              var a = n.s,
                i = l({}, s);
              (i.data = a.data),
                (i.drag = !0),
                (i.external = !0),
                (!e && i.isTouch) || i.domEvent.preventDefault(),
                e
                  ? n._hook('onDragMove', i)
                  : (Math.abs(i.deltaX) > 7 || Math.abs(i.deltaY) > 7) &&
                    (clearTimeout(t),
                    !i.isTouch && a.drag && !1 !== a.data.editable && ((e = !0), n._hook('onDragStart', i)));
            },
            onPress: function () {
              n.s.actionable && n.setState({ isActive: !0 });
            },
            onRelease: function () {
              n.setState({ isActive: !1 });
            },
            onStart: function (s) {
              var a = n.s;
              return (
                s.isTouch &&
                  a.drag &&
                  !1 !== a.data.editable &&
                  !e &&
                  (t = setTimeout(function () {
                    var t = l({}, s);
                    (t.data = a.data),
                      (t.drag = !0),
                      n._hook('onDragModeOn', t),
                      n._hook('onDragStart', t),
                      (e = !0);
                  }, 350)),
                { ripple: a.actionable && a.ripple }
              );
            },
          });
        }),
        (t.prototype._render = function (e, t) {
          this._cssClass =
            this._className +
            ' mbsc-list-item' +
            this._theme +
            this._hb +
            this._rtl +
            (e.actionable ? ' mbsc-list-item-actionable' : '') +
            (t.hasFocus ? ' mbsc-focus' : '') +
            (t.hasHover ? ' mbsc-hover' : '') +
            (t.isActive ? ' mbsc-active' : '') +
            (e.selected ? ' mbsc-selected' : '');
        }),
        (t.prototype._destroy = function () {
          this._unlisten();
        }),
        (t.defaults = { actionable: !0, ripple: !1 }),
        (t._name = 'ListItem'),
        t
      );
    })(at),
  ),
  Ys = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        return Bn('div', { ref: this._setEl, className: this._cssClass }, e.children);
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        r(t, e),
        (t.prototype._render = function (e) {
          this._cssClass = this._className + this._rtl + ' mbsc-font mbsc-list' + this._theme;
        }),
        t
      );
    })(at),
  ),
  Ps = 'mbsc-def';
function Rs(e, t, n, s, a, i) {
  for (var o = 'start-end' === a, r = i ? n : Yt(Qt(n, 1)), l = 0, c = Object.keys(e); l < c.length; l++)
    for (var d = e[c[l]], h = Yt(t); h < r; h.setDate(h.getDate() + 1)) {
      var u = d[zt(h)];
      if (u) {
        if (u.allDay && (!o || Wt(h, t) || Wt(h, n))) return u.allDay;
        if (!s)
          for (var m = 0, _ = u.invalids; m < _.length; m++) {
            var v = _[m];
            if (o) {
              if (Nt(v.startDate, v.endDate, t, t, !0)) return v.original;
              if (Nt(v.startDate, v.endDate, n, n)) return v.original;
            } else if (Nt(v.startDate, v.endDate, t, n)) return v.original;
          }
      }
    }
  return !1;
}
function Fs(e, t, n, s, a) {
  for (
    var i = n.allDay || a,
      o = n.startDate,
      r = i ? Ot(e, i, o, n.endDate) : n.endDate,
      l = i ? jt(e, o.getFullYear(), o.getMonth(), o.getDate()) : o,
      c = i ? jt(e, r.getFullYear(), r.getMonth(), r.getDate(), 23, 59, 59, 999) : r,
      d = !1,
      h = 0,
      u = t;
    h < u.length;
    h++
  ) {
    for (var m = u[h], _ = 0, v = !1, p = void 0, f = 0, g = m; f < g.length; f++) {
      for (var y = g[f], b = !1, D = 0, C = y; D < C.length; D++) {
        var k = C[D],
          x = k.allDay,
          T = k.startDate,
          w = x ? Ot(e, x, T, k.endDate) : k.endDate;
        Nt(
          x ? jt(e, T.getFullYear(), T.getMonth(), T.getDate()) : T,
          x ? jt(e, w.getFullYear(), w.getMonth(), w.getDate(), 23, 59, 59, 999) : w,
          l,
          c,
          !0,
        ) && ((b = !0), (v = !0), p ? (s[n.uid] = s[n.uid] || _) : (s[k.uid] = _ + 1));
      }
      b || p || (p = y), _++;
    }
    v && (p ? p.push(n) : m.push([n]), (d = !0));
  }
  d || ((s[n.uid] = 0), t.push([[n]]));
}
function Us(e) {
  return (e = Math.abs(ie(e))) > 60
    ? 60 * ie(e / 60)
    : 60 % e == 0
    ? e
    : [6, 10, 12, 15, 20, 30].reduce(function (t, n) {
        return Math.abs(n - e) < Math.abs(t - e) ? n : t;
      });
}
function Ws(e, t, n, s, a, i) {
  s && s > e && (e = s);
  var o = Lt(e);
  return (
    (t > o || (undefined !== a && undefined !== i && !en(e.getDay(), a, i))) && (o = t), (100 * (o - t)) / n
  );
}
function As(e, t, n, s, a) {
  e = e || {};
  var i = Object.keys(e),
    o = {},
    r = t.map(function (e) {
      return e.id;
    }),
    l = n.map(function (e) {
      return e.id;
    });
  r.forEach(function (e) {
    (o[e] = {}),
      l.forEach(function (t) {
        o[e][t] = {};
      });
  });
  for (
    var c = function (t) {
        for (
          var n = function (e) {
              var n = e.resource,
                i = e.slot,
                c = undefined !== n && s ? (q(n) ? n : [n]) : r,
                d = undefined !== i && a ? [i] : l;
              c.forEach(function (n) {
                var s = o[n];
                s &&
                  d.forEach(function (n) {
                    var a = s[n];
                    a && (a[t] || (a[t] = []), a[t].push(e));
                  });
              });
            },
            i = 0,
            c = e[t];
          i < c.length;
          i++
        ) {
          n(c[i]);
        }
      },
      d = 0,
      h = i;
    d < h.length;
    d++
  ) {
    c(h[d]);
  }
  return o;
}
function Vs(e, t) {
  var n = new Date(e),
    s = new Date(+kt + t);
  return new Date(n.getFullYear(), n.getMonth(), n.getDate(), s.getHours(), s.getMinutes());
}
var Xs = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._onScroll = function () {}),
        (t._onEventDragModeOn = function (e) {
          var n = e.create ? t._tempEvent : e.event,
            s = e.create ? t._tempResource : e.resource,
            a = e.create ? t._tempSlot : e.slot;
          t.setState({
            dragData: {
              draggedEvent: n,
              originDates: e.external ? undefined : t._getDragDates(n, s, a),
              resource: s,
            },
            isTouchDrag: !0,
          });
        }),
        (t._onEventDragModeOff = function (e) {
          t._hook('onEventDragEnd', {
            domEvent: e.domEvent,
            event: e.event,
            resource: e.resource,
            slot: e.slot,
            source: e.source,
          }),
            t.setState({ dragData: undefined, isTouchDrag: !1 });
        }),
        (t._calcGridDimensions = function () {
          var e = t.s,
            n = t._resources,
            s = t._isTimeline,
            a = t._daysNr * (s ? 1 : n.length),
            i = t._gridCont,
            o = t._scrollCont,
            r = i.getBoundingClientRect(),
            l = o.getBoundingClientRect(),
            c = s ? r.width : i.scrollWidth;
          (t._gridLeft = e.rtl ? r.right - c : r.left),
            (t._gridRight = e.rtl ? r.right : r.left + c),
            (t._gridTop = r.top),
            (t._gridContTop = l.top),
            (t._gridContBottom = l.bottom),
            (t._gridContLeft = l.left),
            (t._gridContRight = l.right),
            (t._allDayTop = t._gridContTop),
            (t._colWidth = c / a),
            (t._colHeight = r.height);
        }),
        (t._onEventDragStart = function (e) {
          var n = t.s,
            s = e.click,
            a = n.eventList,
            i = t._isTimeline,
            o = t._visibleResources,
            r = t._slots,
            c = n.dragTimeStep,
            d = t._gridCont,
            h = e.startX,
            u = e.startY,
            m = t._groupByResource,
            _ = m ? t._daysNr : t._hasSlots ? t._slots.length : o.length;
          (t._resWidth = t._resCont ? t._resCont.offsetWidth : 0),
            (t._scrollY = 0),
            (t._scrollX = 0),
            t._calcGridDimensions();
          var v = n.rtl ? t._gridRight - h : h - t._gridLeft,
            p = j(u - t._gridTop, 8, t._colHeight - 9),
            f = oe(v / t._colWidth),
            g = 0,
            y = f,
            b = 0;
          if (i) {
            var D = d.querySelectorAll('.mbsc-timeline-row');
            (t._rowTops = []),
              (b = oe(v / (t._colWidth / r.length)) % r.length),
              D.forEach(function (e, n) {
                var s = e.getBoundingClientRect().top - t._gridTop;
                t._rowTops.push(s), p > s && (g = (t._rowStartIndex || 0) + n);
              });
          } else {
            var C = t._el.querySelector('.mbsc-schedule-all-day-wrapper'),
              k = C && C.getBoundingClientRect();
            (t._allDayTop = k ? k.top : t._gridContTop),
              (g = m ? oe(f / _) : f % _),
              (y = m ? f % _ : oe(f / _));
          }
          var x = e.external ? undefined : o[g],
            T = x ? x.id : undefined,
            w = e.external ? undefined : r[b],
            S = w ? w.id : undefined;
          if (e.create) {
            y = j(y, 0, t._daysNr - 1);
            var E = !i && n.showAllDay && e.endY < t._gridContTop,
              M = 'day' === n.type && 1 === n.size ? t._firstDay : t._days[y].date,
              L = a || (!e.external && !s) ? 6e4 * c : t._stepCell,
              N = t._getGridTime(M, v, p, y, s ? t._stepCell / 6e4 : c),
              H = E || a ? M : N,
              I = Qt(H, 1),
              O = n.exclusiveEndDates ? I : new Date(+I - 1),
              z = E || a ? O : tn(jt(n, +H + L), s ? 1 : c),
              Y = n.extendDefaultEvent ? n.extendDefaultEvent({ resource: T, slot: S, start: H }) : undefined,
              P = l(
                {
                  allDay: E,
                  end: z,
                  id: Mn(),
                  resource: x && T !== Ps ? T : undefined,
                  slot: w && S !== Ps ? S : undefined,
                  start: H,
                  title: n.newEventText,
                },
                Y,
                e.event,
              ),
              R = t._getEventData(P, M, x);
            if (e.event) {
              var F = +R.endDate - +R.startDate;
              (R.startDate = M), (R.endDate = new Date(+M + F));
            }
            (t._tempEvent = R), (t._tempResource = T), (t._tempSlot = S);
          }
          s ||
            t._hook('onEventDragStart', {
              domEvent: e.domEvent,
              event: (e.create ? t._tempEvent : e.event).original,
              resource: T,
              slot: S,
              source: i ? 'timeline' : 'schedule',
            });
        }),
        (t._onEventDragMove = function (e) {
          clearTimeout(t._scrollTimer);
          var n = t.s,
            s = n.rtl,
            a = s ? -1 : 1,
            i = t._isTimeline,
            o = t._daysNr,
            r = t._slots,
            c = t._groupByResource,
            d = t.state.dragData,
            h = n.dragTimeStep,
            u = n.timeFormat,
            m = n.eventList,
            _ = e.startX,
            v = j(e.endX, t._gridContLeft, t._gridContRight - 1),
            p = j(e.endY, t._gridContTop, t._gridContBottom - 1),
            f = p - e.startY + t._scrollY,
            g = s ? _ - v + t._scrollX : v - _ + t._scrollX,
            y = i ? g : f,
            b = i ? t._colWidth : t._colHeight - 16,
            D = j(
              s ? t._gridRight + t._scrollX - v : v - t._gridLeft + t._scrollX,
              0,
              t._gridRight - t._gridLeft - 1,
            ),
            C = j(p - t._gridTop + t._scrollY, 8, t._colHeight - 9),
            k = oe((s ? t._gridRight - _ : _ - t._gridLeft) / t._colWidth),
            x = oe(D / t._colWidth),
            T = n.showAllDay && e.endY < t._gridContTop,
            w = t._scrollCont,
            S = k,
            E = x,
            M = 0,
            L = 0,
            N = !1,
            H = t._gridContBottom - e.endY,
            I = e.endY - t._gridContTop,
            O = e.endX - t._gridContLeft,
            z = t._gridContRight - e.endX,
            Y = (w.scrollWidth - w.clientWidth) * a,
            P = s ? 0 : Y,
            R = s ? Y : 0;
          if (
            (H < 30 &&
              w.scrollTop < w.scrollHeight - w.clientHeight &&
              ((w.scrollTop += 5), (t._scrollY += 5), (N = !0)),
            I < 30 && !T && w.scrollTop > 0 && ((w.scrollTop -= 5), (t._scrollY -= 5), (N = !0)),
            O < 30 + (s ? 0 : t._resWidth) &&
              w.scrollLeft > R &&
              ((w.scrollLeft -= 5), (t._scrollX -= 5 * a), (N = !0)),
            z < 30 + (s ? t._resWidth : 0) &&
              w.scrollLeft < P &&
              ((w.scrollLeft += 5), (t._scrollX += 5 * a), (N = !0)),
            N &&
              (t._scrollTimer = setTimeout(function () {
                t._onEventDragMove(e);
              }, 20)),
            i)
          )
            (L = oe(D / (t._colWidth / r.length)) % r.length),
              t._rowTops.forEach(function (e, n) {
                C > e && (M = (t._rowStartIndex || 0) + n);
              });
          else {
            var F = c ? o : t._resources.length;
            (S = c ? k % F : oe(k / F)), (E = c ? x % F : oe(x / F)), (M = c ? oe(x / F) : x % F);
          }
          (S = j(S, 0, o - 1)), (E = j(E, 0, o - 1));
          var U,
            W = e.create ? t._tempEvent : e.event,
            A = W.startDate,
            V = W.endDate,
            X = +V - +A,
            B = t._time,
            K = oe((B * y) / b),
            q = r[L].id,
            G = t._visibleResources[M].id,
            J = W.allDay,
            Z = J ? undefined : n,
            $ = J || m,
            Q = A,
            ee = V,
            te = t._days[S].date,
            ne = t._days[E].date,
            se = 'day' === n.type && 1 === n.size ? 0 : Rt(te, ne),
            ae = se - E + S;
          if (e.drag || e.external) {
            if (
              ((J = T || (i && W.allDay)),
              ($ = T || m || (i && W.allDay)),
              (Z = J ? undefined : n),
              (W.allDay && !i && !T) || (e.external && !T))
            ) {
              var ie = Yt(Qt(A, se));
              Q = t._getGridTime(ie, D, C, E, h);
            } else
              i && !$
                ? (Q = tn(jt(n, +A + K + (864e5 - B) * se + B * ae), h))
                : ((U = Qt(A, se)), (Q = $ ? U : tn(jt(Z, +U + K), h)));
            ee = jt(Z, +Q + X);
          } else {
            var re = i ? 0 : x - k,
              le = e.create ? (re ? re > 0 : y > 0) : 'end' === e.direction,
              ce = Rt(A, V),
              de = e.create ? t._tempResource : e.resource;
            !i &&
              c &&
              de !== G &&
              d &&
              d.draggedEvent &&
              (se = Rt(d.draggedEvent.startDate, d.draggedEvent.endDate) * (le ? 1 : -1)),
              le
                ? i && !$
                  ? (ee = tn(jt(n, +V + K + se * (864e5 - B) + B * ae), h))
                  : ((U = Qt(V, Math.max(-ce, se))),
                    (ee = $ ? U : tn(jt(Z, +U + K), h)),
                    !$ &&
                      (Lt(ee) > t._endTime + 1 || ee >= Qt(Yt(U), 1)) &&
                      (ee = jt(n, +Yt(U) + t._endTime + 1)))
                : i && !$
                ? (Q = tn(jt(n, +A + K + se * (864e5 - B) + B * ae), h))
                : ((U = Qt(A, Math.min(ce, se))),
                  (Q = $ ? U : tn(jt(Z, +U + K), h)),
                  !$ && (Lt(Q) < t._startTime || Q < Yt(U)) && (Q = jt(n, +Yt(U) + t._startTime))),
              (G = de),
              $ && ee < Q && (le ? (ee = jt(n, Q)) : (Q = jt(n, ee))),
              !$ &&
                (ee < Q || Math.abs(+ee - +Q) < 6e4 * h) &&
                (le ? (ee = jt(n, +Q + 6e4 * h)) : (Q = jt(n, +ee - 6e4 * h)));
          }
          if (
            t._tempStart !== +Q ||
            t._tempEnd !== +ee ||
            t._tempAllDay !== J ||
            t._tempResource !== G ||
            t._tempSlot !== q
          ) {
            var he = l({}, W);
            (he.startDate = Q),
              (he.endDate = ee),
              (he.start = Jt(u, Q, n)),
              (he.end = Jt(u, ee, n)),
              (he.allDay = J),
              (t._tempStart = +Q),
              (t._tempEnd = +ee),
              (t._tempAllDay = J),
              (t._tempResource = G),
              (t._tempSlot = q),
              t.setState({
                dragData: {
                  draggedDates: t._getDragDates(he, G, q),
                  draggedEvent: he,
                  originDates: d && d.originDates,
                  resource: G,
                  slot: q,
                },
              });
          }
        }),
        (t._onEventDragEnd = function (e) {
          clearTimeout(t._scrollTimer);
          var n = t.s,
            s = e.create,
            a = t.state,
            i = a.dragData;
          if ((s && !i && ((i = {}).draggedEvent = t._tempEvent), i && i.draggedEvent)) {
            var o = e.event,
              r = i.draggedEvent,
              l = r.startDate,
              c = r.endDate,
              d = r.allDay,
              h = r.original,
              u = e.resource,
              m = undefined === i.resource ? u : i.resource,
              _ = undefined === h.resource ? m : h.resource,
              v = s ? t._tempSlot : e.slot,
              p = undefined === i.slot ? v : i.slot,
              f = {},
              g = t._isTimeline ? 'timeline' : 'schedule',
              y = s || +l != +o.startDate || +c != +o.endDate || d !== o.allDay || u !== m || v !== p,
              b = _,
              D = void 0;
            if (u !== m && !s && !t._isSingleResource)
              if (q(_) && _.length && m) {
                var C = _.indexOf(u);
                -1 === _.indexOf(m) && (b = _.slice()).splice(C, 1, m);
              } else b = m;
            D =
              b && n.resources
                ? q(b)
                  ? b
                  : [b]
                : t._resources.map(function (e) {
                    return e.id;
                  });
            for (var k = 0, x = D; k < x.length; k++) {
              var T = x[k];
              t._invalids[T] && (f[T] = t._invalids[T][p]);
            }
            var w = e.action || (a.dragData ? 'drag' : 'click'),
              S =
                !y ||
                n.eventDragEnd({
                  action: w,
                  collision: Rs(f, l, c, d, n.invalidateEvent, n.exclusiveEndDates),
                  create: s,
                  domEvent: e.domEvent,
                  event: r,
                  resource: b !== Ps ? b : undefined,
                  slot: p !== Ps ? p : undefined,
                  source: g,
                }),
              E = a.isTouchDrag && (!s || S);
            if (S && E && u !== m && !h.color) {
              var M = de(t._resources, function (e) {
                  return e.id === m;
                }),
                L = M && M.color;
              L
                ? ((r.color = L), (r.style.background = L), (r.style.color = je(L)))
                : ((r.color = undefined), (r.style = {}));
            }
            E ||
              'click' === w ||
              t._hook('onEventDragEnd', {
                domEvent: e.domEvent,
                event: (s ? t._tempEvent : e.event).original,
                resource: m,
                slot: p,
                source: g,
              }),
              t.setState({
                dragData: E
                  ? { draggedEvent: r, originDates: S ? t._getDragDates(r, m, p) : i.originDates }
                  : undefined,
                isTouchDrag: E,
              }),
              (t._tempStart = 0),
              (t._tempEnd = 0),
              (t._tempAllDay = undefined);
          }
        }),
        (t._onExternalDrag = function (e) {
          if (t.s.externalDrop) {
            var n =
              e.endY < t._gridContBottom &&
              e.endY > t._allDayTop &&
              e.endX > t._gridContLeft &&
              e.endX < t._gridContRight;
            switch (e.eventName) {
              case 'onDragModeOff':
                t._onEventDragModeOff(e);
                break;
              case 'onDragModeOn':
                t._onEventDragModeOn(e);
                break;
              case 'onDragStart':
                t._onEventDragStart(e);
                break;
              case 'onDragMove':
                var s = e.clone;
                n
                  ? ((s.style.display = 'none'), t._onEventDragMove(e), (t._onCalendar = !0))
                  : t._onCalendar &&
                    (clearTimeout(t._scrollTimer),
                    (s.style.display = 'table'),
                    t.setState({ dragData: {} }),
                    (t._tempStart = 0),
                    (t._tempEnd = 0),
                    (t._tempAllDay = undefined),
                    (t._onCalendar = !1));
                break;
              case 'onDragEnd':
                n
                  ? t._onEventDragEnd(e)
                  : (t.setState({ dragData: undefined, isTouchDrag: !1 }),
                    t._hook('onEventDragEnd', {
                      domEvent: e.domEvent,
                      event: e.event,
                      resource: e.resource,
                      slot: e.slot,
                      source: e.source,
                    }));
            }
          }
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._isToday = function (e) {
        return Wt(new Date(e), new Date());
      }),
      (t.prototype._formatTime = function (e, t) {
        var n = this.s,
          s = n.timeFormat,
          a = /a/i.test(s) && 36e5 === this._stepLabel && e % 36e5 == 0 ? s.replace(/.[m]+/i, '') : s,
          i = new Date(+kt + e),
          o = jt(n, i.getFullYear(), i.getMonth(), i.getDate(), i.getHours(), i.getMinutes());
        return xt(o) && t && o.setTimezone(t), Jt(a, o, n);
      }),
      (t.prototype._getEventPos = function (e, t, n, s) {
        var a = this.s,
          i = e.allDay ? undefined : a,
          o = jt(i, t.getFullYear(), t.getMonth(), t.getDate()),
          r = this._dayIndexMap[n],
          l = Yt(Qt(o, 1)),
          c = i ? this._firstDayTz : this._firstDay,
          d = i ? this._lastDayTz : this._lastDay,
          h = this._isTimeline,
          u = !h && !this._groupByResource,
          m = e.allDay,
          _ = this._startTime,
          v = this._endTime + 1,
          p = this._time,
          f = this._hasSlots,
          g = e.endDate,
          y = e.start,
          b = e.startDate,
          D = e.end,
          C = Ot(a, m, b, g),
          k = +b == +C ? 1 : 0;
        if (m || h) {
          if (!s.get(e.original) || f || u) {
            var x = a.startDay,
              T = a.endDay,
              w = a.eventList,
              S = m || w,
              E = !Wt(b, C),
              M = this._daysNr;
            h && E && Lt(b) >= v && (b = jt(a, +Yt(b) + v));
            var L = S ? C : g,
              N = Ws(b, _, p, c, x, T),
              H = (function (e, t, n, s, a, i, o, r, l, c) {
                var d = e,
                  h = t;
                d < s && (d = s), h > a && (h = a);
                var u = Lt(d),
                  m = Lt(h);
                i > u && (u = i), o < m && (m = o), Wt(d, h) || (u > o && (u = o), m < i && (m = i));
                var _ = 0;
                if (Wt(d, h)) _ = c ? n : m - u;
                else
                  for (var v = Yt(d); v <= h; v.setDate(v.getDate() + 1))
                    en(v.getDay(), r, l) &&
                      (!c && Wt(v, d) ? (_ += n - u + i) : !c && Wt(v, h) ? (_ += m - i) : (_ += n));
                return (100 * _) / n;
              })(b, L, p, c, d, _, v, x, T, S);
            h && ((H /= M), (N = (N + 100 * r) / M));
            var I = h
                ? S
                  ? {
                      left: a.rtl ? '' : (f ? 0 : (100 * r) / M) + '%',
                      right: a.rtl ? (f ? 0 : (100 * r) / M) + '%' : '',
                      width: (f ? 100 : H) + '%',
                    }
                  : {
                      height: this._setRowHeight ? '' : '100%',
                      left: a.rtl ? '' : N + '%',
                      right: a.rtl ? N + '%' : '',
                      top: '0',
                      width: H + '%',
                    }
                : { width: (E && !u ? H : 100) + '%' },
              O = Lt(b) < v && C > c,
              z = Lt(C) + k > _;
            if (S || (E && H > 0) || (O && z))
              return s.set(e.original, !0), { end: D, endDate: C, position: I, start: y, startDate: b };
          }
        } else if (
          (b < o && ((y = ''), (b = jt(a, o))),
          C >= l && ((D = ''), (C = jt(a, +l - 1))),
          g >= l && (g = jt(a, +l - 1)),
          Lt(b) < v && Lt(C) + k > _ && C >= b)
        ) {
          var Y = (function (e, t, n, s, a) {
            var i = Lt(e),
              o = Lt(t);
            return s > i && (i = s), a < o && (o = a), (100 * (o - i)) / n;
          })(b, g, p, _, v);
          return {
            cssClass: Y < 2 ? ' mbsc-schedule-event-small-height' : '',
            end: D,
            endDate: C,
            position: { height: Y + '%', top: Ws(b, _, p) + '%', width: '100%' },
            start: y,
            startDate: b,
          };
        }
      }),
      (t.prototype._getEventData = function (e, t, n, s) {
        var a = this.s,
          i = Ln(a, e, t, !0, a.timeFormat, a.allDayText, '', n, !1, this._isTimeline, s);
        return (
          (i.html = this._safeHtml(i.html)),
          e.allDay &&
            a.exclusiveEndDates &&
            +i.endDate == +i.startDate &&
            (i.endDate = Yt(Qt(i.startDate, 1))),
          i
        );
      }),
      (t.prototype._getEvents = function (e) {
        for (
          var t = this,
            n = this.s,
            s = this._resources,
            a = this._slots,
            i = this._hasSlots,
            o = this._isTimeline,
            r = !o,
            l = {},
            c = As(e, s, a, !!n.resources, !!n.slots),
            d = {},
            h = this._firstDay,
            u = this._lastDay,
            m = function (s) {
              var m = s.id,
                v = new Map(),
                p = [],
                f = 0;
              l[m] = {};
              for (
                var g = function (a) {
                    var g = a.id,
                      y = c[m][g],
                      b = Object.keys(y).sort();
                    (l[m][g] = { all: { allDay: [], events: [] } }),
                      r && (d[g] = dn(n, y, h, u, -1, _._daysNr, !0, n.startDay, !1, n.eventOrder));
                    for (
                      var D = function (a) {
                          var c = e[a].date;
                          if (undefined !== _._dayIndexMap[a] && en(c.getDay(), n.startDay, n.endDay)) {
                            var h = hn(y[a]) || [],
                              u = [],
                              b = {},
                              D = !i && o ? 'all' : a,
                              C = 0;
                            (r || i) && (l[m][g][D] = { allDay: [], events: [] });
                            for (var k = 0, x = h; k < x.length; k++) {
                              var T = x[k];
                              if (!T.allDay || o) {
                                var w = _._getEventData(T, c, s),
                                  S = _._getEventPos(w, c, a, v);
                                S &&
                                  ((w.cssClass = S.cssClass),
                                  (w.position = S.position),
                                  r && ((w.showText = !0), Fs(n, u, w, b, n.eventList)),
                                  l[m][g][D].events.push(w),
                                  p.push(w),
                                  C++);
                              }
                            }
                            if ((i && C > f && (f = C), r)) {
                              d[g][a] &&
                                d[g][a].data.forEach(function (e) {
                                  var n = e.event,
                                    i = e.width;
                                  if (n) {
                                    var o = t._getEventData(n, c, s),
                                      r = t._getEventPos(o, c, a, v);
                                    (o.position = { width: r ? r.position.width : i }),
                                      (o.showText = !!r),
                                      l[m][g][D].allDay.push(o);
                                  }
                                });
                              for (
                                var E = function (e) {
                                    var t = e.length;
                                    e.forEach(function (e, s) {
                                      for (var a = 0, i = e; a < i.length; a++) {
                                        var o = i[a],
                                          r = (((b[o.uid] || t) - s) / t) * 100;
                                        (o.position.width = r + '%'),
                                          (o.position[n.rtl ? 'right' : 'left'] = (100 * s) / t + '%'),
                                          (o.position[n.rtl ? 'left' : 'right'] = 'auto');
                                      }
                                    });
                                  },
                                  M = 0,
                                  L = u;
                                M < L.length;
                                M++
                              ) {
                                E(L[M]);
                              }
                            }
                          }
                        },
                        C = 0,
                        k = b;
                      C < k.length;
                      C++
                    ) {
                      D(k[C]);
                    }
                  },
                  y = 0,
                  b = a;
                y < b.length;
                y++
              ) {
                g(b[y]);
              }
              if (o && !i) {
                for (var D = [], C = {}, k = _._setRowHeight, x = 0, T = p; x < T.length; x++) {
                  var w = T[x];
                  Fs(n, D, w, C, n.eventList);
                }
                for (
                  var S = function (e) {
                      var t = e.length;
                      k && t > f && (f = t),
                        e.forEach(function (e, n) {
                          for (var s = 0, a = e; s < a.length; s++) {
                            var i = a[s],
                              o = (((C[i.uid] || t) - n) / t) * 100;
                            (i.position.height = k ? '' : o + '%'),
                              (i.position.top = k ? n : (100 * n) / t + '%');
                          }
                        });
                    },
                    E = 0,
                    M = D;
                  E < M.length;
                  E++
                ) {
                  S(M[E]);
                }
              }
              _._eventRows[m] = f || 1;
            },
            _ = this,
            v = 0,
            p = s;
          v < p.length;
          v++
        ) {
          m(p[v]);
        }
        return l;
      }),
      (t.prototype._getInvalids = function (e) {
        for (
          var t,
            n = this.s,
            s = n.eventList,
            a = {},
            i = As(e, this._resources, this._slots, !!n.resources, !!n.slots),
            o = Object.keys(e || {}).sort(),
            r = s ? Yt(new Date(n.minDate)) : new Date(n.minDate),
            l = s ? Yt(Qt(new Date(n.maxDate), 1)) : new Date(n.maxDate),
            c = this._isTimeline,
            d = 0,
            h = this._resources;
          d < h.length;
          d++
        ) {
          var u = h[d],
            m = u.id,
            _ = new Map();
          a[m] = {};
          for (var v = 0, p = this._slots; v < p.length; v++) {
            var f = p[v].id,
              g = { invalids: [] };
            a[m][f] = { all: g };
            for (var y = 0, b = o; y < b.length; y++) {
              var D = b[y],
                C = qt(D);
              if (en(C.getDay(), n.startDay, n.endDay)) {
                var k = i[m][f][D] || [],
                  x = { invalids: [] },
                  T = [];
                (a[m][f][D] = x),
                  C < r && k.push({ end: r, start: new Date(C) }),
                  C >= Yt(l) && k.push({ end: new Date(this._lastDay), start: l });
                for (var w = 0, S = k; w < S.length; w++) {
                  var E = S[w];
                  if (Z(E) || Xt(E)) {
                    var M = qt(E);
                    E = { allDay: !0, end: new Date(M), start: M };
                  }
                  var L = this._getEventData(E, C, u, !0);
                  (L.cssClass = ''), (L.position = undefined);
                  var N = this._getEventPos(L, C, D, _);
                  if (
                    (N &&
                      (!c && 0 === Lt(N.startDate) && new Date(+N.endDate + 1) >= Qt(C, 1)
                        ? (L.allDay = !0)
                        : ((L.position = N.position),
                          Lt(N.startDate) <= this._startTime &&
                            (L.cssClass += ' mbsc-schedule-invalid-start'),
                          Lt(N.endDate) >= this._endTime && (L.cssClass += ' mbsc-schedule-invalid-end')),
                      T.push(L)),
                    x.invalids.push(L),
                    L.allDay)
                  ) {
                    c || (L.position = {}), (x.allDay = L), (x.invalids = [L]), (T = [L]);
                    break;
                  }
                }
                (t = g.invalids).push.apply(t, T);
              }
            }
          }
        }
        return a;
      }),
      (t.prototype._getColors = function (e) {
        for (
          var t = this.s,
            n = {},
            s = As(e, this._resources, this._slots, !!t.resources, !!t.slots),
            a = Object.keys(e || {}).sort(),
            i = this._hasSlots,
            o = this._isTimeline,
            r = 0,
            l = this._resources;
          r < l.length;
          r++
        ) {
          var c = l[r],
            d = c.id,
            h = new Map();
          n[d] = {};
          for (var u = 0, m = this._slots; u < m.length; u++) {
            var _ = m[u].id;
            n[d][_] = { all: { colors: [] } };
            for (var v = 0, p = a; v < p.length; v++) {
              var f = p[v],
                g = qt(f);
              if (en(g.getDay(), t.startDay, t.endDay)) {
                var y = s[d][_][f] || [],
                  b = !i && o ? 'all' : f;
                (o && !i) || (n[d][_][b] = { colors: [] });
                for (var D = n[d][_][b], C = 0, k = y; C < k.length; C++) {
                  var x = k[C],
                    T = this._getEventData(x, g, c, !0);
                  if (T.allDay && !o) D.allDay = T;
                  else {
                    var w = this._getEventPos(T, g, f, h);
                    w &&
                      ((T.position = w.position),
                      (T.cssClass = ''),
                      Lt(w.startDate) <= this._startTime && (T.cssClass += ' mbsc-schedule-color-start'),
                      Lt(w.endDate) >= this._endTime && (T.cssClass += ' mbsc-schedule-color-end'),
                      D.colors.push(T));
                  }
                  (T.position.background = x.background),
                    (T.position.color = x.textColor ? x.textColor : je(x.background));
                }
              }
            }
          }
        }
        return n;
      }),
      (t.prototype._flattenResources = function (e, t, n, s) {
        for (var a = 0, i = e && e.length ? e : [{ id: Ps }]; a < i.length; a++) {
          var o = i[a];
          (o.depth = n),
            t.push(o),
            o.children &&
              ((this._hasHierarchy = !0),
              (o.collapsed && !s) || this._flattenResources(o.children, t, n + 1, s));
        }
        return t;
      }),
      (t.prototype._render = function (e, t) {
        var n = this,
          s = this._prevS,
          a = this._isTimeline,
          i = new Date(e.selected),
          o = +e.size,
          r = Us(e.timeLabelStep),
          l = Us(e.timeCellStep),
          c = e.firstDay,
          d = e.startDay,
          h = e.endDay,
          u = e.resources,
          m = e.slots,
          _ = e.groupBy !== s.groupBy || u !== s.resources,
          v = e.rtl !== s.rtl || _,
          p = this._startTime,
          g = this._endTime;
        if (
          e.startTime !== s.startTime ||
          e.endTime !== s.endTime ||
          e.timeLabelStep !== s.timeLabelStep ||
          e.timeCellStep !== s.timeCellStep ||
          e.timeFormat !== s.timeFormat ||
          undefined === this._startTime ||
          undefined === this._endTime
        ) {
          var y = qt(e.startTime || '00:00'),
            b = new Date(+qt(e.endTime || '00:00') - 1);
          (this._startTime = p = Lt(y)),
            (this._endTime = g = Lt(b)),
            (this._time = g - p + 1),
            (this._timesBetween = te(oe(l / r) - 1)),
            (this._times = []),
            (this._timeLabels = {});
          for (
            var D = 6e4 * l,
              C = oe(p / D) * D,
              k = function (e) {
                if ((x._times.push(e), a)) {
                  var t = e === C;
                  (x._timeLabels[e] = t || e % (6e4 * r) == 0 ? x._formatTime(t ? p : e) : ''),
                    x._timesBetween.forEach(function (t) {
                      var s = e + (t + 1) * r * 6e4;
                      n._timeLabels[s] = n._formatTime(s);
                    });
                }
              },
              x = this,
              T = C;
            T <= g;
            T += D
          )
            k(T);
          v = !0;
        }
        if (
          _ ||
          d !== s.startDay ||
          h !== s.endDay ||
          m !== s.slots ||
          e.dayNames !== s.dayNames ||
          e.eventList !== s.eventList ||
          e.getDay !== s.getDay ||
          e.refDate !== s.refDate ||
          e.rowHeight !== s.rowHeight ||
          e.selected !== s.selected ||
          e.size !== s.size ||
          e.showDays !== s.showDays ||
          e.type !== s.type ||
          e.weekNumbers !== s.weekNumbers
        ) {
          var w = 'day' === e.type,
            S = 'month' === e.type,
            E = 'year' === e.type,
            M = void 0,
            L = void 0,
            N = void 0,
            H = void 0;
          if (o > 1 || E || S) {
            var I = {
                eventRange: e.type,
                eventRangeSize: o,
                firstDay: c,
                getDate: e.getDate,
                getDay: e.getDay,
                getMonth: e.getMonth,
                getYear: e.getYear,
                refDate: e.refDate,
              },
              O = on(i, I);
            (M = an(O, I)),
              (L = an(O + 1, I)),
              'week' === e.type &&
                ((M = Qt(M, d - c + (d < c ? 7 : 0))), (L = Qt(M, 7 * o + h - d + 1 - (h < d ? 0 : 7)))),
              (N = M),
              (H = L);
          } else {
            (N = Qt(Ut(i, e), d - c + (d < c ? 7 : 0))),
              (H = Qt(N, h - d + 1 + (h < d ? 7 : 0))),
              (M = w ? Yt(i) : N),
              (L = w ? Qt(M, 1) : H);
          }
          (this._isMulti = o > 1 || E),
            (this._hasHierarchy = !1),
            (this._resources = this._flattenResources(u, [], 0, !0)),
            (this._visibleResources = this._flattenResources(u, [], 0)),
            (this._hasSlots = a && !!m && m.length > 0),
            (this._slots = m && m.length ? m : [{ id: Ps }]),
            (this._isSingleResource = 1 === this._resources.length),
            (this._groupByResource = ('date' !== e.groupBy && !(w && o < 2)) || this._isSingleResource),
            (this._firstDay = M),
            (this._lastDay = L),
            (this._firstDayTz = jt(e, M.getFullYear(), M.getMonth(), M.getDate())),
            (this._lastDayTz = jt(e, L.getFullYear(), L.getMonth(), L.getDate())),
            (this._selectedDay = +Yt(i)),
            (this._setRowHeight = e.eventList || 'equal' !== e.rowHeight),
            (this._shouldAnimateScroll = undefined !== s.selected),
            (this._showTimeIndicator =
              (!a || (a && !S && !E)) &&
              !e.eventList &&
              (w && o < 2 ? Wt(new Date(), i) : M <= new Date() && L >= new Date())),
            (this._dayIndexMap = {}),
            (this._days = []),
            (this._headerDays = []);
          var z = 0,
            Y = -1,
            P = -1,
            R = '',
            F = -1,
            U = -1,
            W = '',
            A = M,
            V = L,
            X = w && o < 2,
            B = e.dateFormat.search(/m/i),
            K = e.dateFormat.search(/y/i) < B;
          !a && X && ((A = N), (V = H));
          for (T = Yt(A); T < Yt(V); T.setDate(T.getDate() + 1))
            if (en(T.getDay(), d, h)) {
              var q = zt(T),
                G = '',
                J = '';
              if (a) {
                var Z = e.getWeekNumber(Qt(T, (7 - c + 1) % 7)),
                  $ = e.getMonth(T);
                if (Y !== $) {
                  (P = z), (Y = $);
                  var Q = e.getYear(T),
                    ee = e.monthNames[Y];
                  (G = R = K ? Q + ' ' + ee : ee + ' ' + Q), z > 0 && (this._days[z - 1].lastOfMonth = !0);
                }
                F !== Z &&
                  ((U = z),
                  (F = Z),
                  (J = W = e.weekText.replace(/{count}/, F)),
                  z > 0 && (this._days[z - 1].lastOfWeek = !0));
              }
              var ne = {
                date: new Date(T),
                dateIndex: z,
                dateKey: q,
                dateText: Jt(S || this._isMulti ? 'D DDD' : e.dateFormatLong, T, e),
                day: e.getDay(T),
                label: Jt('DDDD, MMMM D, YYYY', T, e),
                monthIndex: P,
                monthText: R,
                monthTitle: G,
                timestamp: +Yt(T),
                weekIndex: U,
                weekText: W,
                weekTitle: J,
              };
              X && this._headerDays.push(ne),
                (X && this._selectedDay !== +T) || this._days.push(ne),
                (this._dayIndexMap[q] = z),
                z++;
            }
          (this._daysNr = X ? 1 : z), (v = !0);
        }
        (e.colorsMap !== s.colorsMap || v) && (this._colors = this._getColors(e.colorsMap)),
          (e.eventMap === s.eventMap && !v && this._events) ||
            ((this._eventRows = {}), (this._events = this._getEvents(e.eventMap))),
          (e.invalidsMap !== s.invalidsMap || v) && (this._invalids = this._getInvalids(e.invalidsMap));
        var se = a && e.eventMap !== s.eventMap;
        if (
          ((e.height !== s.height || e.width !== s.width || se || v) &&
            (this._shouldCheckSize = f && !!e.height && !!e.width),
          e.scroll !== s.scroll && (this._shouldScroll = !0),
          (this._hasSideSticky = Re && !e.rtl),
          (this._hasSticky = Re),
          (this._stepCell = 6e4 * l),
          (this._stepLabel = 6e4 * r),
          (this._dayNames = t.dayNameWidth > 49 ? e.dayNamesShort : e.dayNamesMin),
          (this._displayTime = r < 1440),
          (this._eventHeight = e.eventList ? (t.eventHeight || 18) + 2 : t.eventHeight || 42),
          (this._headerClass =
            ' mbsc-timeline-header-placeholder mbsc-timeline-header-row-' +
            (1 +
              (this._isMulti ? 1 : 0) +
              (this._displayTime || this._hasSlots ? 1 : 0) +
              (e.weekNumbers ? 1 : 0))),
          a)
        ) {
          var ae = [],
            re =
              undefined === this._daysBatchNr
                ? j(oe(this._stepCell / (this._time / 30)), 1, 30)
                : this._daysBatchNr,
            le = this._dayIndexMap[zt(i)] || 0,
            ce = undefined !== t.batchIndexX ? t.batchIndexX : ie(le / re),
            de = Math.min(ce * re, this._daysNr - 1),
            he = Math.max(0, de - oe((3 * re) / 2)),
            ue = Math.min(he + 3 * re, this._daysNr),
            me = this._days[he].date,
            _e = Qt(this._days[ue - 1].date, 1);
          for (z = he; z < ue; z++) ae.push(this._days[z]);
          (this._batchStart = jt(e, me.getFullYear(), me.getMonth(), me.getDate())),
            (this._batchEnd = jt(e, _e.getFullYear(), _e.getMonth(), _e.getDate())),
            (this._daysBatch = ae),
            (this._daysBatchNr = re),
            (this._placeholderSizeX = t.dayWidth * ie(Math.max(0, de - (3 * re) / 2)) || 0);
          var ve = (t.scrollContHeight || 0) - (t.headerHeight || 0),
            pe = t.rowHeight || 52,
            fe = [],
            ge = t.batchIndexY || 0,
            ye = this._visibleResources,
            be = [],
            De = -1,
            Ce = 0;
          ve &&
            ye.forEach(function (e, t) {
              var s = n._setRowHeight ? Math.max(n._eventRows[e.id] * n._eventHeight + 10, 52) : pe,
                a = oe(Ce / ve);
              a !== De && (be.push({ startIndex: t, top: Ce }), (De = a)), (Ce += s);
            });
          var ke = be[ge - 1],
            xe = be[ge + 2],
            Te = ke ? ke.startIndex : 0,
            we = xe ? xe.startIndex : Ce ? ye.length : 30;
          Ce && !t.hasScrollY && ((Te = 0), (we = ye.length));
          for (z = Te; z < we; z++) {
            var Se = ye[z];
            Se && fe.push(Se);
          }
          (this._gridHeight = Ce),
            (this._virtualPagesY = be),
            (this._resourcesBatch = fe),
            (this._rowStartIndex = Te),
            (this._placeholderSizeY = ke ? ke.top : 0);
        }
      }),
      (t.prototype._mounted = function () {
        var e,
          t,
          n,
          s = this;
        (this._unlisten = ft(this._el, {
          onDoubleClick: function (e) {
            var t = s.s;
            n &&
              t.clickToCreate &&
              'single' !== t.clickToCreate &&
              ((e.click = !0), s._onEventDragStart(e), s._onEventDragEnd(e));
          },
          onEnd: function (n) {
            !e && t && 'single' === s.s.clickToCreate && ((e = !0), (n.click = !0), s._onEventDragStart(n)),
              e && (n.domEvent.preventDefault(), s._onEventDragEnd(n)),
              clearTimeout(s._touchTimer),
              (e = !1),
              (t = !1);
          },
          onMove: function (n) {
            var a = s.s;
            e && a.dragToCreate
              ? (n.domEvent.preventDefault(), s._onEventDragMove(n))
              : t && a.dragToCreate && (Math.abs(n.deltaX) > 7 || Math.abs(n.deltaY) > 7)
              ? ((e = !0), s._onEventDragStart(n))
              : clearTimeout(s._touchTimer);
          },
          onStart: function (a) {
            var i = s.s;
            if (((a.create = !0), (a.click = !1), !e && (i.dragToCreate || i.clickToCreate))) {
              var o = (a.domEvent.target && a.domEvent.target.classList) || [];
              (n =
                o.contains('mbsc-schedule-item') ||
                o.contains('mbsc-schedule-all-day-item') ||
                o.contains('mbsc-timeline-column')) &&
                (a.isTouch && i.dragToCreate
                  ? (s._touchTimer = setTimeout(function () {
                      s._onEventDragStart(a), s._onEventDragModeOn(a), (e = !0);
                    }, 350))
                  : (t = !a.isTouch));
            }
          },
        })),
          (this._unsubscribe = yt(this._onExternalDrag));
      }),
      (t.prototype._updated = function () {
        var e = this;
        this._shouldCheckSize &&
          ce(this, function () {
            var t,
              n,
              s,
              a,
              i,
              o,
              r = e._resCont,
              l = r ? r.offsetWidth : 0,
              c = e._headerCont,
              d = c.offsetHeight,
              h = e._scrollCont,
              u = h.offsetWidth,
              m = h.offsetHeight,
              _ = h.clientWidth,
              v = h.clientHeight,
              p = u - _,
              f = m - v,
              g = u - l,
              y = m - d,
              b = h.scrollHeight > v,
              D = h.scrollWidth > _,
              C = e.state.eventHeight;
            if (e._isTimeline) {
              var k = h.querySelector('.mbsc-timeline-day'),
                x = h.querySelector('.mbsc-timeline-row');
              if (
                ((s = k ? k.offsetWidth : 64),
                (o = x ? x.offsetHeight : 52),
                s * e._daysNr < g && (D = !1),
                e._gridHeight && e._gridHeight < y && (b = !1),
                (s = D ? s : ie(g / e._daysNr)),
                (i = D ? s * e._daysNr : g),
                (n = (e._stepCell * s) / e._time),
                (e._gridWidth = i),
                (e._daysBatchNr = Math.max(1, Math.ceil(g / s))),
                e._hasSticky || (c.style[e.s.rtl ? 'left' : 'right'] = p + 'px'),
                !e._hasSideSticky && r && (r.style.bottom = f + 'px'),
                e._setRowHeight)
              ) {
                var T = h.querySelector('.mbsc-schedule-event');
                T && (C = T.clientHeight);
              }
            } else {
              var w = e._el.querySelector('.mbsc-schedule-column-inner'),
                S = e._el.querySelector('.mbsc-schedule-header-item');
              (t = (e._stepCell * w.offsetHeight) / e._time), (a = S ? S.offsetWidth : 0);
            }
            e._onScroll(),
              (e._shouldCheckSize = !1),
              e.setState({
                cellHeight: t,
                cellWidth: n,
                dayNameWidth: a,
                dayWidth: s,
                eventHeight: C,
                hasScrollX: D,
                hasScrollY: b,
                headerHeight: d,
                rowHeight: o,
                scrollContHeight: D ? v : m,
              });
          }),
          !this._shouldScroll ||
            (!this.state.dayWidth && this._isTimeline) ||
            (ce(this, function () {
              e._scrollToTime(e._shouldAnimateScroll);
            }),
            (this._shouldScroll = !1));
      }),
      (t.prototype._destroy = function () {
        this._unlisten(), bt(this._unsubscribe);
      }),
      (t.prototype._getDragDates = function (e, t, n) {
        var s = this.s,
          a = {},
          i = new Map(),
          o = e.allDay ? this._firstDay : this._firstDayTz,
          r = e.startDate,
          c = e.endDate;
        for (r = (r = Yt(r)) < o ? o : r, c = Ot(s, e.allDay || s.eventList, r, c); r <= c; ) {
          var d = l({}, e),
            h = zt(r),
            u = en(r.getDay(), s.startDay, s.endDay) && this._getEventPos(e, r, h, i);
          if (u) {
            var m = this._isTimeline && !this._hasSlots ? 'all' : h;
            (d.date = +Yt(r, !0)),
              (d.cssClass = u.cssClass),
              (d.start = u.start),
              (d.end = u.end),
              (d.position = u.position),
              (a[t + '__' + (this._isTimeline ? n + '__' : '') + m] = d);
          }
          r = Qt(r, 1);
        }
        return a;
      }),
      (t.prototype._getGridTime = function (e, t, n, s, a) {
        var i,
          o,
          r =
            ((i = this._isTimeline
              ? oe((this._time * (t - s * this._colWidth)) / this._colWidth)
              : oe((this._time * (n - 8)) / (this._colHeight - 16))),
            oe(i / (o = 6e4 * a)) * o),
          l = new Date(+kt + this._startTime + r);
        return jt(this.s, e.getFullYear(), e.getMonth(), e.getDate(), l.getHours(), l.getMinutes());
      }),
      (t.prototype._scrollToTime = function (e) {
        var t = this._scrollCont,
          n = this._gridCont,
          s = this._isTimeline;
        if (t) {
          var a = this.s,
            i = jt(a, a.selected);
          i.setHours(a.eventList ? 0 : i.getHours(), 0);
          var o = Ws(i, this._startTime, this._time * (s ? this._daysNr : 1)),
            r = (100 * Ft(this._firstDay, i, a.startDay, a.endDay)) / this._daysNr,
            l = ((s ? n.offsetWidth : n.scrollWidth) * (r + (s ? o : 0))) / 100,
            c = void 0;
          if (!s)
            (c = (t.querySelector('.mbsc-schedule-column-inner').offsetHeight * o) / 100),
              this._groupByResource && !this._isSingleResource && (l = undefined);
          Ge(t, l, c, e, a.rtl);
        }
      }),
      t
    );
  })(at),
  Bs = {},
  Ks = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._onClick = function (e) {
          t._triggerClick('onClick', e);
          var n = t.s,
            s = Bs[n.event.uid];
          s && n.selected && s.next({ hasFocus: !1 });
        }),
        (t._onRightClick = function (e) {
          t._triggerClick('onRightClick', e);
        }),
        (t._onDocTouch = function (e) {
          Ue(t._doc, 'touchstart', t._onDocTouch),
            Ue(t._doc, ot, t._onDocTouch),
            (t._isDrag = !1),
            t._hook('onDragModeOff', { event: t.s.event.original });
        }),
        (t._updateState = function (e) {
          t.setState(e);
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._render = function (e, t) {
        var n = e.event,
          s = new Date(n.date),
          a = n.position,
          i = n.startDate,
          o = Ot(e, n.allDay, i, n.endDate),
          r = e.isTimeline,
          c = e.isListing,
          d = c || n.allDay,
          h = !Wt(i, o),
          u = h && Wt(i, s),
          m = h && Wt(o, s),
          _ = d && (!r || c),
          v = r ? 'timeline' : 'schedule',
          p = e.gridStartTime,
          f = e.gridEndTime,
          g = Lt(i),
          y = Lt(o),
          b = r && e.slot !== Ps,
          D = e.singleDay ? Qt(s, 1) : new Date(e.lastDay),
          C = en(o.getDay(), e.startDay, e.endDay);
        (this._isStart = b || !h || u),
          (this._isEnd = b || !h || (d || r ? o < D && C : m)),
          b || d || !(p > g || f < g) || (this._isStart = !1),
          b || d || !(f < y || p > y) || (this._isEnd = !1),
          (this._html = this._content = undefined),
          (this._isDrag = this._isDrag || e.isDrag),
          (this._rangeText = n.start + ' - ' + n.end),
          (this._isAllDay = _),
          (this._host = v),
          (n.allDay || (!r && h && !u && !m)) && (this._rangeText = n.allDayText),
          (this._cssClass =
            'mbsc-schedule-event' +
            this._theme +
            this._rtl +
            (r ? ' mbsc-timeline-event' : '') +
            (c ? ' mbsc-timeline-event-listing' : '') +
            (this._isStart ? ' mbsc-' + v + '-event-start' : '') +
            (this._isEnd ? ' mbsc-' + v + '-event-end' : '') +
            (_ ? ' mbsc-schedule-event-all-day' : '') +
            (b ? ' mbsc-timeline-event-slot' : '') +
            ((t.hasFocus && !e.inactive && !e.selected) || e.selected ? ' mbsc-schedule-event-active' : '') +
            (!t.hasHover || e.inactive || this._isDrag ? '' : ' mbsc-schedule-event-hover') +
            (e.isDrag ? ' mbsc-schedule-event-dragging' + (r ? ' mbsc-timeline-event-dragging' : '') : '') +
            (e.hidden ? ' mbsc-schedule-event-hidden' : '') +
            (e.inactive ? ' mbsc-schedule-event-inactive' : '') +
            (!1 === n.original.editable ? ' mbsc-readonly-event' : '')),
          (this._style = l({}, a, {
            color: n.color,
            top: e.eventHeight && undefined !== a.top ? a.top * e.eventHeight + 'px' : a.top,
          }));
        var k = e.render || e.renderContent;
        if (k) {
          var x = k(n);
          Z(x) ? ((this._html = this._safeHtml(x)), (this._shouldEnhance = !0)) : (this._content = x);
        } else e.contentTemplate || (this._html = n.html);
      }),
      (t.prototype._mounted = function () {
        var e,
          t,
          n = this,
          s = this.s.event.uid,
          a = Bs[s];
        a || ((a = new _()), (Bs[s] = a)),
          (this._unsubscribe = a.subscribe(this._updateState)),
          (this._doc = We(this._el)),
          (this._unlisten = ft(this._el, {
            keepFocus: !0,
            onBlur: function () {
              a.next({ hasFocus: !1 });
            },
            onDoubleClick: function (e) {
              e.domEvent.stopPropagation(), n._triggerClick('onDoubleClick', e.domEvent);
            },
            onEnd: function (s) {
              if (n._isDrag) {
                var a = n.s,
                  i = l({}, s);
                i.domEvent.preventDefault(),
                  (i.event = a.event),
                  (i.resource = a.resource),
                  (i.slot = a.slot),
                  a.resize && e ? ((i.resize = !0), (i.direction = e)) : a.drag && (i.drag = !0),
                  n._hook('onDragEnd', i),
                  a.isDrag || (n._isDrag = !1),
                  n._el && i.moved && n._el.blur();
              }
              clearTimeout(t), (e = undefined);
            },
            onFocus: function () {
              a.next({ hasFocus: !0 });
            },
            onHoverIn: function (e) {
              a.next({ hasHover: !0 }), n._triggerClick('onHoverIn', e);
            },
            onHoverOut: function (e) {
              a.next({ hasHover: !1 }), n._triggerClick('onHoverOut', e);
            },
            onKeyDown: function (e) {
              var t = n.s.event.original;
              switch (e.keyCode) {
                case 13:
                case 32:
                  n._el.click(), e.preventDefault();
                  break;
                case 8:
                case 46:
                  !1 !== t.editable && n._hook('onDelete', { domEvent: e, event: t, source: n._host });
              }
            },
            onMove: function (s) {
              var a = n.s,
                i = l({}, s);
              if (((i.event = a.event), (i.resource = a.resource), (i.slot = a.slot), e))
                (i.resize = !0), (i.direction = e);
              else {
                if (!a.drag) return;
                i.drag = !0;
              }
              !1 !== a.event.original.editable &&
                ((!n._isDrag && i.isTouch) || i.domEvent.preventDefault(),
                n._isDrag
                  ? n._hook('onDragMove', i)
                  : (Math.abs(i.deltaX) > 7 || Math.abs(i.deltaY) > 7) &&
                    (clearTimeout(t), i.isTouch || ((n._isDrag = !0), n._hook('onDragStart', i))));
            },
            onStart: function (s) {
              var a = n.s,
                i = l({}, s),
                o = i.domEvent.target;
              if (
                ((i.event = a.event),
                (i.resource = a.resource),
                (i.slot = a.slot),
                a.resize && o.classList.contains('mbsc-schedule-event-resize'))
              )
                (e = o.classList.contains('mbsc-schedule-event-resize-start') ? 'start' : 'end'),
                  (i.resize = !0),
                  (i.direction = e);
              else {
                if (!a.drag) return;
                i.drag = !0;
              }
              !1 !== a.event.original.editable &&
                (n._isDrag
                  ? (i.domEvent.stopPropagation(), n._hook('onDragStart', i))
                  : i.isTouch &&
                    (t = setTimeout(function () {
                      n._hook('onDragModeOn', i), n._hook('onDragStart', i), (n._isDrag = !0);
                    }, 350)));
            },
          })),
          this._isDrag &&
            (Fe(this._doc, 'touchstart', this._onDocTouch), Fe(this._doc, ot, this._onDocTouch));
      }),
      (t.prototype._destroy = function () {
        if ((this._el && this._el.blur(), this._unsubscribe)) {
          var e = this.s.event.uid,
            t = Bs[e];
          t && (t.unsubscribe(this._unsubscribe), t.nr || delete Bs[e]);
        }
        this._unlisten && this._unlisten(),
          Ue(this._doc, 'touchstart', this._onDocTouch),
          Ue(this._doc, ot, this._onDocTouch);
      }),
      (t.prototype._triggerClick = function (e, t) {
        var n = this.s;
        this._hook(e, {
          date: n.event.date,
          domEvent: t,
          event: n.event.original,
          resource: n.resource,
          slot: n.slot,
          source: this._host,
        });
      }),
      t
    );
  })(at),
  js = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        var t = e.event,
          n = this._isAllDay,
          s = e.isTimeline,
          a = this._theme,
          i = e.resize && !1 !== t.original.editable;
        return Bn(
          'div',
          {
            tabIndex: 0,
            className: this._cssClass,
            'data-id': t.id,
            style: this._style,
            ref: this._setEl,
            title: t.tooltip,
            onClick: this._onClick,
            onContextMenu: this._onRightClick,
          },
          this._isStart &&
            i &&
            Bn('div', {
              className:
                'mbsc-schedule-event-resize mbsc-schedule-event-resize-start' +
                (s ? ' mbsc-timeline-event-resize' : '') +
                this._rtl +
                (e.isDrag ? ' mbsc-schedule-event-resize-start-touch' : ''),
            }),
          this._isEnd &&
            i &&
            Bn('div', {
              className:
                'mbsc-schedule-event-resize mbsc-schedule-event-resize-end' +
                (s ? ' mbsc-timeline-event-resize' : '') +
                this._rtl +
                (e.isDrag ? ' mbsc-schedule-event-resize-end-touch' : ''),
            }),
          e.render
            ? this._content
              ? this._content
              : Bn('div', { style: { height: '100%' }, dangerouslySetInnerHTML: this._html })
            : Bn(
                jn,
                null,
                !n && !s && Bn('div', { className: 'mbsc-schedule-event-bar' + a + this._rtl }),
                Bn('div', {
                  className:
                    'mbsc-schedule-event-background' +
                    (s ? ' mbsc-timeline-event-background' : '') +
                    (n ? ' mbsc-schedule-event-all-day-background' : '') +
                    a,
                  style: { background: t.style.background },
                }),
                Bn(
                  'div',
                  {
                    'aria-hidden': 'true',
                    className:
                      'mbsc-schedule-event-inner' +
                      a +
                      (n ? ' mbsc-schedule-event-all-day-inner' : '') +
                      (t.cssClass || ''),
                    style: { color: t.style.color },
                  },
                  Bn(
                    'div',
                    {
                      className:
                        'mbsc-schedule-event-title' + (n ? ' mbsc-schedule-event-all-day-title' : '') + a,
                      dangerouslySetInnerHTML: this._html,
                    },
                    this._content,
                  ),
                  !n && Bn('div', { className: 'mbsc-schedule-event-range' + a }, this._rangeText),
                ),
                t.ariaLabel && Bn('div', { className: 'mbsc-hidden-content' }, t.ariaLabel),
              ),
        );
      }),
      t
    );
  })(Ks),
  qs = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._onScroll = function () {
          var e = t._scrollCont;
          if (e) {
            var n = e.scrollTop,
              s = 'translateX(' + -e.scrollLeft + 'px)',
              a = t._timeCont,
              i = t._allDayCont,
              o = t._headerCont,
              r = (Ye ? Ye + 'T' : 't') + 'ransform';
            i && (i.style[r] = s),
              a && (a.style.marginTop = -n + 'px'),
              o && (o.style[r] = s),
              0 === n ? t.setState({ showShadow: !1 }) : t.state.showShadow || t.setState({ showShadow: !0 });
          }
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._render = function (t, n) {
        e.prototype._render.call(this, t, n);
        var s = this._prevS,
          a = t.timezones,
          i = this._stepCell / 6e4,
          o = oe(this._startTime / 6e4) % i,
          r = (oe(this._endTime / 6e4) % i) + 1;
        if (
          a !== s.timezones &&
          ((this._timeWidth = a ? { width: 4.25 * a.length + 'em' } : undefined),
          (this._timezones = undefined),
          a)
        ) {
          for (var l = [], c = 0, d = a; c < d.length; c++) {
            var h = d[c],
              u = void 0;
            if (Z(h)) {
              var m = jt(t, 1970, 0, 1);
              xt(m) && m.setTimezone(h);
              var _ = (m.getTimezoneOffset() / 60) * -1;
              u = { label: 'UTC' + (_ > 0 ? '+' : '') + _, timezone: h };
            } else u = h;
            l.push(u);
          }
          this._timezones = l;
        }
        (this._largeDayNames = n.dayNameWidth > 99),
          (this._startCellStyle =
            o % i != 0 ? { height: (n.cellHeight || 50) * (((i - o) % i) / i) + 'px' } : undefined),
          (this._endCellStyle =
            r % i != 0 ? { height: ((n.cellHeight || 50) * (r % i)) / i + 'px' } : undefined);
      }),
      t
    );
  })(Xs),
  Gs = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e) {
        var t = this,
          n = e.timezones;
        return Bn(
          'div',
          { 'aria-hidden': 'true', className: this._cssClass, style: this._pos },
          Bn(
            'div',
            {
              className:
                (n ? 'mbsc-flex ' : '') +
                'mbsc-schedule-time-indicator-time mbsc-schedule-time-indicator-time-' +
                e.orientation +
                this._theme +
                this._rtl,
            },
            n
              ? n.map(function (e, n) {
                  return Bn(
                    'div',
                    { key: n, className: 'mbsc-schedule-time-indicator-tz' + t._theme + t._rtl },
                    t._times[n],
                  );
                })
              : this._time,
          ),
          e.showDayIndicator &&
            Bn('div', { className: 'mbsc-schedule-time-indicator-day' + this._theme, style: this._dayPos }),
        );
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        r(t, e),
        (t.prototype._mounted = function () {
          var e = this;
          clearInterval(this._timer),
            (this._timer = setInterval(function () {
              e._zone
                ? e._zone.runOutsideAngular(function () {
                    e.forceUpdate();
                  })
                : e.forceUpdate();
            }, 1e4));
        }),
        (t.prototype._destroy = function () {
          clearInterval(this._timer);
        }),
        (t.prototype._render = function (e) {
          var t = jt(e),
            n = e.rtl,
            s = e.displayedDays,
            a = e.displayedTime,
            i = e.startTime,
            o = 6e4 * oe(Lt(t) / 6e4),
            r = e.timezones,
            l = { amText: e.amText, pmText: e.pmText };
          if (r && xt(t)) {
            this._times = [];
            for (var c = 0, d = r; c < d.length; c++) {
              var h = d[c],
                u = t.clone();
              u.setTimezone(h.timezone), this._times.push(Jt(e.timeFormat, u, l));
            }
          } else this._time = Jt(e.timeFormat, t, l);
          this._cssClass =
            'mbsc-schedule-time-indicator mbsc-schedule-time-indicator-' +
            e.orientation +
            this._theme +
            this._rtl +
            ' ' +
            (o < i || o > i + a || !en(t.getDay(), e.startDay, e.endDay) ? ' mbsc-hidden' : '');
          var m = Ft(e.firstDay, t, e.startDay, e.endDay);
          if ('x' === e.orientation) {
            var _ = (100 * m) / s + '%',
              v = r && 4.25 * r.length + 'em';
            (this._pos = {
              left: r && !n ? v : undefined,
              right: r && n ? v : undefined,
              top: (100 * (o - i)) / a + '%',
            }),
              (this._dayPos = { left: n ? '' : _, right: n ? _ : '', width: 100 / s + '%' });
          } else {
            var p = (100 * (m * a + o - i)) / (s * a) + '%';
            this._pos = { left: n ? '' : p, right: n ? p : '' };
          }
        }),
        t
      );
    })(at),
  ),
  Js = /*#__PURE__*/ (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      r(t, e),
      (t.prototype._template = function (e, t) {
        var n;
        return (
          e.renderDay && (n = e.renderDay(this._data)),
          e.renderDayContent && (n = e.renderDayContent(this._data)),
          Z(n) &&
            ((n = Bn('div', { dangerouslySetInnerHTML: this._safeHtml(n) })), (this._shouldEnhance = !0)),
          Bn(
            'div',
            { ref: this._setEl, className: this._cssClass, onClick: this._onClick },
            e.renderDay
              ? n
              : Bn(
                  jn,
                  null,
                  Bn(
                    'div',
                    {
                      'aria-hidden': 'true',
                      className:
                        'mbsc-schedule-header-dayname' +
                        this._theme +
                        (e.selected ? ' mbsc-selected' : '') +
                        (e.isToday ? ' mbsc-schedule-header-dayname-curr' : ''),
                    },
                    e.dayNames[this._day],
                  ),
                  Bn(
                    'div',
                    {
                      'aria-hidden': 'true',
                      className:
                        'mbsc-schedule-header-day' +
                        this._theme +
                        this._rtl +
                        (e.selected ? ' mbsc-selected' : '') +
                        (e.isToday ? ' mbsc-schedule-header-day-today' : '') +
                        (t.hasHover ? ' mbsc-hover' : ''),
                    },
                    e.day,
                  ),
                  e.label &&
                    Bn(
                      'div',
                      {
                        className: 'mbsc-hidden-content',
                        'aria-pressed': e.selectable ? (e.selected ? 'true' : 'false') : undefined,
                        role: e.selectable ? 'button' : undefined,
                      },
                      e.label,
                    ),
                  e.renderDayContent && n,
                ),
          )
        );
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._onClick = function () {
            var e = t.s;
            e.selectable && e.onClick(e.timestamp);
          }),
          t
        );
      }
      return (
        r(t, e),
        (t.prototype._render = function (e, t) {
          var n = new Date(e.timestamp);
          (this._cssClass =
            'mbsc-schedule-header-item ' +
            this._className +
            this._theme +
            this._rtl +
            this._hb +
            (e.largeNames ? ' mbsc-schedule-header-item-large' : '') +
            (e.selected ? ' mbsc-selected' : '') +
            (t.hasHover ? ' mbsc-hover' : '')),
            (this._data = { date: n, events: e.events, resource: e.resource, selected: e.selected }),
            (this._day = n.getDay());
        }),
        (t.prototype._mounted = function () {
          var e = this;
          this._unlisten = ft(this._el, {
            onHoverIn: function () {
              e.s.selectable && e.setState({ hasHover: !0 });
            },
            onHoverOut: function () {
              e.s.selectable && e.setState({ hasHover: !1 });
            },
          });
        }),
        (t.prototype._destroy = function () {
          this._unlisten && this._unlisten();
        }),
        t
      );
    })(at),
  ),
  Zs = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._setCont = function (e) {
          t._scrollCont = e;
        }),
        (t._setTimeCont = function (e) {
          t._timeCont = e;
        }),
        (t._setAllDayCont = function (e) {
          t._allDayCont = e;
        }),
        (t._setGridCont = function (e) {
          t._gridCont = e;
        }),
        (t._setHeaderCont = function (e) {
          t._headerCont = e;
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._template = function (e, t) {
        var n = this,
          s = this._colors,
          a = t.dragData,
          i = a && a.draggedEvent && a.draggedEvent.id,
          o = this._events,
          r = this._invalids,
          c = this._hb,
          d = this._rtl,
          h = this._times,
          u = this._startTime,
          m = this._endTime,
          _ = this._startCellStyle,
          v = this._endCellStyle,
          p = this._stepLabel,
          f = this._theme,
          g = this._isSingleResource,
          y = e.eventMap || {},
          b = 'schedule',
          D = ' mbsc-flex-1-0 mbsc-schedule-resource-group' + f + d,
          C = this._timezones,
          k = this._groupByResource,
          x = this._days,
          T = this._resources,
          w = {
            dayNames: this._dayNames,
            largeNames: this._largeDayNames,
            onClick: e.onWeekDayClick,
            renderDay: e.renderDay,
            renderDayContent: e.renderDayContent,
            rtl: e.rtl,
            theme: e.theme,
          },
          S = function (t) {
            var s,
              a = t.name;
            return (
              e.renderResource &&
                Z((a = e.renderResource(t))) &&
                ((s = n._safeHtml(a)), (n._shouldEnhance = !0)),
              a &&
                Bn(
                  'div',
                  {
                    key: t.id,
                    className:
                      'mbsc-schedule-resource' +
                      f +
                      d +
                      c +
                      (!k || ('day' === e.type && 1 === e.size)
                        ? ' mbsc-flex-1-0 mbsc-schedule-col-width'
                        : ''),
                  },
                  Bn('div', { dangerouslySetInnerHTML: s, className: 'mbsc-schedule-resource-title' }, a),
                )
            );
          },
          E = function (t, s, o, r) {
            var c = o + '__' + s,
              d = {
                displayTimezone: e.displayTimezone,
                drag: e.dragToMove,
                endDay: e.endDay,
                exclusiveEndDates: e.exclusiveEndDates,
                gridEndTime: m,
                gridStartTime: u,
                lastDay: +n._lastDay,
                render: e.renderEvent,
                renderContent: e.renderEventContent,
                resize: e.dragToResize,
                resource: o,
                rtl: e.rtl,
                singleDay: !k,
                startDay: e.startDay,
                theme: e.theme,
                timezonePlugin: e.timezonePlugin,
              };
            return Bn(
              jn,
              null,
              t.map(function (t) {
                return t.showText
                  ? Bn(
                      js,
                      l({}, d, {
                        event: t,
                        key: t.uid,
                        inactive: i === t.id,
                        selected: e.selectedEventsMap[t.uid] || e.selectedEventsMap[t.id],
                        onClick: e.onEventClick,
                        onDoubleClick: e.onEventDoubleClick,
                        onRightClick: e.onEventRightClick,
                        onDelete: e.onEventDelete,
                        onHoverIn: e.onEventHoverIn,
                        onHoverOut: e.onEventHoverOut,
                        onDragStart: n._onEventDragStart,
                        onDragMove: n._onEventDragMove,
                        onDragEnd: n._onEventDragEnd,
                        onDragModeOn: n._onEventDragModeOn,
                        onDragModeOff: n._onEventDragModeOff,
                      }),
                    )
                  : Bn(
                      'div',
                      {
                        key: t.uid,
                        className:
                          'mbsc-schedule-event mbsc-schedule-event-all-day mbsc-schedule-event-all-day-placeholder',
                      },
                      Bn('div', { className: 'mbsc-schedule-event-all-day-inner' + f }),
                    );
              }),
              a &&
                a.originDates &&
                a.originDates[c] &&
                !!a.originDates[c].allDay == !!r &&
                Bn(
                  js,
                  l({}, d, {
                    event: a.originDates[c],
                    hidden: a && !!a.draggedDates,
                    isDrag: !0,
                    onDragStart: n._onEventDragStart,
                    onDragMove: n._onEventDragMove,
                    onDragEnd: n._onEventDragEnd,
                    onDragModeOff: n._onEventDragModeOff,
                  }),
                ),
              a &&
                a.draggedDates &&
                a.draggedDates[c] &&
                !!a.draggedDates[c].allDay == !!r &&
                Bn(js, l({}, d, { event: a.draggedDates[c], isDrag: !0 })),
            );
          },
          M = function (e) {
            return h.map(function (t, s) {
              var a = !s,
                i = s === h.length - 1;
              return Bn(
                'div',
                {
                  key: s,
                  className:
                    'mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-time-wrapper' +
                    f +
                    d +
                    (i ? ' mbsc-schedule-time-wrapper-end' : '') +
                    ((a && _) || (i && v) ? ' mbsc-flex-none' : ''),
                  style: a ? _ : i ? v : {},
                },
                Bn(
                  'div',
                  { className: 'mbsc-flex-1-1 mbsc-schedule-time' + f + d },
                  a || t % p == 0 ? n._formatTime(a ? u : t, e) : '',
                ),
                n._timesBetween.map(function (s, a) {
                  var i = t + (a + 1) * p;
                  return (
                    i > u &&
                    i < m &&
                    Bn(
                      'div',
                      { key: a, className: 'mbsc-flex-1-1 mbsc-schedule-time' + f + d },
                      n._formatTime(i, e),
                    )
                  );
                }),
                i &&
                  Bn(
                    'div',
                    { className: 'mbsc-schedule-time mbsc-schedule-time-end' + f + d },
                    n._formatTime(m + 1, e),
                  ),
              );
            });
          },
          L = function (e, t, n, a) {
            var i = r[e][Ps][t] && r[e][Ps][t].allDay,
              l = s[e][Ps][t] && s[e][Ps][t].allDay,
              h = o[e][Ps][t] && o[e][Ps][t].allDay;
            return Bn(
              'div',
              {
                key: n + '-' + a,
                className: 'mbsc-schedule-all-day-item mbsc-schedule-col-width mbsc-flex-1-0' + f + d + c,
              },
              E(h || [], t, e, !0),
              i &&
                Bn(
                  'div',
                  { className: 'mbsc-schedule-invalid mbsc-schedule-invalid-all-day' + f },
                  Bn('div', { className: 'mbsc-schedule-invalid-text' }, i.title),
                ),
              l &&
                Bn(
                  'div',
                  { className: 'mbsc-schedule-color mbsc-schedule-color-all-day' + f, style: l.position },
                  Bn('div', { className: 'mbsc-schedule-color-text' }, l.title),
                ),
            );
          },
          N = function (t, n, a, i) {
            var l = r[t][Ps][n] && r[t][Ps][n].invalids,
              u = s[t][Ps][n] && s[t][Ps][n].colors,
              m = o[t][Ps][n] && o[t][Ps][n].events;
            return Bn(
              'div',
              {
                key: a + '-' + i,
                className:
                  'mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-column mbsc-schedule-col-width' + f + d + c,
              },
              Bn(
                'div',
                { className: 'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-column-inner' + f + d + c },
                Bn('div', { className: 'mbsc-schedule-events' + d }, E(m || [], n, t)),
                l &&
                  l.map(function (e, t) {
                    return (
                      e.position &&
                      Bn(
                        'div',
                        { key: t, className: 'mbsc-schedule-invalid' + e.cssClass + f, style: e.position },
                        Bn('div', { className: 'mbsc-schedule-invalid-text' }, e.allDay ? '' : e.title || ''),
                      )
                    );
                  }),
                u &&
                  u.map(function (e, t) {
                    return Bn(
                      'div',
                      { key: t, className: 'mbsc-schedule-color' + e.cssClass + f, style: e.position },
                      Bn('div', { className: 'mbsc-schedule-color-text' }, e.title),
                    );
                  }),
                h.map(function (n, s) {
                  var a = Vs(i, n),
                    o = !s,
                    r = s === h.length - 1;
                  return Bn('div', {
                    key: s,
                    className:
                      'mbsc-schedule-item mbsc-flex-1-0' +
                      f +
                      c +
                      (r ? ' mbsc-schedule-item-last' : '') +
                      ((o && _) || (r && v) ? ' mbsc-flex-none' : ''),
                    onClick: function (n) {
                      return e.onCellClick({ date: a, domEvent: n, resource: t, source: b });
                    },
                    onDoubleClick: function (n) {
                      return e.onCellDoubleClick({ date: a, domEvent: n, resource: t, source: b });
                    },
                    onContextMenu: function (n) {
                      return e.onCellRightClick({ date: a, domEvent: n, resource: t, source: b });
                    },
                    style: o ? _ : r ? v : {},
                  });
                }),
              ),
            );
          };
        return Bn(
          'div',
          {
            ref: this._setEl,
            className:
              'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-wrapper' +
              f +
              (this._daysNr > 7 ? ' mbsc-schedule-wrapper-multi' : ''),
          },
          Bn(
            'div',
            { className: 'mbsc-schedule-header mbsc-flex mbsc-flex-none' + f + c },
            Bn('div', {
              className: 'mbsc-schedule-time-col mbsc-schedule-time-col-empty' + f + d + c,
              style: this._timeWidth,
            }),
            Bn(
              'div',
              { className: 'mbsc-flex-1-1 mbsc-schedule-header-wrapper' },
              Bn(
                'div',
                { ref: this._setHeaderCont, className: 'mbsc-flex' },
                'day' === e.type && 1 === e.size
                  ? Bn(
                      'div',
                      { className: D },
                      Bn(
                        'div',
                        { className: 'mbsc-flex' },
                        e.showDays &&
                          this._headerDays.map(function (e) {
                            var t = e.timestamp;
                            return Bn(
                              Js,
                              l({}, w, {
                                key: t,
                                cssClass: 'mbsc-flex-1-1',
                                day: e.day,
                                events: y[e.dateKey],
                                isToday: n._isToday(t),
                                label: e.label,
                                selectable: !0,
                                selected: n._selectedDay === t,
                                timestamp: t,
                              }),
                            );
                          }),
                      ),
                      e.resources && Bn('div', { className: 'mbsc-flex' }, T.map(S)),
                    )
                  : k
                  ? T.map(function (t, s) {
                      return Bn(
                        'div',
                        { key: s, className: D },
                        S(t),
                        Bn(
                          'div',
                          { className: 'mbsc-flex' },
                          e.showDays &&
                            x.map(function (e) {
                              var s = e.timestamp;
                              return Bn(
                                Js,
                                l({}, w, {
                                  key: s,
                                  cssClass: 'mbsc-flex-1-0 mbsc-schedule-col-width',
                                  day: e.day,
                                  events: y[e.dateKey],
                                  isToday: g && n._isToday(s),
                                  label: e.label,
                                  resource: t.id,
                                  selectable: !1,
                                  selected: g && n._isToday(s),
                                  timestamp: s,
                                }),
                              );
                            }),
                        ),
                      );
                    })
                  : x.map(function (t, s) {
                      var a = t.timestamp;
                      return Bn(
                        'div',
                        { key: s, className: D },
                        e.showDays &&
                          Bn(
                            Js,
                            l({}, w, {
                              key: a,
                              day: t.day,
                              events: y[t.dateKey],
                              isToday: g && n._isToday(a),
                              label: t.label,
                              selectable: !1,
                              selected: n._isToday(a),
                              timestamp: a,
                            }),
                          ),
                        e.resources && Bn('div', { className: 'mbsc-flex' }, T.map(S)),
                      );
                    }),
              ),
            ),
            Bn('div', { className: 'mbsc-schedule-fake-scroll-y' }),
          ),
          Bn(
            'div',
            {
              className:
                'mbsc-schedule-all-day-cont' +
                (t.showShadow ? ' mbsc-schedule-all-day-wrapper-shadow' : '') +
                f,
            },
            C &&
              Bn(
                'div',
                { className: 'mbsc-flex mbsc-schedule-timezone-labels', style: this._timeWidth },
                C.map(function (e, t) {
                  return Bn(
                    'div',
                    { key: t, className: 'mbsc-flex-1-0-0 mbsc-schedule-timezone-label' + f + d },
                    e.label,
                  );
                }),
              ),
            e.showAllDay &&
              Bn(
                'div',
                { className: 'mbsc-schedule-all-day-wrapper mbsc-flex-none' + f + c },
                Bn(
                  'div',
                  { className: 'mbsc-flex mbsc-schedule-all-day' + f },
                  Bn(
                    'div',
                    { className: 'mbsc-schedule-time-col' + f + d, style: this._timeWidth },
                    !C && Bn('div', { className: 'mbsc-schedule-all-day-text' + f }, e.allDayText),
                  ),
                  Bn(
                    'div',
                    { className: 'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-all-day-group-wrapper' },
                    Bn(
                      'div',
                      { ref: this._setAllDayCont, className: 'mbsc-flex mbsc-flex-1-1' },
                      k
                        ? T.map(function (e, t) {
                            return Bn(
                              'div',
                              { key: t, className: 'mbsc-flex' + D },
                              x.map(function (t, n) {
                                return L(e.id, t.dateKey, n, t.timestamp);
                              }),
                            );
                          })
                        : x.map(function (e, t) {
                            return Bn(
                              'div',
                              { key: t, className: 'mbsc-flex' + D },
                              T.map(function (t, n) {
                                return L(t.id, e.dateKey, n, e.timestamp);
                              }),
                            );
                          }),
                    ),
                  ),
                ),
              ),
          ),
          Bn(
            'div',
            { className: 'mbsc-flex mbsc-flex-1-1 mbsc-schedule-grid-wrapper' + f },
            Bn(
              'div',
              {
                'aria-hidden': 'true',
                className: 'mbsc-flex-col mbsc-schedule-time-col mbsc-schedule-time-cont' + f + d,
                style: this._timeWidth,
                ref: this._setTimeCont,
              },
              Bn(
                'div',
                { className: 'mbsc-flex mbsc-schedule-time-cont-inner' },
                Bn(
                  'div',
                  { className: 'mbsc-flex-col mbsc-flex-1-1' },
                  Bn(
                    'div',
                    {
                      className:
                        'mbsc-flex-1-1 mbsc-schedule-time-cont-pos' +
                        f +
                        (C ? ' mbsc-flex' : ' mbsc-flex-col mbsc-schedule-time-col-last'),
                    },
                    C
                      ? C.map(function (e, t) {
                          return Bn(
                            'div',
                            {
                              key: t,
                              className:
                                'mbsc-flex-col' +
                                f +
                                (t === C.length - 1 ? ' mbsc-schedule-time-col-last' : ''),
                            },
                            M(e.timezone),
                          );
                        })
                      : M(),
                    this._showTimeIndicator &&
                      Bn(Gs, {
                        amText: e.amText,
                        displayedTime: this._time,
                        displayedDays: this._daysNr,
                        displayTimezone: e.displayTimezone,
                        endDay: e.endDay,
                        firstDay: this._firstDayTz,
                        orientation: 'x',
                        pmText: e.pmText,
                        rtl: e.rtl,
                        showDayIndicator: g && !this._isMulti && 'week' === e.type,
                        startDay: e.startDay,
                        startTime: u,
                        theme: e.theme,
                        timeFormat: e.timeFormat,
                        timezones: C,
                        timezonePlugin: e.timezonePlugin,
                      }),
                  ),
                  t.hasScrollX && Bn('div', { className: 'mbsc-schedule-fake-scroll-x' }),
                ),
                Bn('div', { className: 'mbsc-schedule-fake-scroll-y' }),
              ),
            ),
            Bn(
              'div',
              {
                ref: this._setCont,
                className: 'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-grid-scroll' + f,
                onScroll: this._onScroll,
              },
              Bn(
                'div',
                { className: 'mbsc-flex mbsc-flex-1-1' },
                Bn(
                  'div',
                  { className: 'mbsc-flex mbsc-schedule-grid', ref: this._setGridCont },
                  k
                    ? T.map(function (e, t) {
                        return Bn(
                          'div',
                          { key: t, className: 'mbsc-flex' + D },
                          x.map(function (t, n) {
                            return N(e.id, t.dateKey, n, t.timestamp);
                          }),
                        );
                      })
                    : x.map(function (e, t) {
                        return Bn(
                          'div',
                          { key: t, className: 'mbsc-flex' + D },
                          T.map(function (t, n) {
                            return N(t.id, e.dateKey, n, e.timestamp);
                          }),
                        );
                      }),
                ),
              ),
            ),
          ),
          a && !t.isTouchDrag && Bn('div', { className: 'mbsc-calendar-dragging' }),
        );
      }),
      t
    );
  })(qs),
  $s = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._setStickyHeader = function (e) {
          t._stickyHeader = e;
        }),
        (t._setStickyDay = function (e) {
          t._stickyDate = e;
        }),
        (t._setStickyMonth = function (e) {
          t._stickyMonth = e;
        }),
        (t._setStickyWeek = function (e) {
          t._stickyWeek = e;
        }),
        (t._setCont = function (e) {
          t._scrollCont = e;
        }),
        (t._setResCont = function (e) {
          t._resCont = e;
        }),
        (t._setGridCont = function (e) {
          t._gridCont = e;
        }),
        (t._setHeaderCont = function (e) {
          t._headerCont = e;
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._template = function (e, t) {
        var n,
          s,
          a = this,
          i = t.dragData,
          o = i && i.draggedEvent && i.draggedEvent.id,
          r = this._hasSlots,
          c = this._hb,
          d = this._rtl,
          h = this._times,
          u = this._theme,
          m = this._startTime,
          _ = this._endTime,
          v = this._stepLabel,
          p = this._slots,
          f = 'timeline',
          g = e.resources,
          y = e.eventList,
          b = 'month' === e.type,
          D = this._stepCell < 864e5,
          C = this._startCellStyle,
          k = this._endCellStyle,
          x = this._headerClass,
          T = this._daysBatch,
          w = function (e, t, n, s) {
            for (var i = [], o = 0, r = e[n][Ps].all[t]; o < r.length; o++) {
              var l = r[o];
              Nt(a._batchStart, a._batchEnd, l.startDate, l.endDate, !0) && i.push(l);
            }
            return s(i, 'all', n, Ps);
          },
          S = function (e) {
            return e.map(function (e, t) {
              return Bn(
                'div',
                {
                  key: t,
                  className: 'mbsc-schedule-color mbsc-timeline-color' + e.cssClass + u,
                  style: e.position,
                },
                Bn('div', { className: 'mbsc-schedule-color-text' }, e.title),
              );
            });
          },
          E = function (e) {
            return e.map(function (e, t) {
              return (
                e.position &&
                Bn(
                  'div',
                  {
                    key: t,
                    className: 'mbsc-schedule-invalid mbsc-timeline-invalid' + e.cssClass + u,
                    style: e.position,
                  },
                  Bn('div', { className: 'mbsc-schedule-invalid-text' }, e.title),
                )
              );
            });
          },
          M = function (t, n, s, r) {
            var c = s + '__' + r + '__' + n,
              d = {
                displayTimezone: e.displayTimezone,
                drag: e.dragToMove,
                endDay: e.endDay,
                eventHeight: a._setRowHeight ? a._eventHeight : undefined,
                exclusiveEndDates: e.exclusiveEndDates,
                gridEndTime: _,
                gridStartTime: m,
                isListing: y,
                isTimeline: !0,
                lastDay: +a._lastDay,
                render: e.renderEvent,
                renderContent: e.renderEventContent,
                resize: e.dragToResize,
                resource: s,
                rtl: e.rtl,
                slot: r,
                startDay: e.startDay,
                theme: e.theme,
                timezonePlugin: e.timezonePlugin,
              };
            return Bn(
              jn,
              null,
              t.map(function (t) {
                return Bn(
                  js,
                  l({}, d, {
                    event: t,
                    inactive: o === t.id,
                    key: t.uid,
                    selected: e.selectedEventsMap[t.uid] || e.selectedEventsMap[t.id],
                    onClick: e.onEventClick,
                    onDoubleClick: e.onEventDoubleClick,
                    onRightClick: e.onEventRightClick,
                    onHoverIn: e.onEventHoverIn,
                    onHoverOut: e.onEventHoverOut,
                    onDelete: e.onEventDelete,
                    onDragStart: a._onEventDragStart,
                    onDragMove: a._onEventDragMove,
                    onDragEnd: a._onEventDragEnd,
                    onDragModeOn: a._onEventDragModeOn,
                    onDragModeOff: a._onEventDragModeOff,
                  }),
                );
              }),
              i &&
                i.originDates &&
                i.originDates[c] &&
                Bn(
                  js,
                  l({}, d, {
                    event: i.originDates[c],
                    hidden: i && !!i.draggedDates,
                    isDrag: !0,
                    onDragStart: a._onEventDragStart,
                    onDragMove: a._onEventDragMove,
                    onDragEnd: a._onEventDragEnd,
                    onDragModeOff: a._onEventDragModeOff,
                  }),
                ),
              i &&
                i.draggedDates &&
                i.draggedDates[c] &&
                Bn(js, l({}, d, { event: i.draggedDates[c], isDrag: !0 })),
            );
          };
        return Bn(
          'div',
          {
            ref: this._setEl,
            className:
              'mbsc-timeline mbsc-flex-1-1 mbsc-flex-col' +
              (t.cellWidth ? '' : ' mbsc-hidden') +
              (g ? '' : ' mbsc-timeline-no-resource') +
              u +
              d,
          },
          Bn(
            'div',
            { ref: this._setStickyHeader, className: 'mbsc-timeline-header-sticky mbsc-flex' },
            g &&
              Bn(
                'div',
                { className: 'mbsc-timeline-resource-empty mbsc-timeline-resource-col' + x + u + d + c },
                (e.renderResourceHeader &&
                  Z((n = e.renderResourceHeader())) &&
                  ((s = a._safeHtml(n)), (a._shouldEnhance = !0)),
                Bn('div', { className: 'mbsc-timeline-resource-header', dangerouslySetInnerHTML: s }, n)),
              ),
            Bn(
              'div',
              { className: 'mbsc-flex-1-1' },
              this._isMulti &&
                Bn(
                  'div',
                  { className: 'mbsc-timeline-header-month' + u + d + c },
                  Bn('div', {
                    ref: this._setStickyMonth,
                    className: 'mbsc-timeline-header-text mbsc-timeline-header-month-text' + u,
                  }),
                ),
              e.weekNumbers &&
                Bn(
                  'div',
                  { className: 'mbsc-timeline-header-week' + u + d + c },
                  Bn('div', {
                    ref: this._setStickyWeek,
                    className: 'mbsc-timeline-header-text mbsc-timeline-header-week-text' + u,
                  }),
                ),
              (r || D) &&
                Bn(
                  'div',
                  { className: 'mbsc-timeline-header-date' + u + d + c },
                  Bn('div', {
                    ref: this._setStickyDay,
                    className: 'mbsc-timeline-header-text mbsc-timeline-header-date-text' + u,
                  }),
                ),
            ),
            t.hasScrollY && Bn('div', { className: 'mbsc-schedule-fake-scroll-y' }),
          ),
          Bn(
            'div',
            {
              ref: this._setCont,
              className: 'mbsc-timeline-grid-scroll mbsc-flex-col mbsc-flex-1-1' + u + d + c,
              onScroll: this._onScroll,
            },
            !this._hasSticky && Bn('div', { className: 'mbsc-flex-none' + x }),
            Bn(
              'div',
              { className: 'mbsc-timeline-header mbsc-flex' + u + d + c, ref: this._setHeaderCont },
              g &&
                Bn('div', {
                  className: 'mbsc-timeline-resource-empty mbsc-timeline-resource-col' + x + u + d + c,
                }),
              Bn(
                'div',
                { className: 'mbsc-timeline-header-bg mbsc-flex-1-1 mbsc-flex' + u },
                this._showTimeIndicator &&
                  Bn(
                    'div',
                    {
                      className: 'mbsc-timeline-time-indicator-cont',
                      style: {
                        height: (t.scrollContHeight || 0) - (t.headerHeight || 0),
                        width: t.hasScrollX ? this._gridWidth : undefined,
                      },
                    },
                    Bn(Gs, {
                      amText: e.amText,
                      displayedTime: this._time,
                      displayedDays: this._daysNr,
                      displayTimezone: e.displayTimezone,
                      endDay: e.endDay,
                      firstDay: this._firstDayTz,
                      orientation: 'y',
                      pmText: e.pmText,
                      rtl: e.rtl,
                      startDay: e.startDay,
                      startTime: m,
                      theme: e.theme,
                      timeFormat: e.timeFormat,
                      timezonePlugin: e.timezonePlugin,
                    }),
                  ),
                Bn('div', { className: 'mbsc-flex-none', style: { width: this._placeholderSizeX } }),
                Bn(
                  'div',
                  { className: t.hasScrollX ? 'mbsc-flex-none' : 'mbsc-flex-1-1' },
                  this._isMulti &&
                    Bn(
                      'div',
                      { className: 'mbsc-flex' },
                      T.map(function (e) {
                        var t = e.lastOfMonth;
                        return Bn(
                          'div',
                          {
                            key: e.timestamp,
                            className:
                              'mbsc-timeline-month mbsc-flex-1-0-0' +
                              u +
                              d +
                              c +
                              (t ? ' mbsc-timeline-day mbsc-timeline-day-border' : ''),
                          },
                          Bn(
                            'div',
                            {
                              className:
                                'mbsc-timeline-header-month' +
                                u +
                                d +
                                c +
                                (t ? ' mbsc-timeline-header-month-last' : ''),
                            },
                            Bn(
                              'div',
                              {
                                className:
                                  'mbsc-timeline-header-month-text' +
                                  (t ? ' mbsc-timeline-header-month-text-last' : ''),
                              },
                              e.monthTitle,
                            ),
                          ),
                        );
                      }),
                    ),
                  e.weekNumbers &&
                    Bn(
                      'div',
                      { className: 'mbsc-flex' },
                      T.map(function (e) {
                        var t = e.lastOfWeek;
                        return Bn(
                          'div',
                          {
                            key: e.timestamp,
                            className:
                              'mbsc-timeline-month mbsc-flex-1-0-0' +
                              u +
                              d +
                              c +
                              (t && (D || e.lastOfMonth)
                                ? ' mbsc-timeline-day mbsc-timeline-day-border'
                                : ''),
                          },
                          Bn(
                            'div',
                            {
                              className:
                                'mbsc-timeline-header-week' +
                                u +
                                d +
                                c +
                                (t ? ' mbsc-timeline-header-week-last' : ''),
                            },
                            Bn(
                              'div',
                              {
                                className:
                                  'mbsc-timeline-header-week-text' +
                                  (t ? ' mbsc-timeline-header-week-text-last' : ''),
                              },
                              e.weekTitle,
                            ),
                          ),
                        );
                      }),
                    ),
                  Bn(
                    'div',
                    { className: 'mbsc-flex' },
                    T.map(function (t) {
                      return Bn(
                        'div',
                        {
                          key: t.timestamp,
                          className:
                            'mbsc-timeline-day mbsc-flex-1-0-0' +
                            u +
                            d +
                            c +
                            ((t.dateIndex < a._daysNr - 1 && D) || t.lastOfMonth
                              ? ' mbsc-timeline-day-border'
                              : '') +
                            (b || a._isMulti ? ' mbsc-timeline-day-month' : ''),
                        },
                        Bn(
                          'div',
                          { className: 'mbsc-timeline-header-date' + u + d + c },
                          Bn(
                            'div',
                            { 'aria-hidden': 'true', className: 'mbsc-timeline-header-date-text' },
                            t.dateText,
                          ),
                          t.label && Bn('div', { className: 'mbsc-hidden-content' }, t.label),
                        ),
                        r &&
                          Bn(
                            'div',
                            { className: 'mbsc-flex mbsc-timeline-slots' + u },
                            p.map(function (n) {
                              return Bn(
                                'div',
                                {
                                  key: n.id,
                                  className: 'mbsc-timeline-slot mbsc-timeline-slot-header' + d + u,
                                },
                                n.name &&
                                  (function (t) {
                                    var n,
                                      s = t.slot,
                                      i = s.name;
                                    return (
                                      e.renderSlot &&
                                        Z((i = e.renderSlot(t))) &&
                                        ((n = a._safeHtml(i)), (a._shouldEnhance = !0)),
                                      Bn(
                                        'div',
                                        {
                                          key: s.id,
                                          className: 'mbsc-timeline-slot-title',
                                          dangerouslySetInnerHTML: n,
                                        },
                                        i,
                                      )
                                    );
                                  })({ slot: n, date: t.date }),
                              );
                            }),
                          ),
                        Bn(
                          'div',
                          { 'aria-hidden': 'true', className: 'mbsc-flex' },
                          h.map(function (e, t) {
                            var n = !t,
                              s = t === h.length - 1;
                            return Bn(
                              'div',
                              {
                                key: t,
                                style: n && !s ? C : s && !n ? k : undefined,
                                className:
                                  'mbsc-flex mbsc-flex-1-1 mbsc-timeline-header-column' +
                                  u +
                                  d +
                                  c +
                                  (!a._displayTime || r ? ' mbsc-timeline-no-height' : '') +
                                  (v > a._stepCell && h[t + 1] % v ? ' mbsc-timeline-no-border' : '') +
                                  ((n && C) || (s && k) ? ' mbsc-flex-none' : ''),
                              },
                              Bn(
                                'div',
                                { className: 'mbsc-timeline-header-time mbsc-flex-1-1 ' + u },
                                a._displayTime ? a._timeLabels[e] : '',
                              ),
                              a._timesBetween.map(function (t) {
                                var n = e + (t + 1) * v;
                                return (
                                  n > m &&
                                  n < _ &&
                                  Bn(
                                    'div',
                                    { key: t, className: 'mbsc-timeline-header-time mbsc-flex-1-1 ' + u },
                                    a._timeLabels[n],
                                  )
                                );
                              }),
                            );
                          }),
                        ),
                      );
                    }),
                  ),
                ),
              ),
            ),
            Bn(
              'div',
              { className: 'mbsc-flex mbsc-flex-1-1' },
              Bn(
                'div',
                { className: 'mbsc-flex mbsc-flex-1-1' },
                g &&
                  Bn(
                    'div',
                    {
                      className: 'mbsc-timeline-resources mbsc-timeline-resource-col mbsc-flex-col' + u + d,
                      ref: this._setResCont,
                    },
                    !this._hasSideSticky && Bn('div', { className: 'mbsc-flex-none' + x }),
                    Bn(
                      'div',
                      {
                        className:
                          'mbsc-timeline-resource-bg mbsc-flex-1-1' +
                          (this._hasHierarchy || t.hasScrollY ? '' : ' mbsc-flex-col') +
                          u,
                      },
                      Bn('div', { style: { height: this._placeholderSizeY }, className: 'mbsc-flex-none' }),
                      this._resourcesBatch.map(function (t) {
                        var n,
                          s = t.children,
                          i = a._hasHierarchy ? 1.75 * t.depth + 'em' : undefined,
                          o = {
                            minHeight: a._setRowHeight ? a._eventRows[t.id] * a._eventHeight + 10 : undefined,
                            paddingLeft: e.rtl ? undefined : i,
                            paddingRight: e.rtl ? i : undefined,
                          },
                          r = t.name;
                        return (
                          e.renderResource &&
                            Z((r = e.renderResource(t))) &&
                            ((n = a._safeHtml(r)), (a._shouldEnhance = !0)),
                          Bn(
                            'div',
                            {
                              key: t.id,
                              className:
                                'mbsc-timeline-resource' +
                                u +
                                d +
                                c +
                                (s ? ' mbsc-timeline-parent mbsc-flex' : ''),
                              style: o,
                            },
                            s &&
                              Bn(Gn, {
                                className: 'mbsc-timeline-resource-icon' + d + c,
                                svg: t.collapsed ? (e.rtl ? e.nextIconRtl : e.nextIcon) : e.downIcon,
                                theme: e.theme,
                                onClick: function () {
                                  return a._onParentClick(t);
                                },
                              }),
                            Bn(
                              'div',
                              {
                                className: 'mbsc-timeline-resource-title' + (s ? ' mbsc-flex-1-1' : ''),
                                dangerouslySetInnerHTML: n,
                              },
                              r,
                            ),
                          )
                        );
                      }),
                    ),
                  ),
                !this._hasSideSticky && g && Bn('div', { className: 'mbsc-timeline-resource-col' }),
                Bn(
                  'div',
                  {
                    className:
                      'mbsc-timeline-grid mbsc-flex-1-1' +
                      (this._hasHierarchy || t.hasScrollY ? '' : ' mbsc-flex-col'),
                    ref: this._setGridCont,
                    style: {
                      height: t.hasScrollY ? this._gridHeight : undefined,
                      width: t.hasScrollX ? this._gridWidth : undefined,
                    },
                  },
                  Bn('div', { style: { height: this._placeholderSizeY }, className: 'mbsc-flex-none' }),
                  this._resourcesBatch.map(function (n) {
                    var s = n.id;
                    return Bn(
                      'div',
                      {
                        key: s,
                        className:
                          'mbsc-flex mbsc-timeline-row' + u + c + (n.children ? ' mbsc-timeline-parent' : ''),
                        style: {
                          minHeight: a._setRowHeight ? a._eventRows[s] * a._eventHeight + 10 : undefined,
                        },
                      },
                      !r &&
                        Bn(
                          jn,
                          null,
                          Bn('div', { className: 'mbsc-timeline-events' }, w(a._events, 'events', s, M)),
                          w(a._invalids, 'invalids', s, E),
                          w(a._colors, 'colors', s, S),
                        ),
                      Bn('div', { style: { width: a._placeholderSizeX }, className: 'mbsc-flex-none' }),
                      T.map(function (n, i) {
                        var o = n.timestamp,
                          l = n.dateKey;
                        return Bn(
                          'div',
                          {
                            key: o,
                            className:
                              'mbsc-timeline-day mbsc-flex' +
                              u +
                              d +
                              c +
                              ((n.dateIndex < a._daysNr - 1 && D) || n.lastOfMonth
                                ? ' mbsc-timeline-day-border'
                                : '') +
                              (t.hasScrollX ? ' mbsc-flex-none' : ' mbsc-flex-1-1') +
                              (b || a._isMulti ? ' mbsc-timeline-day-month' : ''),
                          },
                          p.map(function (t, n) {
                            var i = t.id,
                              m = a._events[s][i][l],
                              _ = a._colors[s][i][l],
                              v = a._invalids[s][i][l];
                            return Bn(
                              'div',
                              {
                                key: i,
                                className: 'mbsc-flex mbsc-flex-1-1' + (r ? ' mbsc-timeline-slot' : ''),
                              },
                              r &&
                                Bn(
                                  jn,
                                  null,
                                  Bn(
                                    'div',
                                    { className: 'mbsc-timeline-events' },
                                    M(m ? m.events : [], l, s, i),
                                  ),
                                  v && E(v.invalids),
                                  _ && S(_.colors),
                                ),
                              h.map(function (t, n) {
                                var a = Vs(o, t),
                                  r = !n,
                                  l = n === h.length - 1;
                                return Bn('div', {
                                  key: n,
                                  className:
                                    'mbsc-timeline-column mbsc-flex-1-1' +
                                    u +
                                    d +
                                    c +
                                    ((r && C) || (l && k) ? ' mbsc-flex-none' : ''),
                                  onClick: function (t) {
                                    return e.onCellClick({
                                      date: a,
                                      domEvent: t,
                                      resource: s,
                                      slot: i,
                                      source: f,
                                    });
                                  },
                                  onDoubleClick: function (t) {
                                    return e.onCellDoubleClick({
                                      date: a,
                                      domEvent: t,
                                      resource: s,
                                      slot: i,
                                      source: f,
                                    });
                                  },
                                  onContextMenu: function (t) {
                                    return e.onCellRightClick({
                                      date: a,
                                      domEvent: t,
                                      resource: s,
                                      slot: i,
                                      source: f,
                                    });
                                  },
                                  style: r && !l ? C : l && !r ? k : undefined,
                                });
                              }),
                            );
                          }),
                        );
                      }),
                    );
                  }),
                ),
              ),
            ),
          ),
          i && !t.isTouchDrag && Bn('div', { className: 'mbsc-calendar-dragging' }),
        );
      }),
      t
    );
  })(
    /*#__PURE__*/ (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._isTimeline = !0),
          (t._onScroll = function () {
            for (
              var e = t.s.rtl,
                n = t.state,
                s = t._gridWidth,
                a = t._scrollCont,
                i = a.scrollTop,
                o = a.scrollLeft,
                r = t._resCont,
                l = t._headerCont,
                c = t._stickyHeader,
                d = t._daysNr,
                h = e ? -1 : 1,
                u = e ? 'marginRight' : 'marginLeft',
                m = ie((o * h * (d / t._daysBatchNr)) / s),
                _ = t._virtualPagesY || [],
                v = 0,
                p = 0;
              p < _.length && _[p].top <= i;

            )
              (v = p), p++;
            if ((!r || (Re && !e) || (r.scrollTop = i), c && Re)) {
              var f = c.style;
              (f.marginTop = i < 0 ? -i + 'px' : ''), (f[u] = o * h < 0 ? -o * h + 'px' : '');
            }
            if (l && s) {
              var g = t._days,
                y = s / d,
                b = j(oe((o * h) / y), 0, d - 1),
                D = function (e, t) {
                  if (e && y) {
                    e.textContent = g[b][t + 'Text'];
                    var n = e.offsetWidth,
                      s = e.style,
                      a = j(oe((o * h + n) / y), 0, d - 1);
                    g[b][t + 'Index'] !== g[a][t + 'Index']
                      ? (s[u] = -(o * h + n - g[a][t + 'Index'] * y + 1) + 'px')
                      : (s[u] = '');
                  }
                };
              D(t._stickyDate, 'date'),
                D(t._stickyMonth, 'month'),
                D(t._stickyWeek, 'week'),
                Re || (l.scrollLeft = o);
            }
            !s ||
              (m === n.batchIndexX && v === n.batchIndexY) ||
              t.setState({ batchIndexX: m, batchIndexY: v });
          }),
          t
        );
      }
      return (
        r(t, e),
        (t.prototype._onParentClick = function (e) {
          (e.collapsed = !e.collapsed),
            (this._visibleResources = this._flattenResources(this.s.resources, [], 0)),
            (this._shouldCheckSize = !0),
            this.forceUpdate();
        }),
        (t.prototype._render = function (t, n) {
          e.prototype._render.call(this, t, n);
          var s = this._stepCell / 6e4,
            a = oe(this._startTime / 6e4) % s,
            i = (oe(this._endTime / 6e4) % s) + 1;
          (this._startCellStyle =
            this._displayTime && a % s != 0
              ? { width: (n.cellWidth || 64) * (((s - a) % s) / s) + 'px' }
              : undefined),
            (this._endCellStyle =
              this._displayTime && i % s != 0
                ? { width: ((n.cellWidth || 64) * (i % s)) / s + 'px' }
                : undefined);
        }),
        t
      );
    })(Xs),
  ),
  Qs = /*#__PURE__*/ (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (
        (t._instanceService = new Is()),
        (t._setList = function (e) {
          t._list = e;
        }),
        (t._setPopoverList = function (e) {
          t._popoverList = e && e._el;
        }),
        (t._setEl = function (e) {
          (t._el = e ? e._el || e : null), (t._calendarView = e);
        }),
        t
      );
    }
    return (
      r(t, e),
      (t.prototype._eventRenderer = function (e, t, n, s, a) {
        var i,
          o = this,
          r = !this._colorEventList,
          l = a ? 'popover' : 'agenda',
          c = !a || this.state.showPopover,
          d = this._theme,
          h = s.renderEventContent
            ? s.renderEventContent(e)
            : Bn('div', {
                className: 'mbsc-event-text ' + d,
                title: e.tooltip,
                dangerouslySetInnerHTML: e.html,
              });
        Z(h)
          ? ((h = Bn('div', { className: 'mbsc-event-content' + d, dangerouslySetInnerHTML: { __html: h } })),
            (this._shouldEnhance = c && l))
          : (h = Bn('div', { className: 'mbsc-event-content' + d }, h));
        var u = s.renderEvent
          ? s.renderEvent(e)
          : Bn(
              jn,
              null,
              Bn('div', { className: 'mbsc-event-color' + d + this._rtl, style: e.style }),
              h,
              Bn(
                'div',
                { className: 'mbsc-event-time' + d + this._rtl },
                e.allDayText && Bn('div', { className: 'mbsc-event-all-day' + d }, e.allDayText),
                e.lastDay && Bn('div', { className: 'mbsc-event-until' + d }, e.lastDay),
                e.start && Bn('div', { className: 'mbsc-event-start' + d }, e.start),
                e.start && e.end && Bn('div', { className: 'mbsc-event-sep' + d }, '-'),
                e.end && Bn('div', { className: 'mbsc-event-end' + d }, e.end),
              ),
            );
        return (
          Z(u) && ((i = { __html: u }), (u = undefined), (this._shouldEnhance = c && l)),
          Bn(
            zs,
            {
              className: 'mbsc-event' + (r ? '' : ' mbsc-colored-event'),
              key: t,
              actionable: s.actionableEvents,
              dangerouslySetInnerHTML: i,
              data: e.original,
              drag: a && this._showEventLabels && s.dragToMove,
              rtl: s.rtl,
              selected: this._selectedEventsMap[e.uid] || this._selectedEventsMap[e.id],
              style: r ? undefined : e.style,
              theme: s.theme,
              themeVariant: s.themeVariant,
              onClick: function (t) {
                return o._onEventClick({ date: n, domEvent: t.domEvent, event: e.original, source: l });
              },
              onDoubleClick: function (t) {
                return o._onEventDoubleClick({ date: n, domEvent: t, event: e.original, source: l });
              },
              onContextMenu: function (t) {
                return o._onEventRightClick({ date: n, domEvent: t, event: e.original, source: l });
              },
              onHoverIn: function (t) {
                var s = t.domEvent;
                return o._onEventHoverIn({ date: n, domEvent: s, event: e.original, source: l });
              },
              onHoverOut: function (t) {
                var s = t.domEvent;
                return o._onEventHoverOut({ date: n, domEvent: s, event: e.original, source: l });
              },
              onDelete: this._onEventDelete,
              onDragEnd: this._onLabelUpdateEnd,
              onDragModeOff: this._onLabelUpdateModeOff,
              onDragModeOn: this._onLabelUpdateModeOn,
              onDragMove: this._onLabelUpdateMove,
              onDragStart: this._onLabelUpdateStart,
            },
            u,
          )
        );
      }),
      (t.prototype._listRenderer = function () {
        var e = this,
          t = this.s,
          n = t.theme,
          s = this._listDays,
          a = this.state.eventList;
        return t.renderAgenda
          ? undefined === this._eventListHTML
            ? t.renderAgenda(a, t, s)
            : void 0
          : Bn(
              Ys,
              { theme: n, themeVariant: t.themeVariant, rtl: t.rtl },
              !a.length && Bn('div', { className: 'mbsc-event-list-empty' + this._theme }, t.noEventsText),
              a.map(function (a, i) {
                return Bn(
                  'div',
                  {
                    className: 'mbsc-event-group' + e._theme,
                    key: i,
                    ref: function (e) {
                      return (s[a.timestamp] = e);
                    },
                  },
                  ('day' !== e._eventListType || e._eventListSize > 1) &&
                    Bn(Os, { theme: n, themeVariant: t.themeVariant, className: 'mbsc-event-day' }, a.date),
                  a.events.map(function (n, s) {
                    return e._eventRenderer(n, s, a.timestamp, t);
                  }),
                );
              }),
            );
      }),
      (t.prototype._template = function (e, t) {
        var n,
          s = this;
        this._listDays || (this._listDays = {}),
          this._showEventList &&
            Z((n = this._listRenderer())) &&
            ((this._eventListHTML = { __html: n }),
            (this._shouldLoadDays = !0),
            (this._shouldEnhance = !0),
            (n = undefined));
        var a = {
            amText: e.amText,
            clickToCreate: e.clickToCreate,
            dataTimezone: e.dataTimezone,
            dateFormat: e.dateFormat,
            dayNames: e.dayNames,
            dayNamesMin: e.dayNamesMin,
            dayNamesShort: e.dayNamesShort,
            displayTimezone: e.displayTimezone,
            dragToCreate: e.dragToCreate,
            dragToMove: e.dragToMove,
            dragToResize: e.dragToResize,
            eventOrder: e.eventOrder,
            exclusiveEndDates: e.exclusiveEndDates,
            firstDay: e.firstDay,
            fromText: e.fromText,
            getDate: e.getDate,
            getDay: e.getDay,
            getMonth: e.getMonth,
            getYear: e.getYear,
            monthNames: e.monthNames,
            monthNamesShort: e.monthNamesShort,
            pmText: e.pmText,
            refDate: this._refDate,
            rtl: e.rtl,
            selectedEventsMap: this._selectedEventsMap,
            showEventTooltip: e.showEventTooltip,
            theme: e.theme,
            themeVariant: e.themeVariant,
            timeFormat: e.timeFormat,
            timezonePlugin: e.timezonePlugin,
            toText: e.toText,
          },
          i = l({}, a, {
            allDayText: e.allDayText,
            colorsMap: this._colorsMap,
            dateFormatLong: e.dateFormatLong,
            dragTimeStep: e.dragTimeStep,
            eventDragEnd: this._onEventDragStop,
            eventMap: this._eventMap,
            extendDefaultEvent: e.extendDefaultEvent,
            externalDrop: e.externalDrop,
            groupBy: e.groupBy,
            height: t.height,
            invalidateEvent: e.invalidateEvent,
            invalidsMap: this._invalidsMap,
            maxDate: this._maxDate,
            minDate: this._minDate,
            newEventText: e.newEventText,
            onCellClick: this._onCellClick,
            onCellDoubleClick: this._onCellDoubleClick,
            onCellRightClick: this._onCellRightClick,
            onEventClick: this._onEventClick,
            onEventDelete: this._onEventDelete,
            onEventDoubleClick: this._onEventDoubleClick,
            onEventDragEnd: this._onEventDragEnd,
            onEventDragStart: this._onEventDragStart,
            onEventHoverIn: this._onEventHoverIn,
            onEventHoverOut: this._onEventHoverOut,
            onEventRightClick: this._onEventRightClick,
            renderEvent: e.renderScheduleEvent,
            renderEventContent: e.renderScheduleEventContent,
            renderResource: e.renderResource,
            resources: e.resources,
            scroll: this._shouldScrollSchedule,
            selected: this._selectedDateTime,
            width: t.width,
          });
        return Bn(
          Hs,
          l({ ref: this._setEl }, a, {
            activeDate: this._active,
            calendarScroll: this._calendarScroll,
            calendarType: this._calendarType,
            colors: e.colors,
            context: e.context,
            cssClass: this._cssClass,
            downIcon: e.downIcon,
            dragData: t.labelDragData,
            endDay: this._rangeEndDay,
            eventRange: this._rangeType,
            eventRangeSize: this._showSchedule
              ? this._scheduleSize
              : this._showTimeline
              ? this._timelineSize
              : this._eventListSize,
            hasContent: this._showEventList || this._showSchedule || this._showTimeline,
            hasPicker: !0,
            height: e.height,
            invalid: e.invalid,
            instanceService: this._instanceService,
            labels: e.labels,
            labelList: this._calendarLabelList,
            marked: e.marked,
            max: e.max,
            min: e.min,
            mouseSwipe:
              (!e.dragToCreate && 'single' !== e.clickToCreate) ||
              (!this._showEventLabels && !this._showEventCount),
            mousewheel: e.mousewheel,
            nextIconH: e.nextIconH,
            nextIconV: e.nextIconV,
            nextPageText: e.nextPageText,
            noOuterChange: !this._showEventList,
            onActiveChange: this._onActiveChange,
            onCellHoverIn: this._onCellHoverIn,
            onCellHoverOut: this._onCellHoverOut,
            onDayClick: this._onDayClick,
            onDayDoubleClick: this._onDayDoubleClick,
            onDayRightClick: this._onDayRightClick,
            onGestureStart: this._onGestureStart,
            onLabelClick: this._onLabelClick,
            onLabelDoubleClick: this._onLabelDoubleClick,
            onLabelRightClick: this._onLabelRightClick,
            onLabelHoverIn: this._onLabelHoverIn,
            onLabelHoverOut: this._onLabelHoverOut,
            onLabelDelete: this._onEventDelete,
            onLabelUpdateStart: this._onLabelUpdateStart,
            onLabelUpdateMove: this._onLabelUpdateMove,
            onLabelUpdateEnd: this._onLabelUpdateEnd,
            onLabelUpdateModeOn: this._onLabelUpdateModeOn,
            onLabelUpdateModeOff: this._onLabelUpdateModeOff,
            onPageChange: this._onPageChange,
            onPageLoaded: this._onPageLoaded,
            onPageLoading: this._onPageLoading,
            onResize: this._onResize,
            pageLoad: this._pageLoad,
            prevIconH: e.prevIconH,
            prevIconV: e.prevIconV,
            prevPageText: e.prevPageText,
            resourcesMap: this._resourcesMap,
            responsiveStyle: !0,
            renderHeader: e.renderHeader,
            renderDay: e.renderDay,
            renderDayContent: e.renderDayContent,
            renderLabel: e.renderLabel,
            renderLabelContent: e.renderLabelContent,
            selectedDates: this._selectedDates,
            selectView: 'month',
            showCalendar: this._showCalendar,
            showControls: e.showControls,
            showLabelCount: this._showEventCount,
            showOuterDays: this._showOuterDays,
            showSchedule: this._showSchedule || this._showTimeline,
            showToday: e.showToday,
            showWeekNumbers: this._showWeekNumbers,
            size: this._calendarSize,
            startDay: this._rangeStartDay,
            swipe: !t.isTouchDrag,
            upIcon: e.upIcon,
            valid: e.valid,
            weeks: this._calendarSize,
            width: e.width,
            getMaxDayOfMonth: e.getMaxDayOfMonth,
            getWeekNumber: e.getWeekNumber,
            eventText: e.eventText,
            eventsText: e.eventsText,
            fromText: e.fromText,
            moreEventsPluralText: e.moreEventsPluralText,
            moreEventsText: e.moreEventsText,
            todayText: e.todayText,
            toText: e.toText,
            weekText: e.weekText,
            yearSuffix: e.yearSuffix,
          }),
          this._showDate &&
            Bn(
              'div',
              { className: 'mbsc-schedule-date-header mbsc-flex' + this._theme + this._hb },
              this._showSchedule &&
                !this._showCalendar &&
                e.resources &&
                Bn('div', { className: 'mbsc-schedule-time-col' }),
              Bn(
                'div',
                { className: 'mbsc-schedule-date-header-text mbsc-flex-1-1' + this._theme },
                this._selectedDateHeader,
              ),
              this._showSchedule &&
                !this._showCalendar &&
                e.resources &&
                Bn('div', { className: 'mbsc-schedule-fake-scroll-y' }),
            ),
          this._showEventList &&
            Bn(
              'div',
              {
                className: 'mbsc-event-list' + (t.isListScrollable ? ' mbsc-event-list-scroll' : ''),
                dangerouslySetInnerHTML: this._eventListHTML,
                onScroll: this._onScroll,
                ref: this._setList,
              },
              n,
            ),
          this._showSchedule &&
            Bn(
              Zs,
              l({}, i, {
                endDay: this._scheduleEndDay,
                endTime: this._scheduleEndTime,
                renderDay: e.renderDay,
                renderDayContent: e.renderDayContent,
                showAllDay: this._showScheduleAllDay,
                showDays: this._showScheduleDays,
                size: this._scheduleSize,
                startDay: this._scheduleStartDay,
                startTime: this._scheduleStartTime,
                timeCellStep: this._scheduleTimeCellStep,
                timeLabelStep: this._scheduleTimeLabelStep,
                timezones: this._scheduleTimezones,
                type: this._scheduleType,
                onWeekDayClick: this._onWeekDayClick,
              }),
            ),
          this._showTimeline &&
            Bn(
              $s,
              l({}, i, {
                dragToCreate: !e.slots && e.dragToCreate,
                dragToResize: !e.slots && e.dragToResize,
                downIcon: e.chevronIconDown,
                endDay: this._timelineEndDay,
                endTime: this._timelineEndTime,
                eventList: this._timelineListing,
                getWeekNumber: e.getWeekNumber,
                nextIcon: e.nextIconH,
                nextIconRtl: e.prevIconH,
                renderResourceHeader: e.renderResourceHeader,
                renderSlot: e.renderSlot,
                rowHeight: this._timelineRowHeight,
                weekNumbers: this._showTimelineWeekNumbers,
                weekText: e.weekText,
                size: this._timelineSize,
                slots: e.slots,
                startDay: this._timelineStartDay,
                startTime: this._timelineStartTime,
                timeCellStep: this._timelineTimeCellStep,
                timeLabelStep: this._timelineTimeLabelStep,
                type: this._timelineType,
              }),
            ),
          Bn(
            bs,
            {
              anchor: this._anchor,
              closeOnScroll: !0,
              contentPadding: !1,
              context: e.context,
              cssClass: 'mbsc-calendar-popup ' + this._popoverClass,
              display: 'anchored',
              isOpen: t.showPopover,
              locale: e.locale,
              maxHeight: '24em',
              onClose: this._onPopoverClose,
              rtl: e.rtl,
              scrollLock: !1,
              showOverlay: !1,
              theme: e.theme,
              themeVariant: e.themeVariant,
            },
            t.popoverList &&
              Bn(
                Ys,
                {
                  ref: this._setPopoverList,
                  theme: e.theme,
                  themeVariant: e.themeVariant,
                  rtl: e.rtl,
                  className: 'mbsc-popover-list',
                },
                t.popoverList.map(function (n, a) {
                  return s._eventRenderer(n, a, t.popoverDate, e, !0);
                }),
              ),
          ),
          t.labelDragData &&
            t.labelDragData.draggedEvent &&
            !t.isTouchDrag &&
            Bn('div', { className: 'mbsc-calendar-dragging' }),
        );
      }),
      t
    );
  })(Vn);
export {
  Zn as CalendarContext,
  os as CalendarNav,
  as as CalendarNext,
  ss as CalendarPrev,
  is as CalendarToday,
  Ct as Draggable,
  Dt as DraggableBase,
  Qs as Eventcalendar,
  Vn as EventcalendarBase,
  Rn as LDate,
  Wn as MDate,
  ye as OptionsProvider,
  S as autoDetect,
  N as createCustomTheme,
  Gt as formatDate,
  M as getAutoTheme,
  On as getJson,
  E as globalChanges,
  V as hijriCalendar,
  ve as jalaliCalendar,
  fe as locale,
  pe as localeEn,
  F as localeEs,
  U as localeUa,
  Fn as luxonTimezone,
  An as momentTimezone,
  x as options,
  Zt as parseDate,
  H as platform,
  L as setOptions,
  yt as subscribeExternalDrag,
  w as themes,
  bt as unsubscribeExternalDrag,
  Cn as updateRecurringEvent,
  T as util,
};
