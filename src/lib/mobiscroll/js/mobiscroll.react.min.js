/* eslint-disable */
!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports, require('react'), require('react-dom'))
    : 'function' == typeof define && define.amd
    ? define(['exports', 'react', 'react-dom'], t)
    : t(
        ((e = 'undefined' != typeof globalThis ? globalThis : e || self).mobiscroll = {}),
        e.React,
        e.ReactDOM,
      );
})(this, function (e, t, n) {
  'use strict';
  var s = function (e, t) {
    return (
      (s =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        }),
      s(e, t)
    );
  };
  function a(e, t) {
    function n() {
      this.constructor = e;
    }
    s(e, t), (e.prototype = null === t ? Object.create(t) : ((n.prototype = t.prototype), new n()));
  }
  var i = function () {
    return (
      (i =
        Object.assign ||
        function (e) {
          for (var t, n = 1, s = arguments.length; n < s; n++)
            for (var a in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
          return e;
        }),
      i.apply(this, arguments)
    );
  };
  function r(e, t) {
    var n = {};
    for (var s in e) Object.prototype.hasOwnProperty.call(e, s) && t.indexOf(s) < 0 && (n[s] = e[s]);
    if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
      var a = 0;
      for (s = Object.getOwnPropertySymbols(e); a < s.length; a++)
        t.indexOf(s[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, s[a]) && (n[s[a]] = e[s[a]]);
    }
    return n;
  }
  var o,
    l,
    c,
    h,
    d = (function () {
      function e() {
        (this.nr = 0), (this.keys = 1), (this.subscribers = {});
      }
      return (
        (e.prototype.subscribe = function (e) {
          var t = this.keys++;
          return (this.subscribers[t] = e), this.nr++, t;
        }),
        (e.prototype.unsubscribe = function (e) {
          this.nr--, delete this.subscribers[e];
        }),
        (e.prototype.next = function (e) {
          var t = this.subscribers;
          for (var n in t) t.hasOwnProperty(n) && t[n](e);
        }),
        e
      );
    })(),
    u = [],
    _ = !1,
    m = 'undefined' != typeof window,
    v = m && window.matchMedia && window.matchMedia('(prefers-color-scheme:dark)'),
    p = m ? navigator.userAgent : '',
    f = m ? navigator.platform : '',
    g = m ? navigator.maxTouchPoints : 0,
    y = p && p.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),
    b = p && /Safari/.test(p);
  /Android/i.test(y)
    ? ((o = 'android'),
      (l = p.match(/Android\s+([\d.]+)/i)),
      (_ = !0),
      l && (u = l[0].replace('Android ', '').split('.')))
    : /iPhone|iPad|iPod/i.test(y) || /iPhone|iPad|iPod/i.test(f) || ('MacIntel' === f && g > 1)
    ? ((o = 'ios'),
      (l = p.match(/OS\s+([\d_]+)/i)),
      (_ = !0),
      l && (u = l[0].replace(/_/g, '.').replace('OS ', '').split('.')))
    : /Windows Phone/i.test(y)
    ? ((o = 'wp'), (_ = !0))
    : /Windows|MSIE/i.test(y) && (o = 'windows'),
    (c = +u[0]),
    (h = +u[1]);
  var D = {},
    C = {},
    x = {},
    k = {},
    T = new d();
  function w() {
    var e = '',
      t = '',
      n = '';
    for (var s in ((t = 'android' === o ? 'material' : 'wp' === o || 'windows' === o ? 'windows' : 'ios'),
    x)) {
      if (x[s].baseTheme === t && !1 !== x[s].auto && s !== t + '-dark') {
        e = s;
        break;
      }
      s === t ? (e = s) : n || (n = s);
    }
    return e || n;
  }
  function S(e, t, n) {
    var s = x[t];
    (x[e] = i({}, s, { auto: n, baseTheme: t })), (k.theme = w());
  }
  var E = { majorVersion: c, minorVersion: h, name: o },
    M =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"/></svg>',
    N =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"/></svg>',
    L =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"/></svg>',
    H =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"/></svg>',
    I =
      '<svg xmlns="http://www.w3.org/2000/svg" height="17" viewBox="0 0 17 17" width="17"><path d="M8.5 0a8.5 8.5 0 110 17 8.5 8.5 0 010-17zm3.364 5.005a.7.7 0 00-.99 0l-2.44 2.44-2.439-2.44-.087-.074a.7.7 0 00-.903 1.064l2.44 2.439-2.44 2.44-.074.087a.7.7 0 001.064.903l2.439-2.441 2.44 2.441.087.074a.7.7 0 00.903-1.064l-2.441-2.44 2.441-2.439.074-.087a.7.7 0 00-.074-.903z" fill="currentColor" fill-rule="evenodd"/></svg>',
    O = { clearIcon: I, labelStyle: 'inline' };
  (x.ios = {
    Calendar: { nextIconH: L, nextIconV: N, prevIconH: M, prevIconV: H },
    Checkbox: { position: 'end' },
    Datepicker: { clearIcon: I, display: 'bottom' },
    Dropdown: O,
    Eventcalendar: { chevronIconDown: N, nextIconH: L, nextIconV: N, prevIconH: M, prevIconV: H },
    Input: O,
    Radio: { position: 'end' },
    Scroller: { display: 'bottom', itemHeight: 34, minWheelWidth: 55, rows: 5, scroll3d: !0 },
    SegmentedGroup: { drag: !0 },
    Select: { clearIcon: I },
    Textarea: O,
  }),
    S('ios-dark', 'ios'),
    (k.theme = w());
  var z = {
      setText: 'Aceptar',
      cancelText: 'Cancelar',
      clearText: 'Borrar',
      closeText: 'Cerrar',
      selectedText: '{count} seleccionado',
      selectedPluralText: '{count} seleccionados',
      dateFormat: 'DD/MM/YYYY',
      dateFormatLong: 'DDD, MMM. D. YYYY',
      dateWheelFormat: '|DDD D MMM|',
      dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
      dayNamesShort: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sá'],
      dayNamesMin: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
      fromText: 'Iniciar',
      monthNames: [
        'Enero',
        'Febrero',
        'Marzo',
        'Abril',
        'Mayo',
        'Junio',
        'Julio',
        'Agosto',
        'Septiembre',
        'Octubre',
        'Noviembre',
        'Diciembre',
      ],
      monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
      timeFormat: 'H:mm',
      toText: 'Final',
      nowText: 'Ahora',
      pmText: 'pm',
      amText: 'am',
      todayText: 'Hoy',
      firstDay: 1,
      dateText: 'Fecha',
      timeText: 'Tiempo',
      allDayText: 'Todo el día',
      noEventsText: 'No hay eventos',
      eventText: 'Evento',
      eventsText: 'Eventos',
      moreEventsText: '{count} más',
      weekText: 'Semana {count}',
      rangeStartLabel: 'Iniciar',
      rangeEndLabel: 'Final',
      rangeStartHelp: 'Seleccionar',
      rangeEndHelp: 'Seleccionar',
      filterEmptyText: 'Sin resultados',
      filterPlaceholderText: 'Buscar',
    },
    Y = {
      setText: 'встановити',
      cancelText: 'відміна',
      clearText: 'очистити',
      closeText: 'Закрити',
      selectedText: '{count} вибрані',
      dateFormat: 'DD.MM.YYYY',
      dateFormatLong: 'DDD, D MMM. YYYY',
      dateWheelFormat: '|DDD D MMM.|',
      dayNames: ['неділя', 'понеділок', 'вівторок', 'середа', 'четвер', 'п’ятниця', 'субота'],
      dayNamesShort: ['нед', 'пнд', 'вів', 'срд', 'чтв', 'птн', 'сбт'],
      dayNamesMin: ['Нд', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
      fromText: 'від',
      monthNames: [
        'Січень',
        'Лютий',
        'Березень',
        'Квітень',
        'Травень',
        'Червень',
        'Липень',
        'Серпень',
        'Вересень',
        'Жовтень',
        'Листопад',
        'Грудень',
      ],
      monthNamesShort: ['Січ', 'Лют', 'Бер', 'Кві', 'Тра', 'Чер', 'Лип', 'Сер', 'Вер', 'Жов', 'Лис', 'Гру'],
      timeFormat: 'H:mm',
      toText: 'кінець',
      nowText: 'Зараз',
      pmText: 'pm',
      amText: 'am',
      firstDay: 1,
      dateText: 'дата',
      timeText: 'Час',
      todayText: 'Сьогодні',
      prevMonthText: 'Попередній місяць',
      nextMonthText: 'Наступного місяця',
      prevYearText: 'Попередній рік',
      nextYearText: 'Наступного року',
      eventText: 'подія',
      eventsText: 'події',
      allDayText: 'Увесь день',
      noEventsText: 'Жодної події',
      moreEventsText: 'та ще {count}',
      weekText: '{count} тиждень',
      rangeStartLabel: 'від',
      rangeEndLabel: 'кінець',
      rangeEndHelp: 'Обрати',
      rangeStartHelp: 'Обрати',
      filterEmptyText: 'Ніякого результату',
      filterPlaceholderText: 'Пошук',
    };
  function P(e) {
    return e < -1e-7 ? Math.ceil(e - 1e-7) : Math.floor(e + 1e-7);
  }
  function R(e, t, n) {
    var s,
      a,
      i,
      r,
      o = [0, 0, 0];
    return (
      (s =
        e > 1582 || (1582 === e && t > 10) || (1582 === e && 10 === t && n > 14)
          ? P((1461 * (e + 4800 + P((t - 14) / 12))) / 4) +
            P((367 * (t - 2 - 12 * P((t - 14) / 12))) / 12) -
            P((3 * P((e + 4900 + P((t - 14) / 12)) / 100)) / 4) +
            n -
            32075
          : 367 * e - P((7 * (e + 5001 + P((t - 9) / 7))) / 4) + P((275 * t) / 9) + n + 1729777),
      (r = P(((a = s - 1948440 + 10632) - 1) / 10631)),
      (i =
        P((10985 - (a = a - 10631 * r + 354)) / 5316) * P((50 * a) / 17719) +
        P(a / 5670) * P((43 * a) / 15238)),
      (a = a - P((30 - i) / 15) * P((17719 * i) / 50) - P(i / 16) * P((15238 * i) / 43) + 29),
      (t = P((24 * a) / 709)),
      (n = a - P((709 * t) / 24)),
      (e = 30 * r + i - 30),
      (o[2] = n),
      (o[1] = t),
      (o[0] = e),
      o
    );
  }
  var F = {
      getYear: function (e) {
        return R(e.getFullYear(), e.getMonth() + 1, e.getDate())[0];
      },
      getMonth: function (e) {
        return --R(e.getFullYear(), e.getMonth() + 1, e.getDate())[1];
      },
      getDay: function (e) {
        return R(e.getFullYear(), e.getMonth() + 1, e.getDate())[2];
      },
      getDate: function (e, t, n, s, a, i, r) {
        t < 0 && ((e += Math.floor(t / 12)), (t = t % 12 ? 12 + (t % 12) : 0)),
          t > 11 && ((e += Math.floor(t / 12)), (t %= 12));
        var o = (function (e, t, n) {
          var s,
            a,
            i,
            r,
            o,
            l = new Array(3),
            c = P((11 * e + 3) / 30) + 354 * e + 30 * t - P((t - 1) / 2) + n + 1948440 - 385;
          return (
            c > 2299160
              ? ((i = P((4 * (s = c + 68569)) / 146097)),
                (s -= P((146097 * i + 3) / 4)),
                (r = P((4e3 * (s + 1)) / 1461001)),
                (s = s - P((1461 * r) / 4) + 31),
                (a = P((80 * s) / 2447)),
                (n = s - P((2447 * a) / 80)),
                (t = a + 2 - 12 * (s = P(a / 11))),
                (e = 100 * (i - 49) + r + s))
              : ((o = P(((a = c + 1402) - 1) / 1461)),
                (i = P(((s = a - 1461 * o) - 1) / 365) - P(s / 1461)),
                (a = P((80 * (r = s - 365 * i + 30)) / 2447)),
                (n = r - P((2447 * a) / 80)),
                (t = a + 2 - 12 * (r = P(a / 11))),
                (e = 4 * o + i + r - 4716)),
            (l[2] = n),
            (l[1] = t),
            (l[0] = e),
            l
          );
        })(e, +t + 1, n);
        return new Date(o[0], o[1] - 1, o[2], s || 0, a || 0, i || 0, r || 0);
      },
      getMaxDayOfMonth: function (e, t) {
        t < 0 && ((e += Math.floor(t / 12)), (t = t % 12 ? 12 + (t % 12) : 0)),
          t > 11 && ((e += Math.floor(t / 12)), (t %= 12));
        return (
          [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29][t] + (11 === t && (11 * e + 14) % 30 < 11 ? 1 : 0)
        );
      },
    },
    U = void 0,
    W = $(3),
    A = $(4),
    V = $(7);
  function X(e, t, n) {
    return Math.max(t, Math.min(e, n));
  }
  function B(e) {
    return Array.isArray(e);
  }
  function K(e) {
    return e - parseFloat(e) >= 0;
  }
  function j(e) {
    return 'number' == typeof e;
  }
  function q(e) {
    return 'string' == typeof e;
  }
  function G(e) {
    return e === U || null === e || '' === e;
  }
  function J(e) {
    return void 0 === e;
  }
  function Z(e) {
    return 'object' == typeof e;
  }
  function $(e) {
    return Array.apply(0, Array(Math.max(0, e)));
  }
  function Q(e) {
    return e !== U ? e + (K(e) ? 'px' : '') : '';
  }
  function ee() {}
  function te(e, t) {
    void 0 === t && (t = 2);
    for (var n = e + ''; n.length < t; ) n = '0' + n;
    return n;
  }
  function ne(e) {
    return Math.round(e);
  }
  function se(e) {
    return Math.floor(e);
  }
  function ae(e, t) {
    var n, s;
    return (
      void 0 === t && (t = 100),
      function () {
        for (var a = [], i = 0; i < arguments.length; i++) a[i] = arguments[i];
        var r = +new Date();
        n && r < n + t
          ? (clearTimeout(s),
            (s = setTimeout(function () {
              (n = r), e.apply(void 0, a);
            }, t)))
          : ((n = r), e.apply(void 0, a));
      }
    );
  }
  function ie(e, t) {
    var n;
    return (
      void 0 === t && (t = 100),
      function () {
        for (var s = [], a = 0; a < arguments.length; a++) s[a] = arguments[a];
        clearTimeout(n),
          (n = setTimeout(function () {
            e.apply(void 0, s);
          }, t));
      }
    );
  }
  function re(e, t) {
    e._cdr ? setTimeout(t) : t();
  }
  function oe(e, t) {
    return (function (e, t, n) {
      for (var s = e.length, a = 0; a < s; a++) {
        var i = e[a];
        if (t(i, a)) return n ? a : i;
      }
      return n ? -1 : U;
    })(e, t);
  }
  function le(e) {
    var t = [];
    if (e)
      for (var n = 0, s = Object.keys(e); n < s.length; n++) {
        var a = s[n];
        t.push(e[a]);
      }
    return t;
  }
  $(24);
  var ce = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
    he = [31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 29];
  function de(e, t, n) {
    var s,
      a = e - 1600,
      i = t - 1,
      r = n - 1,
      o = 365 * a + se((a + 3) / 4) - se((a + 99) / 100) + se((a + 399) / 400);
    for (s = 0; s < i; ++s) o += ce[s];
    i > 1 && ((a % 4 == 0 && a % 100 != 0) || a % 400 == 0) && ++o;
    var l = (o += r) - 79,
      c = 979 + 33 * se(l / 12053) + 4 * se((l %= 12053) / 1461);
    for (
      (l %= 1461) >= 366 && ((c += se((l - 1) / 365)), (l = (l - 1) % 365)), s = 0;
      s < 11 && l >= he[s];
      ++s
    )
      l -= he[s];
    return [c, s + 1, l + 1];
  }
  var ue = {
      getYear: function (e) {
        return de(e.getFullYear(), e.getMonth() + 1, e.getDate())[0];
      },
      getMonth: function (e) {
        return --de(e.getFullYear(), e.getMonth() + 1, e.getDate())[1];
      },
      getDay: function (e) {
        return de(e.getFullYear(), e.getMonth() + 1, e.getDate())[2];
      },
      getDate: function (e, t, n, s, a, i, r) {
        t < 0 && ((e += se(t / 12)), (t = t % 12 ? 12 + (t % 12) : 0)),
          t > 11 && ((e += se(t / 12)), (t %= 12));
        var o = (function (e, t, n) {
          var s,
            a = e - 979,
            i = t - 1,
            r = n - 1,
            o = 365 * a + 8 * se(a / 33) + se(((a % 33) + 3) / 4);
          for (s = 0; s < i; ++s) o += he[s];
          var l = (o += r) + 79,
            c = 1600 + 400 * se(l / 146097),
            h = !0;
          for (
            (l %= 146097) >= 36525 && ((c += 100 * se(--l / 36524)), (l %= 36524) >= 365 ? l++ : (h = !1)),
              c += 4 * se(l / 1461),
              (l %= 1461) >= 366 && ((h = !1), (c += se(--l / 365)), (l %= 365)),
              s = 0;
            l >= ce[s] + (1 === s && h ? 1 : 0);
            s++
          )
            l -= ce[s] + (1 === s && h ? 1 : 0);
          return [c, s + 1, l + 1];
        })(e, +t + 1, n);
        return new Date(o[0], o[1] - 1, o[2], s || 0, a || 0, i || 0, r || 0);
      },
      getMaxDayOfMonth: function (e, t) {
        var n,
          s,
          a,
          i = 31;
        for (
          t < 0 && ((e += se(t / 12)), (t = t % 12 ? 12 + (t % 12) : 0)),
            t > 11 && ((e += se(t / 12)), (t %= 12));
          !1 ==
          ((s = t + 1),
          (a = i),
          !(
            (n = e) < 0 ||
            n > 32767 ||
            s < 1 ||
            s > 12 ||
            a < 1 ||
            a > he[s - 1] + (12 === s && ((n - 979) % 33) % 4 == 0 ? 1 : 0)
          ));

        )
          i--;
        return i;
      },
    },
    _e = {},
    me = { en: _e, es: z, ua: Y },
    ve = t.createContext({}),
    pe = (function (e) {
      function n() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(n, e),
        (n.prototype.render = function () {
          return t.createElement(ve.Provider, { value: this.props.options }, this.props.children);
        }),
        n
      );
    })(t.Component),
    fe = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._setEl = function (e) {
            t._el = e ? e._el || e : null;
          }),
          t
        );
      }
      return (
        a(t, e),
        Object.defineProperty(t.prototype, 'value', {
          get: function () {
            return this.__value;
          },
          set: function (e) {
            this.__value = e;
          },
          enumerable: !0,
          configurable: !0,
        }),
        (t.prototype.componentDidMount = function () {
          this.__init(), this._init(), this._mounted(), this._updated();
        }),
        (t.prototype.componentDidUpdate = function () {
          this._updated();
        }),
        (t.prototype.componentWillUnmount = function () {
          this._destroy(), this.__destroy();
        }),
        (t.prototype.render = function () {
          return (this._opt = this.context), this._willUpdate(), this._template(this.s, this.state);
        }),
        (t.prototype._safeHtml = function (e) {
          return { __html: e };
        }),
        (t.prototype._init = function () {}),
        (t.prototype.__init = function () {}),
        (t.prototype._emit = function (e, t) {}),
        (t.prototype._mounted = function () {}),
        (t.prototype._updated = function () {}),
        (t.prototype._destroy = function () {}),
        (t.prototype.__destroy = function () {}),
        (t.prototype._willUpdate = function () {}),
        (t.prototype._template = function (e, t) {}),
        (t.contextType = ve),
        t
      );
    })(t.PureComponent),
    ge = m ? document : U,
    ye = m ? window : U,
    be = ['Webkit', 'Moz'],
    De = ge && ge.createElement('div').style,
    Ce = ge && ge.createElement('canvas'),
    xe = Ce && Ce.getContext && Ce.getContext('2d'),
    ke = ye && ye.CSS,
    Te = ke && ke.supports,
    we = {},
    Se =
      (ye && ye.requestAnimationFrame) ||
      function (e) {
        return setTimeout(e, 20);
      },
    Ee =
      (ye && ye.cancelAnimationFrame) ||
      function (e) {
        clearTimeout(e);
      },
    Me = De && De.animationName !== U,
    Ne = 'ios' === o && !b,
    Le = Ne && ye && ye.webkit && ye.webkit.messageHandlers,
    He = (De && De.touchAction === U) || (Ne && !Le),
    Ie = (function () {
      if (!De || De.transform !== U) return '';
      for (var e = 0, t = be; e < t.length; e++) {
        var n = t[e];
        if (De[n + 'Transform'] !== U) return n;
      }
      return '';
    })(),
    Oe = Ie ? '-' + Ie.toLowerCase() + '-' : '';
  Te && Te('(transform-style: preserve-3d)');
  var ze = Te && (Te('position', 'sticky') || Te('position', '-webkit-sticky'));
  function Ye(e, t, n, s) {
    e && e.addEventListener(t, n, s);
  }
  function Pe(e, t, n, s) {
    e && e.removeEventListener(t, n, s);
  }
  function Re(e) {
    return m ? (e && e.ownerDocument ? e.ownerDocument : ge) : U;
  }
  function Fe(e, t) {
    return parseFloat(getComputedStyle(e)[t] || '0');
  }
  function Ue(e) {
    return e.scrollLeft !== U ? e.scrollLeft : e.pageXOffset;
  }
  function We(e) {
    return e.scrollTop !== U ? e.scrollTop : e.pageYOffset;
  }
  function Ae(e) {
    return m ? (e && e.ownerDocument && e.ownerDocument.defaultView ? e.ownerDocument.defaultView : ye) : U;
  }
  function Ve(e, t) {
    var n = getComputedStyle(e),
      s = (Ie ? n[Ie + 'Transform'] : n.transform).split(')')[0].split(', ');
    return +(t ? s[13] || s[5] : s[12] || s[4]) || 0;
  }
  function Xe(e) {
    if (we[e]) return we[e];
    if (!xe) return '#fff';
    (xe.fillStyle = e), xe.fillRect(0, 0, 1, 1);
    var t = xe.getImageData(0, 0, 1, 1),
      n = t ? t.data : [0, 0, 0],
      s = 0.299 * +n[0] + 0.587 * +n[1] + 0.114 * +n[2] < 130 ? '#fff' : '#000';
    return (we[e] = s), s;
  }
  function Be(e, t, n, s, a, i, r) {
    var o,
      l,
      c = Math.min(1, (+new Date() - t) / 468),
      h = 0.5 * (1 - Math.cos(Math.PI * c));
    a !== U && ((o = ne(n + (a - n) * h)), (e.scrollLeft = o)),
      i !== U && ((l = ne(s + (i - s) * h)), (e.scrollTop = l)),
      o !== a || l !== i
        ? Se(function () {
            Be(e, t, n, s, a, i, r);
          })
        : r && r();
  }
  function Ke(e, t, n, s, a, i) {
    t !== U && (t = Math.max(0, ne(t))),
      n !== U && (n = Math.max(0, ne(n))),
      a && t !== U && (t = -t),
      s
        ? Be(e, +new Date(), e.scrollLeft, e.scrollTop, t, n, i)
        : (t !== U && (e.scrollLeft = t), n !== U && (e.scrollTop = n), i && i());
  }
  function je(e) {
    var t = e.getBoundingClientRect(),
      n = { left: t.left, top: t.top },
      s = Ae(e);
    return s !== U && ((n.top += We(s)), (n.left += Ue(s))), n;
  }
  function qe(e, t) {
    var n = e && (e.matches || e.msMatchesSelector);
    return n && n.call(e, t);
  }
  function Ge(e, t) {
    for (var n = 0; n < e.length; n++) t(e[n], n);
  }
  var Je,
    Ze = 0,
    $e = { large: 992, medium: 768, small: 576, xlarge: 1200, xsmall: 0 };
  v &&
    ((Je = v.matches),
    v.addListener(function (e) {
      (Je = e.matches), T.next();
    }));
  var Qe,
    et,
    tt = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (t.s = {}), (t.state = {}), (t._mbsc = !0), (t._v = { version: '5.18.2' }), (t._uid = ++Ze), t;
      }
      return (
        a(t, e),
        Object.defineProperty(t.prototype, 'nativeElement', {
          get: function () {
            return this._el;
          },
          enumerable: !0,
          configurable: !0,
        }),
        (t.prototype.destroy = function () {}),
        (t.prototype._hook = function (e, t) {
          var n = this.s;
          if (((t.inst = this), (t.type = e), this._emit(e, t), n[e])) return n[e](t, this);
        }),
        (t.prototype.__init = function () {
          var e = this;
          if (this.constructor.defaults) {
            this._optChange = T.subscribe(function () {
              e.forceUpdate();
            });
            var t = this.props.modules;
            if (t)
              for (var n = 0, s = t; n < s.length; n++) {
                var a = s[n];
                a.init && a.init(this);
              }
          }
          this._hook('onInit', {});
        }),
        (t.prototype.__destroy = function () {
          this._optChange !== U && T.unsubscribe(this._optChange), this._hook('onDestroy', {});
        }),
        (t.prototype._render = function (e, t) {}),
        (t.prototype._willUpdate = function () {
          this._merge(), this._render(this.s, this.state);
        }),
        (t.prototype._resp = function (e) {
          var t,
            n = e.responsive,
            s = -1,
            a = this.state.width;
          if ((a === U && (a = ye ? ye.innerWidth : 375), n && a))
            for (var i in n)
              if (n.hasOwnProperty(i)) {
                var r = n[i],
                  o = r.breakpoint || $e[i];
                a >= o && o > s && ((t = r), (s = o));
              }
          return t;
        }),
        (t.prototype._merge = function () {
          var e,
            t,
            n,
            s = this.constructor,
            a = s.defaults,
            r = this._opt || {},
            l = {};
          if (((this._prevS = this.s || {}), a)) {
            for (var c in this.props) this.props[c] !== U && (l[c] = this.props[c]);
            var h = l.locale || r.locale || D.locale || {},
              d = l.calendarSystem || h.calendarSystem || r.calendarSystem || D.calendarSystem,
              u = l.theme || r.theme || D.theme,
              m = l.themeVariant || r.themeVariant || D.themeVariant;
            ('auto' !== u && u) || (u = k.theme),
              ('dark' !== m && (!Je || ('auto' !== m && m))) || !x[u + '-dark'] || (u += '-dark'),
              (l.theme = u);
            var v = (n = x[u]) && x[u][s._name];
            t = i({}, a, v, h, D, r, d, l);
            var p = this._resp(t);
            (this._respProps = p), p && (t = i({}, t, p));
          } else (t = i({}, this.props)), (n = x[t.theme]);
          (e = n && n.baseTheme),
            (t.baseTheme = e),
            (this.s = t),
            (this._className = t.cssClass || t.class || t.className || ''),
            (this._rtl = ' mbsc-' + (t.rtl ? 'rtl' : 'ltr')),
            (this._theme = ' mbsc-' + t.theme + (e ? ' mbsc-' + e : '')),
            (this._touchUi = 'auto' === t.touchUi || t.touchUi === U ? _ : t.touchUi),
            (this._hb = 'ios' !== o || ('ios' !== t.theme && 'ios' !== e) ? '' : ' mbsc-hb');
        }),
        (t.defaults = U),
        (t._name = ''),
        t
      );
    })(fe),
    nt = 'blur',
    st = 'change',
    at = 'click',
    it = 'contextmenu',
    rt = 'dblclick',
    ot = 'focus',
    lt = 'focusin',
    ct = 'keydown',
    ht = 'mousedown',
    dt = 'mousemove',
    ut = 'mouseup',
    _t = 'mouseenter',
    mt = 'mouseleave',
    vt = 'mousewheel',
    pt = 'scroll',
    ft = 'touchstart',
    gt = 'touchmove',
    yt = 'touchend',
    bt = 'touchcancel',
    Dt = 'wheel',
    Ct = 0;
  function xt(e, t, n) {
    var s = (n ? 'page' : 'client') + t;
    return e.targetTouches && e.targetTouches[0]
      ? e.targetTouches[0][s]
      : e.changedTouches && e.changedTouches[0]
      ? e.changedTouches[0][s]
      : e[s];
  }
  function kt(e, t) {
    if (!t.mbscClick) {
      var n = (e.originalEvent || e).changedTouches[0],
        s = document.createEvent('MouseEvents');
      s.initMouseEvent(
        'click',
        !0,
        !0,
        window,
        1,
        n.screenX,
        n.screenY,
        n.clientX,
        n.clientY,
        !1,
        !1,
        !1,
        !1,
        0,
        null,
      ),
        (s.isMbscTap = !0),
        (s.isIonicTap = !0),
        (Qe = !0),
        (t.mbscChange = !0),
        (t.mbscClick = !0),
        t.dispatchEvent(s),
        (Qe = !1),
        Ct++,
        setTimeout(function () {
          Ct--;
        }, 500),
        setTimeout(function () {
          delete t.mbscClick;
        });
    }
  }
  function Tt(e) {
    !Ct ||
      Qe ||
      e.isMbscTap ||
      ('TEXTAREA' === e.target.nodeName && e.type === ht) ||
      (e.stopPropagation(), e.preventDefault());
  }
  function wt(e) {
    Ae(e.target).__mbscFocusVisible = !1;
  }
  function St(e) {
    Ae(e.target).__mbscFocusVisible = !0;
  }
  function Et(e) {
    Re(e.target).__mbscMoveObs.next(e);
  }
  function Mt(e) {
    e &&
      setTimeout(function () {
        (e.style.opacity = '0'),
          (e.style.transition = 'opacity linear .4s'),
          setTimeout(function () {
            e && e.parentNode && e.parentNode.removeChild(e);
          }, 400);
      }, 200);
  }
  function Nt(e, t) {
    var n,
      s,
      a,
      i,
      r,
      o,
      l,
      c,
      h,
      u,
      _,
      m,
      v,
      p,
      f,
      g,
      y = {},
      b = Ae(e),
      D = Re(e);
    function C(e) {
      if (e.type === ft) et = !0;
      else if (et) return e.type === ht && (et = !1), !0;
      return !1;
    }
    function x() {
      l &&
        (Mt(i),
        (i = (function (e, t, n) {
          var s = e.getBoundingClientRect(),
            a = t - s.left,
            i = n - s.top,
            r = Math.max(a, e.offsetWidth - a),
            o = Math.max(i, e.offsetHeight - i),
            l = 2 * Math.sqrt(Math.pow(r, 2) + Math.pow(o, 2)),
            c = ge.createElement('span');
          c.classList.add('mbsc-ripple');
          var h = c.style;
          return (
            (h.backgroundColor = getComputedStyle(e).color),
            (h.width = l + 'px'),
            (h.height = l + 'px'),
            (h.top = n - s.top - l / 2 + 'px'),
            (h.left = t - s.left - l / 2 + 'px'),
            e.appendChild(c),
            setTimeout(function () {
              (h.opacity = '.2'),
                (h.transform = 'scale(1)'),
                (h.transition = 'opacity linear .1s, transform cubic-bezier(0, 0, 0.2, 1) .4s');
            }, 30),
            c
          );
        })(e, m, v))),
        t.onPress(),
        (n = !0);
    }
    function k(e, i) {
      (s = !1),
        Mt(e),
        clearTimeout(a),
        (a = setTimeout(function () {
          n && (t.onRelease(), (n = !1));
        }, i));
    }
    function T(e) {
      if (!C(e) && (e.type !== ht || (0 === e.button && !e.ctrlKey))) {
        if (
          ((u = xt(e, 'X')),
          (_ = xt(e, 'Y')),
          (m = u),
          (v = _),
          (n = !1),
          (s = !1),
          (c = !1),
          (g = !0),
          (y.moved = c),
          (y.startX = u),
          (y.startY = _),
          (y.endX = m),
          (y.endY = v),
          (y.deltaX = 0),
          (y.deltaY = 0),
          (y.domEvent = e),
          (y.isTouch = et),
          Mt(i),
          t.onStart)
        ) {
          var r = t.onStart(y);
          l = r && r.ripple;
        }
        t.onPress && ((s = !0), clearTimeout(a), (a = setTimeout(x, 50))),
          e.type === ht && (Ye(D, dt, w), Ye(D, ut, S)),
          Ye(D, it, z);
      }
    }
    function w(e) {
      g &&
        ((m = xt(e, 'X')),
        (v = xt(e, 'Y')),
        (p = m - u),
        (f = v - _),
        !c && (Math.abs(p) > 9 || Math.abs(f) > 9) && ((c = !0), k(i)),
        (y.moved = c),
        (y.endX = m),
        (y.endY = v),
        (y.deltaX = p),
        (y.deltaY = f),
        (y.domEvent = e),
        (y.isTouch = e.type === gt),
        t.onMove && t.onMove(y));
    }
    function S(e) {
      g &&
        (s && !n && (clearTimeout(a), x()),
        (y.domEvent = e),
        (y.isTouch = e.type === yt),
        t.onEnd && t.onEnd(y),
        k(i, 75),
        (g = !1),
        e.type === yt && t.click && He && !c && kt(e, e.target),
        e.type === ut && (Pe(D, dt, w), Pe(D, ut, S)),
        Pe(D, it, z));
    }
    function E(e) {
      C(e) || ((o = !0), t.onHoverIn(e));
    }
    function M(e) {
      o && t.onHoverOut(e), (o = !1);
    }
    function N(e) {
      t.onKeyDown(e);
    }
    function L(e) {
      (t.keepFocus || b.__mbscFocusVisible) && ((r = !0), t.onFocus(e));
    }
    function H(e) {
      r && t.onBlur(e), (r = !1);
    }
    function I(e) {
      t.onChange(e);
    }
    function O(e) {
      (y.domEvent = e), et || t.onDoubleClick(y);
    }
    function z(e) {
      et && e.preventDefault();
    }
    if ((Ye(e, ft, T, { passive: !0 }), Ye(e, ht, T), Ye(e, yt, S), Ye(e, bt, S), D)) {
      var Y = D.__mbscMoveCount || 0,
        P = D.__mbscMoveObs || new d();
      0 === Y && Ye(D, gt, Et, { passive: !1 }),
        (D.__mbscMoveObs = P),
        (D.__mbscMoveCount = ++Y),
        (h = P.subscribe(w));
    }
    if (
      (t.onChange && Ye(e, st, I),
      t.onHoverIn && Ye(e, _t, E),
      t.onHoverOut && Ye(e, mt, M),
      t.onKeyDown && Ye(e, ct, N),
      t.onFocus && b && (Ye(e, ot, L), !t.keepFocus))
    ) {
      var R = b.__mbscFocusCount || 0;
      0 === R && (Ye(b, ht, wt, !0), Ye(b, ct, St, !0)), (b.__mbscFocusCount = ++R);
    }
    return (
      t.onBlur && Ye(e, nt, H),
      t.onDoubleClick && Ye(e, rt, O),
      function () {
        if ((clearTimeout(a), t.onFocus && b && !t.keepFocus)) {
          var n = b.__mbscFocusCount || 0;
          (b.__mbscFocusCount = --n), n <= 0 && (Pe(b, ht, wt), Pe(b, ct, St));
        }
        if (D) {
          var s = D.__mbscMoveCount || 0;
          (D.__mbscMoveCount = --s),
            D.__mbscMoveObs && D.__mbscMoveObs.unsubscribe(h),
            s <= 0 && (delete D.__mbscMoveCount, delete D.__mbscMoveObs, Pe(D, gt, Et, { passive: !1 }));
        }
        Pe(e, ht, T, { passive: !0 }),
          Pe(e, yt, S),
          Pe(e, bt, S),
          Pe(D, dt, w),
          Pe(D, ut, S),
          Pe(D, it, z),
          Pe(e, st, I),
          Pe(e, _t, E),
          Pe(e, mt, M),
          Pe(e, ct, N),
          Pe(e, ft, T),
          Pe(e, ot, L),
          Pe(e, nt, H),
          Pe(e, rt, O);
      }
    );
  }
  m &&
    (['mousedown', _t, ht, ut, at].forEach(function (e) {
      ge.addEventListener(e, Tt, !0);
    }),
    'android' === o &&
      c < 5 &&
      ge.addEventListener(
        st,
        function (e) {
          var t = e.target;
          Ct && 'checkbox' === t.type && !t.mbscChange && (e.stopPropagation(), e.preventDefault()),
            delete t.mbscChange;
        },
        !0,
      ));
  var Lt = new d();
  function Ht(e) {
    return Lt.subscribe(e);
  }
  function It(e) {
    Lt.unsubscribe(e);
  }
  var Ot = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._render = function (e) {
          e.dragData !== this._prevS.dragData &&
            (this._dragData = q(e.dragData) ? JSON.parse(e.dragData.toString()) : e.dragData);
        }),
        (t.prototype._updated = function () {
          var e = this,
            t = this.s.element || this._el;
          if (this._unlisten === U && t) {
            var n, s, a;
            t.classList.add('mbsc-draggable');
            var r = Re(t).body,
              o = function (e) {
                (n.style.left = e.endX + 'px'), (n.style.top = e.endY + 'px');
              };
            this._unlisten = Nt(t, {
              onEnd: function (t) {
                if (s) {
                  var o = i({}, t);
                  o.domEvent.preventDefault(),
                    (o.action = 'externalDrop'),
                    (o.event = e._dragData),
                    (o.create = !0),
                    (o.eventName = 'onDragEnd'),
                    Lt.next(o),
                    (s = !1),
                    r.removeChild(n);
                }
                clearTimeout(a);
              },
              onMove: function (t) {
                var l = i({}, t);
                (l.event = e._dragData),
                  (l.clone = n),
                  (l.create = !0),
                  (l.external = !0),
                  (!s && l.isTouch) || l.domEvent.preventDefault(),
                  s
                    ? (o(t), (l.eventName = 'onDragMove'), Lt.next(l))
                    : (Math.abs(l.deltaX) > 7 || Math.abs(l.deltaY) > 7) &&
                      (clearTimeout(a),
                      l.isTouch ||
                        (o(t), r.appendChild(n), (l.eventName = 'onDragStart'), Lt.next(l), (s = !0)));
              },
              onStart: function (l) {
                var c = i({}, l);
                s ||
                  ((n = t.cloneNode(!0)).classList.add('mbsc-drag-clone'),
                  (c.event = e._dragData),
                  (c.create = !0),
                  (c.external = !0),
                  c.isTouch &&
                    (a = setTimeout(function () {
                      o(l),
                        r.appendChild(n),
                        (c.clone = n),
                        (c.eventName = 'onDragModeOn'),
                        Lt.next(c),
                        (c.eventName = 'onDragStart'),
                        Lt.next(c),
                        (s = !0);
                    }, 350)));
              },
            });
          }
        }),
        (t.prototype._destroy = function () {
          this._unlisten && this._unlisten();
        }),
        t
      );
    })(tt),
    zt = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          return e.children || '';
        }),
        t
      );
    })(Ot),
    Yt = new Date(1970, 0, 1),
    Pt = 6e4,
    Rt = 36e5,
    Ft = 864e5;
  function Ut(e) {
    return !!e._mbsc;
  }
  function Wt(e, t) {
    var n = t.dataTimezone || t.displayTimezone,
      s = t.timezonePlugin;
    if (n && s && Ut(e)) {
      var a = e.clone();
      return a.setTimezone(n), a.toISOString();
    }
    return e;
  }
  var At = {
      amText: 'am',
      dateFormat: 'MM/DD/YYYY',
      dateFormatLong: 'D DDD MMM YYYY',
      dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
      dayNamesMin: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
      dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
      daySuffix: '',
      firstDay: 0,
      fromText: 'Start',
      getDate: rn,
      monthNames: [
        'January',
        'February',
        'March',
        'April',
        'May',
        'June',
        'July',
        'August',
        'September',
        'October',
        'November',
        'December',
      ],
      monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
      monthSuffix: '',
      pmText: 'pm',
      separator: ' ',
      shortYearCutoff: '+10',
      timeFormat: 'h:mm A',
      toText: 'End',
      todayText: 'Today',
      weekText: 'Week {count}',
      yearSuffix: '',
      getMonth: function (e) {
        return e.getMonth();
      },
      getDay: function (e) {
        return e.getDate();
      },
      getYear: function (e) {
        return e.getFullYear();
      },
      getMaxDayOfMonth: function (e, t) {
        return 32 - new Date(e, t, 32, 12).getDate();
      },
      getWeekNumber: function (e) {
        var t = new Date(+e);
        t.setHours(0, 0, 0), t.setDate(t.getDate() + 4 - (t.getDay() || 7));
        var n = new Date(t.getFullYear(), 0, 1);
        return Math.ceil(((t - n) / 864e5 + 1) / 7);
      },
    },
    Vt =
      /^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[T\s](\d{2}):?(\d{2})(?::?(\d{2})(?:\.(\d{3}))?)?((Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/,
    Xt = /^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;
  function Bt(e, t, n) {
    var s,
      a,
      i = { y: 1, m: 2, d: 3, h: 4, i: 5, s: 6, u: 7, tz: 8 };
    if (n) for (s in i) i.hasOwnProperty(s) && (a = e[i[s] - t]) && (n[s] = 'tz' === s ? a : 1);
  }
  function Kt(e) {
    return +new Date(1970, 0, 1, e.getHours(), e.getMinutes(), e.getSeconds(), e.getMilliseconds()) - +Yt;
  }
  function jt(e, t, n, s, a) {
    var i = +e,
      r = +n;
    return i < (a && r === +s ? +s + 1 : +s) && (a && i === +t ? +t + 1 : +t) > r;
  }
  function qt(e, t) {
    var n = hn(e, t);
    return n.setHours(0, 0, 0, 0), n;
  }
  function Gt(e, t) {
    var n = hn(e, t);
    return n.setHours(23, 59, 59, 999), n;
  }
  function Jt(e, t, n, s, a) {
    return ((!t && !a) || e.exclusiveEndDates) && n && s && n < s ? hn(t ? U : e, +s - 1) : s;
  }
  function Zt(e) {
    return e.getFullYear() + '-' + te(e.getMonth() + 1) + '-' + te(e.getDate());
  }
  function $t(e, t) {
    return Ut(e) && !t
      ? e.createDate(e.getFullYear(), e.getMonth(), e.getDate())
      : rn(e.getFullYear(), e.getMonth(), e.getDate());
  }
  function Qt(e) {
    return Date.UTC(e.getFullYear(), e.getMonth(), e.getDate());
  }
  function en(e, t) {
    return ne((Qt(t) - Qt(e)) / Ft);
  }
  function tn(e, t, n, s) {
    for (var a = -1, i = $t(e); i <= $t(t); i.setDate(i.getDate() + 1)) fn(i.getDay(), n, s) && a++;
    return a;
  }
  function nn(e, t, n) {
    var s = e.getFullYear(),
      a = e.getMonth(),
      i = e.getDay(),
      r = n === U ? t.firstDay : n;
    return new Date(s, a, r - (r - i > 0 ? 7 : 0) - i + e.getDate());
  }
  function sn(e, t) {
    return (
      e.getFullYear() === t.getFullYear() && e.getMonth() === t.getMonth() && e.getDate() === t.getDate()
    );
  }
  function an(e, t, n) {
    return n.getYear(e) === n.getYear(t) && n.getMonth(e) === n.getMonth(t);
  }
  function rn(e, t, n, s, a, i, r) {
    var o = new Date(e, t, n, s || 0, a || 0, i || 0, r || 0);
    return 23 === o.getHours() && 0 === (s || 0) && o.setHours(o.getHours() + 2), o;
  }
  function on(e) {
    return e.getTime;
  }
  function ln(e) {
    return q(e) && Xt.test(e);
  }
  function cn(e, t) {
    return hn(
      e,
      t.getFullYear(),
      t.getMonth(),
      t.getDate(),
      t.getHours(),
      t.getMinutes(),
      t.getSeconds(),
      t.getMilliseconds(),
    );
  }
  function hn(e, t, n, s, a, i, r, o) {
    return null === t
      ? null
      : t && (j(t) || q(t)) && J(n)
      ? dn(t, e)
      : e && e.timezonePlugin
      ? e.timezonePlugin.createDate(e, t, n, s, a, i, r, o)
      : Z(t)
      ? new Date(t)
      : J(t)
      ? new Date()
      : new Date(t, n || 0, s || 1, a || 0, i || 0, r || 0, o || 0);
  }
  function dn(e, t, n, s, a) {
    var i;
    if ((q(e) && (e = e.trim()), !e)) return null;
    var r = t && t.timezonePlugin;
    if (r && !a) {
      var o = Ut(e) ? e : r.parse(e, t);
      return o.setTimezone(t.displayTimezone), o;
    }
    return on(e)
      ? e
      : e._isAMomentObject
      ? e.toDate()
      : j(e)
      ? new Date(e)
      : (i = Xt.exec(e))
      ? (Bt(i, 2, s),
        new Date(1970, 0, 1, i[2] ? +i[2] : 0, i[3] ? +i[3] : 0, i[4] ? +i[4] : 0, i[5] ? +i[5] : 0))
      : (i = Vt.exec(e))
      ? (Bt(i, 0, s),
        new Date(
          i[1] ? +i[1] : 1970,
          i[2] ? i[2] - 1 : 0,
          i[3] ? +i[3] : 1,
          i[4] ? +i[4] : 0,
          i[5] ? +i[5] : 0,
          i[6] ? +i[6] : 0,
          i[7] ? +i[7] : 0,
        ))
      : mn(n, e, t);
  }
  function un(e, t, n) {
    return _n(e, t, i({}, At, D.locale, n));
  }
  function _n(e, t, n) {
    var s,
      a,
      i = '',
      r = !1,
      o = function (t) {
        for (var n = 0, a = s; a + 1 < e.length && e.charAt(a + 1) === t; ) n++, a++;
        return n;
      },
      l = function (e) {
        var t = o(e);
        return (s += t), t;
      },
      c = function (e, t, n) {
        var s = '' + t;
        if (l(e)) for (; s.length < n; ) s = '0' + s;
        return s;
      },
      h = function (e, t, n, s) {
        return 3 === l(e) ? s[t] : n[t];
      };
    for (s = 0; s < e.length; s++)
      if (r) "'" !== e.charAt(s) || l("'") ? (i += e.charAt(s)) : (r = !1);
      else
        switch (e.charAt(s)) {
          case 'D':
            i += o('D') > 1 ? h('D', t.getDay(), n.dayNamesShort, n.dayNames) : c('D', n.getDay(t), 2);
            break;
          case 'M':
            i +=
              o('M') > 1
                ? h('M', n.getMonth(t), n.monthNamesShort, n.monthNames)
                : c('M', n.getMonth(t) + 1, 2);
            break;
          case 'Y':
            (a = n.getYear(t)), (i += 3 === l('Y') ? a : (a % 100 < 10 ? '0' : '') + (a % 100));
            break;
          case 'h':
            var d = t.getHours();
            i += c('h', d > 12 ? d - 12 : 0 === d ? 12 : d, 2);
            break;
          case 'H':
            i += c('H', t.getHours(), 2);
            break;
          case 'm':
            i += c('m', t.getMinutes(), 2);
            break;
          case 's':
            i += c('s', t.getSeconds(), 2);
            break;
          case 'a':
            i += t.getHours() > 11 ? n.pmText : n.amText;
            break;
          case 'A':
            i += t.getHours() > 11 ? n.pmText.toUpperCase() : n.amText.toUpperCase();
            break;
          case "'":
            l("'") ? (i += "'") : (r = !0);
            break;
          default:
            i += e.charAt(s);
        }
    return i;
  }
  function mn(e, t, n) {
    var s = i({}, At, n),
      a = dn(s.defaultValue || new Date());
    if (!t) return a;
    e || (e = s.dateFormat + s.separator + s.timeFormat);
    var r,
      o = s.shortYearCutoff,
      l = s.getYear(a),
      c = s.getMonth(a) + 1,
      h = s.getDay(a),
      d = a.getHours(),
      u = a.getMinutes(),
      _ = 0,
      m = -1,
      v = !1,
      p = 0,
      f = function (t) {
        for (var n = 0, s = r; s + 1 < e.length && e.charAt(s + 1) === t; ) n++, s++;
        return n;
      },
      g = function (e) {
        var t = f(e);
        return (r += t), t;
      },
      y = function (e) {
        var n = g(e),
          s = new RegExp('^\\d{1,' + (n >= 2 ? 4 : 2) + '}'),
          a = t.substr(p).match(s);
        return a ? ((p += a[0].length), parseInt(a[0], 10)) : 0;
      },
      b = function (e, n, s) {
        for (var a = 3 === g(e) ? s : n, i = 0; i < a.length; i++)
          if (t.substr(p, a[i].length).toLowerCase() === a[i].toLowerCase()) return (p += a[i].length), i + 1;
        return 0;
      },
      D = function () {
        p++;
      };
    for (r = 0; r < e.length; r++)
      if (v) "'" !== e.charAt(r) || g("'") ? D() : (v = !1);
      else
        switch (e.charAt(r)) {
          case 'Y':
            l = y('Y');
            break;
          case 'M':
            c = f('M') < 2 ? y('M') : b('M', s.monthNamesShort, s.monthNames);
            break;
          case 'D':
            f('D') < 2 ? (h = y('D')) : b('D', s.dayNamesShort, s.dayNames);
            break;
          case 'H':
            d = y('H');
            break;
          case 'h':
            d = y('h');
            break;
          case 'm':
            u = y('m');
            break;
          case 's':
            _ = y('s');
            break;
          case 'a':
            m = b('a', [s.amText, s.pmText], [s.amText, s.pmText]) - 1;
            break;
          case 'A':
            m = b('A', [s.amText, s.pmText], [s.amText, s.pmText]) - 1;
            break;
          case "'":
            g("'") ? D() : (v = !0);
            break;
          default:
            D();
        }
    if (l < 100) {
      var C = void 0;
      (C = l <= (q(o) ? (new Date().getFullYear() % 100) + parseInt(o, 10) : +o) ? 0 : -100),
        (l += new Date().getFullYear() - (new Date().getFullYear() % 100) + C);
    }
    d = -1 === m ? d : m && d < 12 ? d + 12 : m || 12 !== d ? d : 0;
    var x = s.getDate(l, c - 1, h, d, u, _);
    return s.getYear(x) !== l || s.getMonth(x) + 1 !== c || s.getDay(x) !== h ? a : x;
  }
  function vn(e) {
    return Ut(e) ? e.clone() : new Date(e);
  }
  function pn(e, t) {
    var n = vn(e);
    return n.setDate(n.getDate() + t), n;
  }
  function fn(e, t, n) {
    return t > n ? e <= n || e >= t : e >= t && e <= n;
  }
  function gn(e, t) {
    var n = Pt * t,
      s = vn(e).setHours(0, 0, 0, 0),
      a = s + Math.round((+e - +s) / n) * n;
    return Ut(e) ? e.createDate(a) : new Date(a);
  }
  m && 'undefined' == typeof Symbol && (window.Symbol = { toPrimitive: 'toPrimitive' }),
    (C.datetime = { formatDate: un, parseDate: mn });
  var yn = 1,
    bn = 'month',
    Dn = 'year',
    Cn = 'multi-year',
    xn = i({}, At, {
      dateText: 'Date',
      eventText: 'event',
      eventsText: 'events',
      moreEventsText: '{count} more',
      nextPageText: 'Next page',
      prevPageText: 'Previous page',
      showEventTooltip: !0,
      showToday: !0,
      timeText: 'Time',
    });
  function kn(e, t) {
    var n = t.refDate ? dn(t.refDate) : Yt,
      s = t.showCalendar ? t.calendarType : t.eventRange,
      a = (t.showCalendar ? ('year' === s ? 1 : 'week' === s ? t.weeks : t.size) : t.eventRangeSize) || 1,
      i = t.getDate,
      r = 'week' === s ? nn(n, t) : n,
      o = t.getYear(r),
      l = t.getMonth(r),
      c = t.getDay(r);
    switch (s) {
      case 'year':
        return i(o + e * a, 0, 1);
      case 'week':
        return i(o, l, c + 7 * a * e);
      case 'day':
        return i(o, l, c + a * e);
      default:
        return i(o, l + e * a, 1);
    }
  }
  function Tn(e, t) {
    var n,
      s = t.refDate ? dn(t.refDate) : Yt,
      a = t.getYear,
      i = t.getMonth,
      r = t.showCalendar ? t.calendarType : t.eventRange,
      o = (t.showCalendar ? ('year' === r ? 1 : 'week' === r ? t.weeks : t.size) : t.eventRangeSize) || 1;
    switch (r) {
      case 'year':
        n = a(e) - a(s);
        break;
      case 'week':
        n = en(nn(s, t), nn(e, t)) / 7;
        break;
      case 'day':
        n = en(s, e);
        break;
      case 'month':
        n = i(e) - i(s) + 12 * (a(e) - a(s));
        break;
      default:
        return;
    }
    return se(n / o);
  }
  function wn(e, t) {
    var n = t.refDate ? dn(t.refDate) : Yt;
    return se((t.getYear(e) - t.getYear(n)) / 12);
  }
  function Sn(e, t) {
    var n = t.refDate ? dn(t.refDate) : Yt;
    return t.getYear(e) - t.getYear(n);
  }
  function En(e, t) {
    var n = dn(e.start || e.date),
      s = dn(t.start || e.date),
      a = e.title || e.text,
      i = t.title || t.text,
      r = n ? +n * (e.allDay ? 1 : 10) : 0,
      o = s ? +s * (t.allDay ? 1 : 10) : 0;
    return r === o ? (a > i ? 1 : -1) : r - o;
  }
  function Mn(e, t, n, s, a, i, r, o, l, c, h, d, u, _) {
    t = t || {};
    for (var m = {}, v = {}, p = n, f = 0, g = a, y = s; p < s; ) {
      var b = Zt(p),
        D = p.getDay(),
        C = e.getDay(p),
        x = h && e.getDate(e.getYear(p), e.getMonth(p) + 1, 0),
        k = (l && (D === o || (1 === C && h))) || +p == +n,
        T = nn(p, e),
        w = Nn(t[b] || [], c),
        S = void 0,
        E = void 0,
        M = 0,
        N = 0,
        L = 0;
      k && ((v = {}), (y = l ? pn(T, i) : s)),
        r &&
          (w = w.filter(function (e) {
            return e.allDay;
          })),
        -1 === a && (g = w.length + 1);
      var H = w.length,
        I = [];
      for (d && (I.push({ id: 'count_' + +p, count: H, placeholder: 0 === H }), (M = g)); H && M < g; ) {
        S = null;
        for (var O = 0; O < w.length; O++) v[M] === w[O] && ((S = w[O]), (E = O));
        if (M === g - 1 && (N < H - 1 || (L === H && !S)) && -1 !== a) {
          var z = H - N,
            Y = u || '',
            P = ((z > 1 && _) || Y).replace(/{count}/, z);
          if ((z && I.push({ id: 'more_' + ++f, more: P, label: P }), S)) {
            v[M] = null;
            for (var R = 0, F = S._days; R < F.length; R++) {
              var W = F[R],
                A = Y.replace(/{count}/, '1');
              m[Zt(W)].data[M] = { id: 'more_' + ++f, more: A, label: A };
            }
          }
          N++, M++;
        } else if (S)
          E === L && L++,
            sn(p, dn(S.end, S.allDay ? U : e)) && (v[M] = null),
            I.push({ id: S.occurrenceId || S.id, event: S }),
            M++,
            N++,
            S._days.push(p);
        else if (L < H) {
          var V = w[L],
            X = V.allDay,
            B = V.start && dn(V.start, X ? U : e);
          if (!B || sn(p, B) || k) {
            var K = Jt(e, X, B, V.end && dn(V.end, X ? U : e), !0),
              j = K && !sn(B, K),
              q = x && x < K ? x : K,
              G = B ? ', ' + e.fromText + ': ' + _n('DDDD, MMMM D, YYYY', B, e) : '',
              J = K ? ', ' + e.toText + ': ' + _n('DDDD, MMMM D, YYYY', K, e) : '';
            V.id === U && (V.id = 'mbsc_' + yn++),
              j && (v[M] = V),
              (V._days = [p]),
              I.push({
                event: V,
                id: V.occurrenceId || V.id,
                label: (V.title || V.text || '') + G + J,
                lastDay: x ? pn(x, 1) : U,
                multiDay: j,
                showText: !0,
                width: j ? 100 * Math.min(en(p, q) + 1, en(p, y)) : 100,
              }),
              M++,
              N++;
          }
          L++;
        } else N < H && I.push({ id: 'ph_' + ++f, placeholder: !0 }), M++;
      }
      (m[b] = { data: I, events: w }), (p = $t(pn(p, 1)));
    }
    return m;
  }
  function Nn(e, t) {
    return e && e.slice(0).sort(t || En);
  }
  var Ln = { 0: 'SU', 1: 'MO', 2: 'TU', 3: 'WE', 4: 'TH', 5: 'FR', 6: 'SA' },
    Hn = { SU: 0, MO: 1, TU: 2, WE: 3, TH: 4, FR: 5, SA: 6 },
    In = {
      byday: 'weekDays',
      bymonth: 'month',
      bymonthday: 'day',
      bysetpos: 'pos',
      dtstart: 'from',
      freq: 'repeat',
      wkst: 'weekStart',
    };
  function On(e, t, n, s) {
    var a = dn(t.start, t.allDay ? U : n),
      i = dn(t.end, t.allDay ? U : n),
      r = i - a;
    for (
      s && ((t.start = a), (t.end = i)), a = $t(a), i = n.exclusiveEndDates ? i : $t(pn(i, 1));
      a < i || !r;

    )
      zn(e, a, t), (a = pn(a, 1)), (r = 1);
  }
  function zn(e, t, n) {
    var s = Zt(t);
    e[s] || ((e[s] = []), (e[s].date = $t(t, !0))), e[s].push(n);
  }
  function Yn(e, t, n, s, a, i) {
    var r = {};
    if (a)
      for (var o = 0, l = Wn(a); o < l.length; o++) {
        r[Zt(dn(l[o]))] = !0;
      }
    if (i)
      for (var c = 0, h = An(i, e, t, n, s); c < h.length; c++) {
        r[Zt(h[c].d)] = !0;
      }
    return r;
  }
  function Pn(e) {
    return q(e) || e.getTime || e.toDate ? e : e.start || e.date;
  }
  function Rn(e) {
    for (var t = {}, n = 0, s = e.split(';'); n < s.length; n++) {
      var a = s[n].split('='),
        i = a[0].trim().toLowerCase(),
        r = a[1].trim();
      t[In[i] || i] = r;
    }
    return t;
  }
  function Fn(e) {
    return q(e) ? Rn(e) : i({}, e);
  }
  function Un(e, t, n) {
    var s = Fn(e),
      a = dn(t),
      i = dn(n),
      r = en(i, a),
      o = (s.repeat || '').toLowerCase(),
      l = function (e, t, n) {
        var s = e.filter(function (e) {
          return e !== t;
        });
        return -1 === s.indexOf(n) && s.push(n), s;
      },
      c = function (e, t, n) {
        var s = B(e)
            ? e
            : ((e || '') + '').split(',').map(function (e) {
                return +e;
              }),
          a = l(s, t, n);
        return a.length > 1 ? a : a[0];
      },
      h = function () {
        if (s.weekDays) {
          var e = s.weekDays.split(','),
            t = Ln[i.getDay()],
            n = Ln[a.getDay()],
            r = l(e, t, n);
          s.weekDays = r.join();
        }
      };
    return (
      'weekly' === o
        ? h()
        : 'monthly' === o
        ? s.pos === U
          ? (s.day = c(s.day, i.getDate(), a.getDate()))
          : h()
        : 'yearly' === o &&
          (s.pos === U
            ? ((s.month = c(s.month, i.getMonth() + 1, a.getMonth() + 1)),
              (s.day = c(s.day, i.getDate(), a.getDate())))
            : h()),
      s.from && (s.from = pn(dn(s.from), r)),
      s.until && (s.until = pn(dn(s.until), r)),
      s
    );
  }
  function Wn(e) {
    return e ? (B(e) ? e : q(e) ? e.split(',') : [e]) : [];
  }
  function An(e, t, n, s, a, i, r, o) {
    q(e) && (e = Rn(e));
    for (
      var l,
        c,
        h = a.getYear,
        d = a.getMonth,
        u = a.getDay,
        _ = a.getDate,
        m = a.getMaxDayOfMonth,
        v = (e.repeat || '').toLowerCase(),
        p = e.interval || 1,
        f = e.count,
        g = e.from ? dn(e.from) : t || (1 !== p || f !== U ? new Date() : n),
        y = $t(g),
        b = h(g),
        D = d(g),
        C = e.until ? dn(e.until) : 1 / 0,
        x = g < n,
        k = x ? n : $t(g),
        T = 'first' === o,
        w = 'last' === o,
        S = T || w || !s || C < s ? C : s,
        E = f === U ? 1 / 0 : f,
        M = (e.weekDays || Ln[g.getDay()]).split(','),
        N = Hn[(e.weekStart || 'MO').trim().toUpperCase()],
        L = B(e.day) ? e.day : ((e.day || u(g)) + '').split(','),
        H = B(e.month) ? e.month : ((e.month || d(g) + 1) + '').split(','),
        I = [],
        O = e.pos !== U,
        z = O ? +e.pos : 1,
        Y = [],
        P = s ? Yn(t, n, s, a, i, r) : {},
        R = !0,
        F = 0,
        W = 0,
        A = null,
        V = n,
        X = 0,
        K = M;
      X < K.length;
      X++
    ) {
      var j = K[X];
      Y.push(Hn[j.trim().toUpperCase()]);
    }
    var G = function () {
        if ((s || (P = Yn(c, c, pn(c, 1), a, i, r)), !P[Zt(c)] && c >= k))
          if (T) (A = !A || c < A ? c : A), (R = !1);
          else if (w) {
            var e = en(V, c);
            (V = c > V && e <= 1 ? c : V), (R = e <= 1);
          } else I.push({ d: c, i: W });
        W++;
      },
      J = function (e, t) {
        for (var n = [], s = 0, a = Y; s < a.length; s++)
          for (var i = nn(e, { firstDay: a[s] }); i < t; i.setDate(i.getDate() + 7))
            i.getMonth() === e.getMonth() && n.push(+i);
        n.sort();
        var r = n[z < 0 ? n.length + z : z - 1];
        (c = r ? new Date(r) : t) < S ? r && G() : (R = !1);
      };
    switch (v) {
      case 'daily':
        for (W = f && x ? se(en(g, n) / p) : 0; R; )
          (c = _(h(g), d(g), u(g) + W * p)) < S && W < E ? G() : (R = !1);
        break;
      case 'weekly':
        var Z = Y,
          $ = nn(g, { firstDay: N }),
          Q = $.getDay();
        for (
          Z.sort(function (e, t) {
            return (e = (e -= Q) < 0 ? e + 7 : e) - (t = (t -= Q) < 0 ? t + 7 : t);
          });
          R;

        ) {
          for (var ee = 0, te = Z; ee < te.length; ee++) {
            (l = pn($, (j = te[ee]) < N ? j - N + 7 : j - N)),
              (c = _(h(l), d(l), u(l) + 7 * F * p)) < S && W < E ? c >= y && G() : (R = !1);
          }
          F++;
        }
        break;
      case 'monthly':
        for (; R; ) {
          var ne = m(b, D + F * p);
          if (O) J(_(b, D + F * p, 1), _(b, D + F * p + 1, 1));
          else
            for (var ae = 0, ie = L; ae < ie.length; ae++) {
              var re = ie[ae];
              (c = _(b, D + F * p, (ue = +re) < 0 ? ne + ue + 1 : ue)) < S && W < E
                ? ne >= re && c >= y && G()
                : (R = !1);
            }
          F++;
        }
        break;
      case 'yearly':
        for (; R; ) {
          for (var oe = 0, le = H; oe < le.length; oe++) {
            var ce = +le[oe];
            ne = m(b + F * p, ce - 1);
            if (O) J(_(b + F * p, ce - 1, 1), _(b + F * p, ce, 1));
            else
              for (var he = 0, de = L; he < de.length; he++) {
                var ue;
                re = de[he];
                (c = _(b + F * p, ce - 1, (ue = +re) < 0 ? ne + ue + 1 : ue)) < S && W < E
                  ? ne >= re && c >= y && G()
                  : (R = !1);
              }
          }
          F++;
        }
    }
    return T ? A : w ? V : I;
  }
  function Vn(e, t, n, s, a) {
    var r = {},
      o = s.timezonePlugin,
      l = s.dataTimezone || s.displayTimezone,
      c = o ? { displayTimezone: l, timezonePlugin: o } : s;
    if (e) {
      for (var h = 0, d = e; h < d.length; h++) {
        var u = d[h],
          _ = Pn(u),
          m = dn(_, u.allDay ? U : s);
        if (u.recurring)
          for (
            var v = Xt.test(_) ? null : dn(_),
              p = pn(t, -1),
              f = pn(n, 1),
              g = An(u.recurring, v, p, f, s, u.recurringException, u.recurringExceptionRule),
              y = hn(u.allDay ? U : c, m),
              b = u.end ? dn(u.end, u.allDay ? U : s) : y,
              D = +b - +y,
              C = 0,
              x = g;
            C < x.length;
            C++
          ) {
            var k = x[C],
              T = k.d,
              w = i({}, u);
            if (
              (u.start
                ? (w.start = hn(
                    u.allDay ? U : c,
                    T.getFullYear(),
                    T.getMonth(),
                    T.getDate(),
                    y.getHours(),
                    y.getMinutes(),
                    y.getSeconds(),
                  ))
                : ((w.allDay = !0), (w.start = hn(U, T.getFullYear(), T.getMonth(), T.getDate()))),
              u.end)
            ) {
              if (u.allDay) {
                var S = pn(T, en(y, b));
                w.end = new Date(
                  S.getFullYear(),
                  S.getMonth(),
                  S.getDate(),
                  b.getHours(),
                  b.getMinutes(),
                  b.getSeconds(),
                );
              } else w.end = hn(c, +w.start + D);
              '00:00' === u.end && w.end.setHours(23, 59, 59, 999);
            }
            (w.nr = k.i),
              (w.occurrenceId = w.id + '_' + Zt(w.start)),
              (w.original = u),
              w.start && w.end ? On(r, w, s, a) : zn(r, T, w);
          }
        else u.start && u.end ? On(r, u, s, a) : m && zn(r, m, u);
      }
      return r;
    }
  }
  function Xn(e, t, n, s, a, i) {
    var r = Zt(t);
    if ((a && +t < a) || (i && +t > i)) return !0;
    if (s && s[r]) return !1;
    var o = n && n[r];
    if (o)
      for (var l = 0, c = o; l < c.length; l++) {
        var h = c[l],
          d = h.start,
          u = h.end,
          _ = h.allDay;
        if (!d || !u || _) return h;
        var m = Jt(e, _, d, u),
          v = qt(e, t),
          p = Gt(e, m);
        if (!sn(d, u) && (+d == +v || +m == +p || (!sn(t, d) && !sn(t, u) && t > d && t < u))) return h;
      }
    return !1;
  }
  var Bn = 13,
    Kn = 32,
    jn = 33,
    qn = 34,
    Gn = 35,
    Jn = 36,
    Zn = 37,
    $n = 38,
    Qn = 39,
    es = 40,
    ts = 1;
  function ns(e, t, n, s, a, r) {
    var o = n,
      l = s,
      c = new Map(),
      h = [];
    a && (o = dn(a, t)), r ? (l = dn(r, t)) : a && (l = pn(o, 1));
    var d = Vn(e, o, l, t);
    for (var u in d)
      if (u)
        for (var _ = 0, m = d[u]; _ < m.length; _++) {
          var v = m[_],
            p = dn(v.start, t),
            f = dn(v.end, t) || p;
          if (v.start) {
            if (!c.has(v) && jt(o, l, p, f)) {
              var g = i({}, v);
              (t.dataTimezone || t.displayTimezone) &&
                ((g.start = p.toISOString()), (g.end = f.toISOString())),
                c.set(v, !0),
                h.push(g);
            }
          } else h.push(v);
        }
    return h;
  }
  function ss() {
    return 'mbsc_' + ts++;
  }
  function as(e, t, n, s, a, i, r, o, l, c, h) {
    var d = t.color || (o && o.color),
      u = t.start || t.date,
      _ = t.recurring ? t.original.start : t.start,
      m = t.allDay || !_,
      v = u ? dn(u, m ? U : e) : null,
      p = t.end ? dn(t.end, m ? U : e) : null,
      f = Jt(e, t.allDay, v, p, l),
      g = v && f && !sn(v, f),
      y = !g || sn(v, n),
      b = !g || sn(f, n),
      D = m || (!c && g && !y && !b),
      C = h || !v || m ? '' : _n(a, v, e),
      x = h || !p || m ? '' : _n(a, p, e),
      k = h || D || (!y && !c) ? '' : C,
      T = h || D || (!b && !c) ? '' : x,
      w = t.title || t.text || '',
      S = w,
      E = S + (D ? '' : ', ' + k + ' - ' + T),
      M = 'DDDD, MMMM D, YYYY',
      N = !h && v ? ', ' + e.fromText + ': ' + _n(M, v, e) + (m ? '' : ', ' + C) : '',
      L = !h && p ? ', ' + e.toText + ': ' + _n(M, p, e) + (m ? '' : ', ' + x) : '';
    return {
      allDay: m,
      allDayText: D ? i : '',
      ariaLabel: S + (o && o.name ? ', ' + o.name : '') + N + L,
      color: d,
      currentResource: o,
      date: +n,
      end: T,
      endDate: p || (v ? new Date(v) : null),
      html: w,
      id: t.id,
      isMultiDay: g,
      lastDay: !D && g && b ? r : '',
      original: t,
      position: {},
      resource: t.resource,
      slot: t.slot,
      start: k,
      startDate: v,
      style: { background: d, color: s && d ? Xe(d) : '' },
      title: S,
      tooltip: e.showEventTooltip ? t.tooltip || E : U,
      uid: t.occurrenceId ? t.occurrenceId : t.id,
    };
  }
  function is(e) {
    var t = [];
    if (e)
      for (var n = 0, s = e; n < s.length; n++) {
        var a = s[n];
        a.id === U && (a.id = ss()), t.push(a);
      }
    return t;
  }
  function rs(e, t, n, s, a, i, r, o, l) {
    if ('start-end' === o) {
      var c = Xn(e, s, t, n, i, r),
        h = Xn(e, a, t, n, i, r);
      if (c) return c;
      if (h) return h;
    } else
      for (var d = l ? a : $t(pn(a, 1)), u = $t(s); u < d; u.setDate(u.getDate() + 1)) {
        var _ = Xn(e, u, t, n, i, r);
        if (_) return _;
      }
    return !1;
  }
  var os = 0;
  function ls(e, t, n) {
    'jsonp' === n
      ? (function (e, t) {
          if (ye) {
            var n = ge.createElement('script'),
              s = 'mbscjsonp' + ++os;
            (ye[s] = function (e) {
              n.parentNode.removeChild(n), delete ye[s], e && t(e);
            }),
              (n.src = e + (e.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + s),
              ge.body.appendChild(n);
          }
        })(e, t)
      : (function (e, t) {
          var n = new XMLHttpRequest();
          n.open('GET', e, !0),
            (n.onload = function () {
              n.status >= 200 && n.status < 400 && t(JSON.parse(n.response));
            }),
            (n.onerror = function () {}),
            n.send();
        })(e, t);
  }
  var cs,
    hs = { getJson: ls };
  function ds(e) {
    return cs || (cs = _s.luxon.DateTime.local().zoneName), e && 'local' !== e ? e : cs;
  }
  C.http = hs;
  var us = (function () {
      function e(e, t) {
        void 0 === t && (t = 'utc'), (this._mbsc = !0), (t = ds(t));
        var n = _s.luxon.DateTime,
          s = { zone: t };
        if (((this.zone = t), J(e))) this.dt = n.utc().setZone(t);
        else if (on(e) || j(e)) this.dt = n.fromMillis(+e, s);
        else if (q(e)) this.dt = n.fromISO(e, s);
        else if (B(e)) {
          for (
            var a = ['year', 'month', 'day', 'hour', 'minute', 'second', 'millisecond'], r = {}, o = 0;
            o < e.length && o < 7;
            o++
          )
            r[a[o]] = e[o] + (1 === o ? 1 : 0);
          1 === n.fromObject.length ? (this.dt = n.fromObject(i({}, r, s))) : (this.dt = n.fromObject(r, s));
        }
      }
      return (
        (e.prototype.clone = function () {
          return new e(this, this.zone);
        }),
        (e.prototype.createDate = function (e, t, n, s, a, i, r) {
          return _s.createDate({ displayTimezone: this.zone }, e, t, n, s, a, i, r);
        }),
        (e.prototype[Symbol.toPrimitive] = function (e) {
          return this.dt.toJSDate()[Symbol.toPrimitive](e);
        }),
        (e.prototype.toDateString = function () {
          return this.dt.toFormat('ccc MMM dd yyyy');
        }),
        (e.prototype.toISOString = function () {
          return this.dt.toISO();
        }),
        (e.prototype.toJSON = function () {
          return this.dt.toISO();
        }),
        (e.prototype.valueOf = function () {
          return this.dt.valueOf();
        }),
        (e.prototype.getDate = function () {
          return this.dt.day;
        }),
        (e.prototype.getDay = function () {
          return this.dt.weekday % 7;
        }),
        (e.prototype.getFullYear = function () {
          return this.dt.year;
        }),
        (e.prototype.getHours = function () {
          return this.dt.hour;
        }),
        (e.prototype.getMilliseconds = function () {
          return this.dt.millisecond;
        }),
        (e.prototype.getMinutes = function () {
          return this.dt.minute;
        }),
        (e.prototype.getMonth = function () {
          return this.dt.month - 1;
        }),
        (e.prototype.getSeconds = function () {
          return this.dt.second;
        }),
        (e.prototype.getTime = function () {
          return this.valueOf();
        }),
        (e.prototype.getTimezoneOffset = function () {
          return -this.dt.offset;
        }),
        (e.prototype.getUTCDate = function () {
          return this.dt.toUTC().day;
        }),
        (e.prototype.getUTCDay = function () {
          return this.dt.toUTC().weekday % 7;
        }),
        (e.prototype.getUTCFullYear = function () {
          return this.dt.toUTC().year;
        }),
        (e.prototype.getUTCHours = function () {
          return this.dt.toUTC().hour;
        }),
        (e.prototype.getUTCMilliseconds = function () {
          return this.dt.toUTC().millisecond;
        }),
        (e.prototype.getUTCMinutes = function () {
          return this.dt.toUTC().minute;
        }),
        (e.prototype.getUTCMonth = function () {
          return this.dt.toUTC().month - 1;
        }),
        (e.prototype.getUTCSeconds = function () {
          return this.dt.toUTC().second;
        }),
        (e.prototype.setMilliseconds = function (e) {
          return this.setter({ millisecond: e }).millisecond;
        }),
        (e.prototype.setSeconds = function (e, t) {
          return this.setter({ second: e, millisecond: t }).second;
        }),
        (e.prototype.setMinutes = function (e, t, n) {
          return this.setter({ minute: e, second: t, millisecond: n }).minute;
        }),
        (e.prototype.setHours = function (e, t, n, s) {
          return this.setter({ hour: e, minute: t, second: n, millisecond: s }).hour;
        }),
        (e.prototype.setDate = function (e) {
          return this.setter({ day: e }).day;
        }),
        (e.prototype.setMonth = function (e, t) {
          return e++, this.setter({ month: e, day: t }).month - 1;
        }),
        (e.prototype.setFullYear = function (e, t, n) {
          return this.setter({ year: e, month: t, day: n }).year;
        }),
        (e.prototype.setTime = function (e) {
          return (this.dt = _s.luxon.DateTime.fromMillis(e)), this.dt.valueOf();
        }),
        (e.prototype.setTimezone = function (e) {
          (e = ds(e)), (this.zone = e), (this.dt = this.dt.setZone(e));
        }),
        (e.prototype.setUTCMilliseconds = function (e) {
          return 0;
        }),
        (e.prototype.setUTCSeconds = function (e, t) {
          return 0;
        }),
        (e.prototype.setUTCMinutes = function (e, t, n) {
          return 0;
        }),
        (e.prototype.setUTCHours = function (e, t, n, s) {
          return 0;
        }),
        (e.prototype.setUTCDate = function (e) {
          return 0;
        }),
        (e.prototype.setUTCMonth = function (e, t) {
          return 0;
        }),
        (e.prototype.setUTCFullYear = function (e, t, n) {
          return 0;
        }),
        (e.prototype.toUTCString = function () {
          return '';
        }),
        (e.prototype.toTimeString = function () {
          return '';
        }),
        (e.prototype.toLocaleDateString = function () {
          return '';
        }),
        (e.prototype.toLocaleTimeString = function () {
          return '';
        }),
        (e.prototype.setter = function (e) {
          return (this.dt = this.dt.set(e)), this.dt;
        }),
        e
      );
    })(),
    _s = {
      luxon: U,
      parse: function (e, t) {
        return new us(e, t.dataTimezone || t.displayTimezone);
      },
      createDate: function (e, t, n, s, a, i, r, o) {
        var l = e.displayTimezone;
        return Z(t) || q(t) || J(n)
          ? new us(t, l)
          : new us([t || 1970, n || 0, s || 1, a || 0, i || 0, r || 0, o || 0], l);
      },
    };
  function ms(e) {
    return e && 'local' !== e ? e : ps.moment.tz.guess();
  }
  var vs = (function () {
      function e(e, t) {
        (this._mbsc = !0), (this.timezone = ms(t)), this.init(e);
      }
      return (
        (e.prototype.clone = function () {
          return new e(this, this.timezone);
        }),
        (e.prototype.createDate = function (e, t, n, s, a, i, r) {
          return ps.createDate({ displayTimezone: this.timezone }, e, t, n, s, a, i, r);
        }),
        (e.prototype[Symbol.toPrimitive] = function (e) {
          return this.m.toDate()[Symbol.toPrimitive](e);
        }),
        (e.prototype.toDateString = function () {
          return this.m.format('ddd MMM DD YYYY');
        }),
        (e.prototype.toISOString = function () {
          return this.m.toISOString(!0);
        }),
        (e.prototype.toJSON = function () {
          return this.m.toISOString();
        }),
        (e.prototype.valueOf = function () {
          return this.m.valueOf();
        }),
        (e.prototype.getDate = function () {
          return this.m.date();
        }),
        (e.prototype.getDay = function () {
          return this.m.day();
        }),
        (e.prototype.getFullYear = function () {
          return this.m.year();
        }),
        (e.prototype.getHours = function () {
          return this.m.hours();
        }),
        (e.prototype.getMilliseconds = function () {
          return this.m.milliseconds();
        }),
        (e.prototype.getMinutes = function () {
          return this.m.minutes();
        }),
        (e.prototype.getMonth = function () {
          return this.m.month();
        }),
        (e.prototype.getSeconds = function () {
          return this.m.seconds();
        }),
        (e.prototype.getTime = function () {
          return this.m.valueOf();
        }),
        (e.prototype.getTimezoneOffset = function () {
          return -this.m.utcOffset();
        }),
        (e.prototype.getUTCDate = function () {
          return this.utc().date();
        }),
        (e.prototype.getUTCDay = function () {
          return this.utc().day();
        }),
        (e.prototype.getUTCFullYear = function () {
          return this.utc().year();
        }),
        (e.prototype.getUTCHours = function () {
          return this.utc().hours();
        }),
        (e.prototype.getUTCMilliseconds = function () {
          return this.utc().milliseconds();
        }),
        (e.prototype.getUTCMinutes = function () {
          return this.utc().minutes();
        }),
        (e.prototype.getUTCMonth = function () {
          return this.utc().month();
        }),
        (e.prototype.getUTCSeconds = function () {
          return this.utc().seconds();
        }),
        (e.prototype.setMilliseconds = function (e) {
          return this.m.set({ millisecond: e }).milliseconds();
        }),
        (e.prototype.setSeconds = function (e, t) {
          return this.m.set({ seconds: e, milliseconds: t }).seconds();
        }),
        (e.prototype.setMinutes = function (e, t, n) {
          return this.m.set({ minutes: e, seconds: t, milliseconds: n }).minutes();
        }),
        (e.prototype.setHours = function (e, t, n, s) {
          return this.m.set({ hours: e, minutes: t, seconds: n, milliseconds: s }).hours();
        }),
        (e.prototype.setDate = function (e) {
          return this.m.set({ date: e }).date();
        }),
        (e.prototype.setMonth = function (e, t) {
          return this.m.set({ month: e, date: t }).month();
        }),
        (e.prototype.setFullYear = function (e, t, n) {
          return this.m.set({ year: e, month: t, date: n }).year();
        }),
        (e.prototype.setTime = function (e) {
          return this.init(e), this.m.valueOf();
        }),
        (e.prototype.setTimezone = function (e) {
          (this.timezone = ms(e)), this.m.tz(this.timezone);
        }),
        (e.prototype.setUTCMilliseconds = function (e) {
          return 0;
        }),
        (e.prototype.setUTCSeconds = function (e, t) {
          return 0;
        }),
        (e.prototype.setUTCMinutes = function (e, t, n) {
          return 0;
        }),
        (e.prototype.setUTCHours = function (e, t, n, s) {
          return 0;
        }),
        (e.prototype.setUTCDate = function (e) {
          return 0;
        }),
        (e.prototype.setUTCMonth = function (e, t) {
          return 0;
        }),
        (e.prototype.setUTCFullYear = function (e, t, n) {
          return 0;
        }),
        (e.prototype.toUTCString = function () {
          return '';
        }),
        (e.prototype.toTimeString = function () {
          return '';
        }),
        (e.prototype.toLocaleDateString = function () {
          return '';
        }),
        (e.prototype.toLocaleTimeString = function () {
          return '';
        }),
        (e.prototype.init = function (e) {
          var t = ps.moment.tz,
            n = J(e) || q(e) || j(e) || B(e) ? e : +e,
            s = q(e) && Xt.test(e);
          this.m = s ? t(n, 'HH:mm:ss', this.timezone) : t(n, this.timezone);
        }),
        (e.prototype.utc = function () {
          return this.m.clone().utc();
        }),
        e
      );
    })(),
    ps = {
      moment: U,
      parse: function (e, t) {
        return new vs(e, t.dataTimezone || t.displayTimezone);
      },
      createDate: function (e, t, n, s, a, i, r, o) {
        var l = e.displayTimezone;
        return Z(t) || q(t) || J(n)
          ? new vs(t, l)
          : new vs([t || 1970, n || 0, s || 1, a || 0, i || 0, r || 0, o || 0], l);
      },
    },
    fs = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t.state = { activeDate: U, eventList: [], popoverList: [], selectedDate: U }),
          (t.print = ee),
          (t._pageLoad = 0),
          (t._selectedDates = {}),
          (t._shouldScrollSchedule = 0),
          (t._update = 0),
          (t._onScroll = ae(function () {
            if (!t._isListScrolling && !t._viewChanged)
              for (var e in t._listDays)
                if (t._listDays[e]) {
                  var n = t._listDays[e];
                  if (n.offsetTop + n.offsetHeight - t._list.scrollTop > 0) {
                    +e !== t._selected &&
                      ((t._shouldSkipScroll = !0),
                      t.setState({ selectedDate: +e }),
                      t._selectedChange(new Date(+e)));
                    break;
                  }
                }
          })),
          (t._isListScrolling = 0),
          (t._onWeekDayClick = function (e) {
            e !== t._selected &&
              ((t._skipScheduleScroll = !0), t.setState({ selectedDate: e }), t._selectedChange(new Date(e)));
          }),
          (t._onDayClick = function (e) {
            var n = e.date,
              s = +n,
              a = Zt(n),
              i = t.state,
              r = Nn(t._eventMap[a], t.s.eventOrder),
              o = t._showEventPopover,
              l = o === U ? !t._showEventLabels && !t._showEventList && !t._showSchedule : o,
              c = !1 !== o && t._moreLabelClicked,
              h = (l || c) && (!i.showPopover || (i.showPopover && s !== i.popoverDate)) && r && r.length > 0;
            (e.events = r),
              t._isEventClick || t._resetSelection(),
              t._hook('onCellClick', e),
              (t._moreLabelClicked = !1),
              e.disabled ||
                (t.setState({ selectedDate: s }),
                s !== t._selected && ((t._skipScheduleScroll = !0), t._selectedChange(n))),
              h &&
                setTimeout(function () {
                  (t._anchor = e.target),
                    (t._popoverClass = t._popoverClass.replace(' mbsc-popover-hidden', '')),
                    t.setState({
                      popoverDate: s,
                      popoverList: r.map(function (e) {
                        return t._getEventData(e, n);
                      }),
                      showPopover: !0,
                    });
                }),
              (t._isEventClick = !1);
          }),
          (t._onActiveChange = function (e) {
            var n = t._getValidDay(e.date, e.dir),
              s = { activeDate: n };
            (t._active = n),
              t._update++,
              (t._skipScheduleScroll = e.pageChange && !e.nav),
              (e.pageChange || e.today) && ((s.selectedDate = n), t._selectedChange(new Date(n))),
              t.setState(s);
          }),
          (t._onGestureStart = function (e) {
            t._hidePopover();
          }),
          (t._onDayDoubleClick = function (e) {
            t._dayClick('onCellDoubleClick', e);
          }),
          (t._onDayRightClick = function (e) {
            t._dayClick('onCellRightClick', e);
          }),
          (t._onCellHoverIn = function (e) {
            (e.events = t._eventMap[Zt(e.date)]), t._hook('onCellHoverIn', e);
          }),
          (t._onCellHoverOut = function (e) {
            (e.events = t._eventMap[Zt(e.date)]), t._hook('onCellHoverOut', e);
          }),
          (t._onEventHoverIn = function (e) {
            t._hoverTimer = setTimeout(function () {
              (t._isHover = !0), t._eventClick('onEventHoverIn', e);
            }, 150);
          }),
          (t._onEventHoverOut = function (e) {
            clearTimeout(t._hoverTimer),
              t._isHover && ((t._isHover = !1), t._eventClick('onEventHoverOut', e));
          }),
          (t._onEventClick = function (e) {
            var n = t.s;
            t._handleMultipleSelect(e),
              !1 === t._eventClick('onEventClick', e) ||
                n.selectMultipleEvents ||
                n.eventDelete ||
                ((n.dragToCreate || n.clickToCreate) && !n.eventDelete) ||
                t._hidePopover();
          }),
          (t._onEventDoubleClick = function (e) {
            t._eventClick('onEventDoubleClick', e);
          }),
          (t._onEventRightClick = function (e) {
            t._eventClick('onEventRightClick', e);
          }),
          (t._onEventDragEnd = function (e) {
            t._hook('onEventDragEnd', e);
          }),
          (t._onEventDragStart = function (e) {
            t._hook('onEventDragStart', e);
          }),
          (t._onLabelHoverIn = function (e) {
            t._hoverTimer = setTimeout(function () {
              (t._isHover = !0), t._labelClick('onEventHoverIn', e);
            }, 150);
          }),
          (t._onLabelHoverOut = function (e) {
            clearTimeout(t._hoverTimer),
              t._isHover && ((t._isHover = !1), t._labelClick('onEventHoverOut', e));
          }),
          (t._onLabelClick = function (e) {
            t._handleMultipleSelect(e),
              t._hook('onLabelClick', e),
              t._labelClick('onEventClick', e),
              (t._isEventClick = !0),
              e.label || (t._moreLabelClicked = !0);
          }),
          (t._onLabelDoubleClick = function (e) {
            t._labelClick('onEventDoubleClick', e);
          }),
          (t._onLabelRightClick = function (e) {
            t._labelClick('onEventRightClick', e);
          }),
          (t._onCellClick = function (e) {
            t._resetSelection(), t._cellClick('onCellClick', e);
          }),
          (t._onCellDoubleClick = function (e) {
            t._cellClick('onCellDoubleClick', e);
          }),
          (t._onCellRightClick = function (e) {
            t._cellClick('onCellRightClick', e);
          }),
          (t._onPageChange = function (e) {
            setTimeout(function () {
              t._hidePopover();
            }),
              (t._isPageChange = !0),
              t._hook('onPageChange', e);
          }),
          (t._onPageLoading = function (e) {
            var n = t.s,
              s = Vn(t._events, e.viewStart, e.viewEnd, n);
            (t._colorsMap = Vn(n.colors, e.viewStart, e.viewEnd, n)),
              (t._invalidsMap = Vn(n.invalid, e.viewStart, e.viewEnd, n, !0)),
              (t._validsMap = Vn(n.valid, e.viewStart, e.viewEnd, n, !0)),
              (t._eventMap = s),
              (t._firstDay = nn(e.firstDay, n, t._firstWeekDay)),
              (t._lastDay = e.lastDay),
              n.labels || (!t._showEventLabels && !t._showEventCount)
                ? n.marked || (e.inst._marksMap = s)
                : (e.inst._labelsMap = s),
              e.viewChanged && t._hook('onPageLoading', e);
          }),
          (t._onPageLoaded = function (e) {
            (t._shouldAnimateScroll = t._isPageChange), (t._isPageChange = !1);
            var n = t._showEventList || t._showSchedule || t._showTimeline,
              s = t._showSchedule ? t._scheduleType : t._showTimeline ? t._timelineType : t._eventListType;
            if (n && (!t._showCalendar || 'day' !== s)) {
              var a = t.s,
                i = e.month,
                r = t._showEventList && i && 'month' === s,
                o = r ? i : e.firstDay,
                l = r ? a.getDate(a.getYear(i), a.getMonth(i) + t._eventListSize, 1) : e.lastDay;
              t._setEventList(o, l);
            }
            t._hook('onPageLoaded', e);
          }),
          (t._onPopoverClose = function () {
            t._hidePopover();
          }),
          (t._onResize = function (e) {
            var n;
            if (t._showEventList && m) {
              var s = e.target,
                a = s.offsetHeight,
                i = s.getBoundingClientRect().top;
              n = a - t._list.getBoundingClientRect().top + i > 170;
            }
            t.setState({ height: e.height, isListScrollable: n, width: e.width });
          }),
          (t._onSelectedEventsChange = function (e) {
            t._emit('selectedEventsChange', e), t._hook('onSelectedEventsChange', { events: e });
          }),
          (t._getDragDates = function (e, n, s) {
            for (
              var a = {}, i = t._firstWeekDay, r = Jt(t.s, s.allDay, e, n, !0), o = $t(pn(r, 1)), l = $t(e);
              l < o;
              l.setDate(l.getDate() + 1)
            ) {
              var c = l.getDay(),
                h = i - c > 0 ? 7 : 0;
              sn(e, l) || c === i
                ? (a[Zt(l)] = { event: s, width: 100 * Math.min(en(l, r) + 1, 7 + i - c - h) })
                : (a[Zt(l)] = {});
            }
            return a;
          }),
          (t._onLabelUpdateModeOn = function (e) {
            var n = e.create ? t._tempEvent : e.data;
            if (n) {
              var s = dn(n.start),
                a = dn(n.end || s);
              t.setState({
                isTouchDrag: !0,
                labelDragData: { draggedEvent: n, originDates: e.external ? U : t._getDragDates(s, a, n) },
              });
            }
          }),
          (t._onLabelUpdateModeOff = function (e) {
            var n = e.create ? t._tempEvent : e.data;
            t._hook('onEventDragEnd', { domEvent: e.domEvent, event: n, source: 'calendar' }),
              t.setState({ isTouchDrag: !1, labelDragData: U });
          }),
          (t._onLabelUpdateStart = function (e) {
            var n = t.s,
              s = t._el,
              a = t._showWeekNumbers
                ? s.querySelector('.mbsc-calendar-week-nr').getBoundingClientRect().width
                : 0,
              r =
                s.querySelectorAll('.mbsc-calendar-slide')[
                  'all' === t._calendarLabelList || K(t._calendarLabelList) ? 0 : 1
                ],
              o = r.getBoundingClientRect(),
              l = s.querySelector('.mbsc-calendar-week-days'),
              c = r.querySelectorAll('.mbsc-calendar-row'),
              h = /click/.test(e.domEvent.type);
            if (((t._areaTop = 0), l)) {
              var d = l.getBoundingClientRect();
              t._areaTop = d.top + d.height;
            }
            (t._areaLeft = o.left + (n.rtl ? 0 : a)),
              (t._areaBottom = o.top + o.height),
              (t._areaRight = t._areaLeft + o.width - (n.rtl ? a : 0)),
              (t._calCellWidth = (t._areaRight - t._areaLeft) / 7);
            var u = 0;
            if (
              ((t._rowTops = []),
              c.forEach(function (n, s) {
                var a = n.getBoundingClientRect().top - t._areaTop;
                t._rowTops.push(a), e.endY - t._areaTop > a && (u = s);
              }),
              e.create)
            ) {
              var _ = se((n.rtl ? t._areaRight - e.endX : e.endX - t._areaLeft) / t._calCellWidth),
                m = pn(t._firstDay, 7 * u + _),
                v = new Date(m.getFullYear(), m.getMonth(), m.getDate()),
                p = pn(v, 1),
                f = n.exclusiveEndDates ? p : new Date(+p - 1),
                g = n.extendDefaultEvent ? n.extendDefaultEvent({ start: v }) : U;
              t._tempEvent = i({ allDay: !0, end: f, id: ss(), start: v, title: n.newEventText }, e.event, g);
            }
            h ||
              t._hook('onEventDragStart', {
                domEvent: e.domEvent,
                event: e.create ? t._tempEvent : e.data,
                source: 'calendar',
              });
          }),
          (t._onLabelUpdateMove = function (e) {
            var n = t.s,
              s = e.create ? t._tempEvent : e.data,
              a = s.allDay ? U : n;
            if (
              e.endY > t._areaTop &&
              e.endY < t._areaBottom &&
              e.endX > t._areaLeft &&
              e.endX < t._areaRight
            ) {
              var r = t.state.labelDragData,
                o = se((n.rtl ? t._areaRight - e.endX : e.endX - t._areaLeft) / t._calCellWidth),
                l = se((n.rtl ? t._areaRight - e.startX : e.startX - t._areaLeft) / t._calCellWidth),
                c = 0,
                h = 0;
              t._rowTops.forEach(function (n, s) {
                e.startY - t._areaTop > n && (h = s), e.endY - t._areaTop > n && (c = s);
              });
              var d = 7 * (c - h) + (o - l);
              if (o !== t._tempDay || c !== t._tempWeek) {
                var u = dn(s.start, a),
                  _ = dn(s.end, a) || u,
                  m = i({}, s),
                  v = u,
                  p = _;
                if (e.external) {
                  var f = Kt(u),
                    g = +_ - +u;
                  (v = hn(n, +pn(t._firstDay, 7 * c + o) + f)), (p = hn(n, +v + g));
                } else if (e.drag) (v = pn(u, d)), (p = pn(_, d));
                else {
                  var y = n.rtl ? -1 : 1,
                    b = e.create ? (c === h ? e.deltaX * y > 0 : d > 0) : 'end' === e.direction,
                    D = en(u, _);
                  b ? (p = pn(_, Math.max(-D, d))) : (v = pn(u, Math.min(D, d))),
                    p < v && (b ? (p = hn(a, v)) : (v = hn(a, p)));
                }
                (m.start = v),
                  (m.end = p),
                  /mbsc-popover-hidden/.test(t._popoverClass) ||
                    (t._popoverClass = t._popoverClass + ' mbsc-popover-hidden'),
                  t.setState({
                    labelDragData: {
                      draggedDates: t._getDragDates(v, p, m),
                      draggedEvent: m,
                      originDates: r && r.originDates,
                    },
                  }),
                  (t._tempDay = o),
                  (t._tempWeek = c);
              }
            }
          }),
          (t._onLabelUpdateEnd = function (e) {
            var n = t.state,
              s = e.create,
              a = n.labelDragData || {},
              i = s ? t._tempEvent : e.data,
              r = a.draggedEvent || i,
              o = dn(i.start),
              l = dn(i.end),
              c = dn(r.start),
              h = dn(r.end),
              d = s || +o != +c || +l != +h,
              u = { allDay: i.allDay, endDate: h, original: i, startDate: c },
              _ = e.action || (a.draggedEvent ? 'drag' : 'click'),
              m =
                !d ||
                t._onEventDragStop({
                  action: _,
                  collision: rs(
                    t.s,
                    t._invalidsMap,
                    t._validsMap,
                    c,
                    h,
                    t._minDate,
                    t._maxDate,
                    t.s.invalidateEvent,
                    t.s.exclusiveEndDates,
                  ),
                  create: s,
                  domEvent: e.domEvent,
                  event: u,
                  source: 'calendar',
                }),
              v = n.isTouchDrag && (!s || m);
            v ||
              'click' === _ ||
              t._hook('onEventDragEnd', { domEvent: e.domEvent, event: i, source: 'calendar' }),
              t.setState({
                isTouchDrag: v,
                labelDragData: v
                  ? { draggedEvent: r, originDates: m ? t._getDragDates(c, h, u.original) : a.originDates }
                  : {},
              }),
              e.drag && t._hidePopover(),
              (t._tempWeek = -1),
              (t._tempDay = -1);
          }),
          (t._onEventDragStop = function (e) {
            var n = t.s,
              s = e.action,
              a = e.resource,
              r = e.slot,
              o = e.collision,
              l = e.create,
              c = e.source,
              h = e.event,
              d = h.original,
              u = d.recurring ? d.original : d,
              _ = i({}, u),
              m = i({}, u),
              v = Wt(d.start, n),
              p = Wt(h.startDate, n),
              f = Wt(h.endDate, n),
              g = h.allDay,
              y = m.recurring;
            y
              ? (m.recurringException = Wn(m.recurringException).concat([v]))
              : ((m.allDay = g),
                (m.start = p),
                (m.end = f),
                a !== U && (m.resource = a),
                r !== U && (m.slot = r));
            var b = !1,
              D = y ? i({}, u) : u;
            if (
              ((l || y) &&
                (y && delete D.recurring,
                (y || D.id === U) && (D.id = ss()),
                a !== U && (D.resource = a),
                r !== U && (D.slot = r),
                (D.start = p),
                (D.end = f),
                (D.allDay = g),
                (b =
                  !1 !==
                  t._hook(
                    'onEventCreate',
                    i({ action: s, domEvent: e.domEvent, event: D, source: c }, y && { originEvent: d }),
                  )),
                !1 !== o &&
                  ((b = !1),
                  t._hook(
                    'onEventCreateFailed',
                    i({ action: s, event: D, invalid: o, source: c }, y && { originEvent: d }),
                  ))),
              (l && !y) ||
                ((b =
                  !1 !==
                  t._hook(
                    'onEventUpdate',
                    i(
                      { domEvent: e.domEvent, event: m, oldEvent: _, source: c },
                      y && { newEvent: D, oldEventOccurrence: d },
                    ),
                  )),
                !1 !== o &&
                  ((b = !1),
                  t._hook(
                    'onEventUpdateFailed',
                    i(
                      { event: m, invalid: o, oldEvent: _, source: c },
                      y && { newEvent: D, oldEventOccurrence: d },
                    ),
                  ))),
              b &&
                ((l || y) && (t._events.push(D), (t._triggerCreated = { action: s, event: D, source: c })),
                (l && !y) ||
                  (y
                    ? ((h.id = D.id), (h.original = D), (u.recurringException = m.recurringException))
                    : ((u.start = p),
                      (u.end = f),
                      (u.allDay = g),
                      a !== U && (u.resource = a),
                      r !== U && (u.slot = r)),
                  (t._triggerUpdated = { event: u, oldEvent: _, source: c })),
                (t._refresh = !0),
                'calendar' !== c))
            ) {
              var C = void 0,
                x = void 0;
              t._showCalendar && 'day' === t._scheduleType
                ? (x = $t(pn((C = new Date(t._selected)), 1)))
                : ((C = t._firstDay), (x = t._lastDay)),
                (t._eventMap = Vn(t._events, C, x, n)),
                t.forceUpdate();
            }
            return b;
          }),
          (t._onExternalDrag = function (e) {
            if (t.s.externalDrop && t._showCalendar)
              switch (e.eventName) {
                case 'onDragModeOff':
                  t._onLabelUpdateModeOff(e);
                  break;
                case 'onDragModeOn':
                  t._onLabelUpdateModeOn(e);
                  break;
                case 'onDragStart':
                  t._onLabelUpdateStart(e);
                  break;
                case 'onDragMove':
                  var n = e.clone;
                  e.endY > t._areaTop &&
                  e.endY < t._areaBottom &&
                  e.endX > t._areaLeft &&
                  e.endX < t._areaRight
                    ? ((n.style.display = 'none'), t._onLabelUpdateMove(e), (t._onCalendar = !0))
                    : t._onCalendar &&
                      ((n.style.display = 'table'),
                      t.setState({ labelDragData: {} }),
                      (t._tempWeek = -1),
                      (t._tempDay = -1),
                      (t._onCalendar = !1));
                  break;
                case 'onDragEnd':
                  e.endY > t._areaTop &&
                  e.endY < t._areaBottom &&
                  e.endX > t._areaLeft &&
                  e.endX < t._areaRight
                    ? t._onLabelUpdateEnd(e)
                    : (t.setState({ labelDragData: U }),
                      t._hook('onEventDragEnd', {
                        domEvent: e.domEvent,
                        event: e.event,
                        source: 'calendar',
                      }));
              }
          }),
          (t._onEventDelete = function (e) {
            var n,
              s = t.s;
            if ((s.eventDelete !== U || s.dragToCreate || s.clickToCreate) && !1 !== s.eventDelete) {
              for (
                var a,
                  r,
                  o,
                  l = !1,
                  c = !1,
                  h = !1,
                  d = e.event,
                  u = s.selectMultipleEvents,
                  _ = u ? t._selectedEventsMap : (((n = {})[d.id] = d), n),
                  m = [],
                  v = [],
                  p = [],
                  f = {},
                  g = [],
                  y = 0,
                  b = le(_);
                y < b.length;
                y++
              ) {
                var D = b[y];
                if (D.recurring) {
                  c = !0;
                  var C = (a = D.original).id;
                  f[C]
                    ? (o = f[C])
                    : ((r = i({}, a)), (o = i({}, a)), v.push(a), m.push(r), p.push(o), (f[C] = o));
                  var x = Wt(D.start, s);
                  o.recurringException = Wn(o.recurringException).concat([x]);
                } else (h = !0), (d = D), g.push(D);
              }
              if (c)
                if (
                  !1 !==
                  t._hook('onEventUpdate', {
                    domEvent: e.domEvent,
                    event: o,
                    events: u ? p : U,
                    isDelete: !0,
                    oldEvent: u ? U : r,
                    oldEvents: u ? m : U,
                  })
                ) {
                  l = !0;
                  for (var k = 0, T = v; k < T.length; k++) {
                    var w = T[k],
                      S = f[w.id];
                    w.recurringException = S.recurringException;
                  }
                  t._triggerUpdated = {
                    event: a,
                    events: u ? v : U,
                    oldEvent: u ? U : r,
                    oldEvents: u ? m : U,
                    source: e.source,
                  };
                }
              if (h)
                !1 !== t._hook('onEventDelete', { domEvent: e.domEvent, event: d, events: u ? g : U }) &&
                  ((l = !0),
                  (t._events = t._events.filter(function (e) {
                    return !_[e.id];
                  })),
                  (t._selectedEventsMap = {}),
                  (t._triggerDeleted = { event: d, events: u ? g : U, source: e.source }));
              l && (t._hidePopover(), t.refresh());
            }
          }),
          (t._onKeyDown = function (e) {
            9 === e.keyCode && t._resetSelection();
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype.addEvent = function (e) {
          for (var t = [], n = 0, s = is(B(e) ? e : [e]); n < s.length; n++) {
            var a = s[n];
            t.push('' + a.id), this._events.push(a);
          }
          return this.refresh(), t;
        }),
        (t.prototype.getEvents = function (e, t) {
          return ns(this._events, this.s, this._firstDay, this._lastDay, e, t);
        }),
        (t.prototype.getInvalids = function (e, t) {
          return ns(this.s.invalid, this.s, this._firstDay, this._lastDay, e, t);
        }),
        (t.prototype.getSelectedEvents = function () {
          return le(this._selectedEventsMap);
        }),
        (t.prototype.setEvents = function (e) {
          for (var t = [], n = is(e), s = 0, a = n; s < a.length; s++) {
            var i = a[s];
            t.push('' + i.id);
          }
          return (this._events = n), this.refresh(), t;
        }),
        (t.prototype.setSelectedEvents = function (e) {
          (this._selectedEventsMap = (e || []).reduce(function (e, t) {
            return t.occurrenceId ? (e[t.occurrenceId] = t) : (e[t.id] = t), e;
          }, {})),
            this.forceUpdate();
        }),
        (t.prototype.removeEvent = function (e) {
          for (var t = B(e) ? e : [e], n = this._events, s = n.length, a = 0, i = t; a < i.length; a++)
            for (var r = i[a], o = !1, l = 0; !o && l < s; ) {
              var c = n[l];
              (c.id !== r && c.id !== r.id) || ((o = !0), n.splice(l, 1)), l++;
            }
          this.refresh();
        }),
        (t.prototype.navigate = function (e, t) {
          var n = +dn(e),
            s = n !== this._selectedDateTime;
          s && (this._shouldAnimateScroll = !!t),
            this.s.selectedDate === U
              ? (!this._showSchedule && !this._showTimeline) || s
                ? this.setState({ selectedDate: n })
                : (this._shouldScrollSchedule++, this.forceUpdate())
              : s && this._selectedChange(e);
        }),
        (t.prototype.updateEvent = function (e) {
          for (var t = B(e) ? e : [e], n = this._events, s = n.length, a = 0, r = t; a < r.length; a++)
            for (var o = r[a], l = !1, c = 0; !l && c < s; ) {
              n[c].id === o.id && ((l = !0), n.splice(c, 1, i({}, o))), c++;
            }
          this.refresh();
        }),
        (t.prototype.refresh = function () {
          (this._refresh = !0), this.forceUpdate();
        }),
        (t.prototype._isToday = function (e) {
          return sn(new Date(e), new Date());
        }),
        (t.prototype._render = function (e, t) {
          var n,
            s,
            a,
            i = this,
            r = this._prevS,
            o = this._showDate,
            l = e.displayTimezone !== r.displayTimezone || e.dataTimezone !== r.dataTimezone,
            c = !1;
          if (
            ((this._colorEventList = e.eventTemplate === U && e.renderEvent === U && e.colorEventList),
            e.exclusiveEndDates === U && (e.exclusiveEndDates = !!e.displayTimezone),
            G(e.min) ? (this._minDate = -1 / 0) : r.min !== e.min && (this._minDate = +dn(e.min)),
            G(e.max) ? (this._maxDate = 1 / 0) : r.max !== e.max && (this._maxDate = +dn(e.max)),
            e.selectedDate !== U
              ? (s = +dn(e.selectedDate))
              : (this._defaultDate ||
                  (this._defaultDate = +(e.defaultSelectedDate !== U
                    ? dn(e.defaultSelectedDate)
                    : new Date())),
                (s = t.selectedDate || this._defaultDate)),
            (this.eventList = t.eventList),
            e.data !== r.data && ((this._events = is(e.data)), (this._refresh = !0)),
            (e.invalid !== r.invalid || e.colors !== r.colors || l) && (this._refresh = !0),
            e.view !== r.view || e.firstDay !== r.firstDay)
          ) {
            var h = e.firstDay,
              d = e.view || {},
              u = d.agenda || {},
              _ = d.calendar || {},
              m = d.schedule || {},
              v = d.timeline || {},
              p = +(u.size || 1),
              f = u.type || 'month',
              g = +(m.size || 1),
              y = m.type || 'week',
              b = m.startDay !== U ? m.startDay : h,
              D = m.endDay !== U ? m.endDay : (h + 6) % 7,
              C = m.startTime,
              x = m.endTime,
              k = m.timeCellStep || 60,
              T = m.timeLabelStep || 60,
              w = m.timezones,
              S = !!d.calendar,
              E = _.count,
              M = !!d.agenda,
              N = !!d.schedule,
              L =
                m.days !== U
                  ? m.days
                  : !S && N && !('day' === y && e.resources && e.resources.length > 0 && g < 2),
              H = !!d.timeline,
              I = v.weekNumbers,
              O = v.startDay !== U ? v.startDay : h,
              z = v.endDay !== U ? v.endDay : (h + 6) % 7,
              Y = v.startTime,
              P = v.endTime,
              R = H && !!e.slots && e.slots.length > 0,
              F = v.eventList || R,
              W = +(v.size || 1),
              A = v.type || 'week',
              V = 'month' === A || 'year' === A || F ? 1440 : 60,
              B = R ? V : v.timeCellStep || V,
              K = R ? V : v.timeLabelStep || V,
              j = _.type || 'month',
              q =
                _.labels !== U
                  ? !!_.labels
                  : !(M || N || H || e.marked || 'year' === j || ('month' === j && _.size));
            (this._calendarScroll = _.scroll),
              (this._calendarSize = _.size || 1),
              (this._calendarLabelList = _.labels),
              (this._calendarType = j),
              (this._showEventPopover = _.popover),
              (this._showOuterDays = _.outerDays),
              (this._showWeekNumbers = _.weekNumbers),
              (this._popoverClass = _.popoverClass || ''),
              (this._showScheduleAllDay = m.allDay === U || m.allDay),
              (p === this._eventListSize &&
                f === this._eventListType &&
                S === this._showCalendar &&
                E === this._showEventCount &&
                q === this._showEventLabels &&
                M === this._showEventList &&
                g === this._scheduleSize &&
                y === this._scheduleType &&
                N === this._showSchedule &&
                L === this._showScheduleDays &&
                b === this._scheduleStartDay &&
                D === this._scheduleEndDay &&
                C === this._scheduleStartTime &&
                x === this._scheduleEndTime &&
                k === this._scheduleTimeCellStep &&
                T === this._scheduleTimeLabelStep &&
                H === this._showTimeline &&
                O === this._timelineStartDay &&
                z === this._timelineEndDay &&
                Y === this._timelineStartTime &&
                P === this._timelineEndTime &&
                W === this._timelineSize &&
                A === this._timelineType &&
                B === this._timelineTimeCellStep &&
                K === this._timelineTimeLabelStep &&
                F === this._timelineListing) ||
                (this._refresh = !0),
              (this._eventListSize = p),
              (this._eventListType = f),
              (this._scheduleType = y),
              (this._showCalendar = S),
              (this._showEventCount = E),
              (this._showEventLabels = q),
              (this._showEventList = M),
              (this._showSchedule = N),
              (this._showScheduleDays = L),
              (this._scheduleStartDay = b),
              (this._scheduleEndDay = D),
              (this._scheduleStartTime = C),
              (this._scheduleEndTime = x),
              (this._scheduleSize = g),
              (this._scheduleTimeCellStep = k),
              (this._scheduleTimeLabelStep = T),
              (this._scheduleTimezones = w),
              (this._showTimeline = H),
              (this._showTimelineWeekNumbers = I),
              (this._timelineSize = W),
              (this._timelineType = A),
              (this._timelineStartDay = O),
              (this._timelineEndDay = z),
              (this._timelineListing = F),
              (this._timelineStartTime = Y),
              (this._timelineEndTime = P),
              (this._timelineTimeCellStep = B),
              (this._timelineTimeLabelStep = K),
              (this._timelineRowHeight = v.rowHeight),
              (this._rangeType = N ? y : H ? A : f),
              (this._rangeStartDay = N ? b : H ? O : U),
              (this._rangeEndDay = N ? D : H ? z : U),
              (this._firstWeekDay = N ? b : H ? O : h),
              (this._viewChanged = !0);
          }
          if (
            ((this._showDate =
              !this._showScheduleDays &&
              ((this._showSchedule && 'day' === this._scheduleType) ||
                (this._showEventList && 'day' === this._eventListType && this._eventListSize < 2))),
            (this._refresh || e.locale !== r.locale || e.theme !== r.theme) && ((c = !0), this._pageLoad++),
            e.resources !== r.resources &&
              (this._resourcesMap = (e.resources || []).reduce(function (e, t) {
                return (e[t.id] = t), e;
              }, {})),
            e.selectMultipleEvents &&
              e.selectedEvents !== r.selectedEvents &&
              (this._selectedEventsMap = (e.selectedEvents || []).reduce(function (e, t) {
                return t.occurrenceId ? (e[t.occurrenceId] = t) : (e[t.id] = t), e;
              }, {})),
            this._selectedEventsMap === U && (this._selectedEventsMap = {}),
            e.refDate !== r.refDate && (this._refDate = dn(e.refDate)),
            this._refDate ||
              this._showCalendar ||
              (!this._showSchedule && !this._showTimeline) ||
              (this._refDate = $t(new Date())),
            s !== this._selectedDateTime || this._viewChanged)
          ) {
            var J =
              this._showCalendar && (this._showSchedule || this._showTimeline || this._showEventList)
                ? +(function (e, t, n, s, a, i, r) {
                    var o,
                      l,
                      c = !0,
                      h = !0,
                      d = 0,
                      u = 0;
                    +e < n && (e = hn(t, n)), +e > s && (e = hn(t, s));
                    var _ = t.getYear(e),
                      m = t.getMonth(e),
                      v = t.getDate(_, m - 1, 1),
                      p = t.getDate(_, m + 2, 1),
                      f = +v > n ? +v : n,
                      g = +p < s ? +p : s;
                    if (
                      (a || ((i = Vn(t.valid, v, p, t, !0)), (a = Vn(t.invalid, v, p, t, !0))),
                      !Xn(t, e, a, i, n, s))
                    )
                      return e;
                    for (o = e, l = e; c && +o < g && d < 100; ) (c = Xn(t, (o = pn(o, 1)), a, i, n, s)), d++;
                    for (; h && +l > f && u < 100; ) (h = Xn(t, (l = pn(l, -1)), a, i, n, s)), u++;
                    return c && h
                      ? e
                      : 1 !== r || c
                      ? -1 !== r || h
                        ? an(e, o, t)
                          ? o
                          : an(e, l, t)
                          ? l
                          : u >= d && !c
                          ? o
                          : l
                        : l
                      : o;
                  })(new Date(s), e, this._minDate, this._maxDate, U, U, 1)
                : X(s, this._minDate, this._maxDate);
            (J = this._getValidDay(J)),
              s !== J &&
                ((s = J),
                setTimeout(function () {
                  i._selectedChange(new Date(s));
                })),
              this._skipScheduleScroll || s === this._selectedDateTime || this._shouldScrollSchedule++,
              (this._selectedDateTime = s);
          }
          ((n = +(a = $t(new Date(s)))) === this._selected &&
            o === this._showDate &&
            e.locale === r.locale &&
            r.dateFormatLong === e.dateFormatLong) ||
            (this._selectedDateHeader = this._showDate ? _n(e.dateFormatLong, a, e) : ''),
            (n === this._selected &&
              e.dataTimezone === r.dataTimezone &&
              e.displayTimezone === r.displayTimezone) ||
              ((this._shouldScroll = !this._isPageChange && !this._shouldSkipScroll),
              (this._shouldAnimateScroll =
                this._shouldAnimateScroll !== U ? this._shouldAnimateScroll : this._selected !== U),
              (this._selected = n),
              (this._selectedDates = {}),
              (this._selectedDates[+cn(e, new Date(n))] = !0),
              (this._active = n),
              (c = !0)),
            c &&
              this._showCalendar &&
              ('day' === this._eventListType ||
                'day' === this._scheduleType ||
                'day' === this._timelineType) &&
              this._setEventList(a, pn(a, 1)),
            this._refresh &&
              t.showPopover &&
              setTimeout(function () {
                i._hidePopover();
              }),
            (this._refresh = !1),
            (this._cssClass =
              this._className +
              ' mbsc-eventcalendar' +
              (this._showEventList ? ' mbsc-eventcalendar-agenda' : '') +
              (this._showSchedule ? ' mbsc-eventcalendar-schedule' : '') +
              (this._showTimeline ? ' mbsc-eventcalendar-timeline' : ''));
        }),
        (t.prototype._mounted = function () {
          (this._unsubscribe = Ht(this._onExternalDrag)), Ye(this._el, ct, this._onKeyDown);
        }),
        (t.prototype._updated = function () {
          var e = this;
          if (
            (this._shouldScroll &&
              this.state.isListScrollable &&
              (this._scrollToDay(), (this._shouldScroll = !1), (this._shouldAnimateScroll = U)),
            this._shouldLoadDays &&
              ((this._shouldLoadDays = !1),
              Ge(this._list.querySelectorAll('[mbsc-timestamp]'), function (t) {
                e._listDays[t.getAttribute('mbsc-timestamp')] = t;
              })),
            this._shouldEnhance &&
              (this._shouldEnhance = 'popover' === this._shouldEnhance ? this._popoverList : this._list),
            this._triggerCreated)
          ) {
            var t = this._triggerCreated,
              n =
                'calendar' === t.source
                  ? this._calendarView._body.querySelector(
                      '.mbsc-calendar-table-active .mbsc-calendar-text[data-id="' + t.event.id + '"]',
                    )
                  : this._el.querySelector('.mbsc-schedule-event[data-id="' + t.event.id + '"]');
            this._hook('onEventCreated', i({}, this._triggerCreated, { target: n })),
              (this._triggerCreated = null);
          }
          if (this._triggerUpdated) {
            var s = this._triggerUpdated;
            n =
              'calendar' === s.source
                ? this._calendarView._body.querySelector(
                    '.mbsc-calendar-table-active .mbsc-calendar-text[data-id="' + s.event.id + '"]',
                  )
                : this._el.querySelector('.mbsc-schedule-event[data-id="' + s.event.id + '"]');
            this._hook('onEventUpdated', i({}, this._triggerUpdated, { target: n })),
              (this._triggerUpdated = null);
          }
          this._triggerDeleted &&
            (this._hook('onEventDeleted', i({}, this._triggerDeleted)), (this._triggerDeleted = null)),
            this._viewChanged &&
              setTimeout(function () {
                e._viewChanged = !1;
              }, 10),
            this._shouldSkipScroll &&
              setTimeout(function () {
                e._shouldSkipScroll = !1;
              }),
            (this._skipScheduleScroll = !1);
        }),
        (t.prototype._destroy = function () {
          It(this._unsubscribe), Pe(this._el, ct, this._onKeyDown);
        }),
        (t.prototype._resetSelection = function () {
          this.s.selectMultipleEvents &&
            Object.keys(this._selectedEventsMap).length > 0 &&
            ((this._selectedEventsMap = {}), this._onSelectedEventsChange([]), this.forceUpdate());
        }),
        (t.prototype._getAgendaEvents = function (e, t, n) {
          var s = this,
            a = [],
            i = this.s;
          if (n && this._showEventList)
            for (
              var r = function (e) {
                  var t = n[Zt(e)];
                  if (t && t.length) {
                    var r = Nn(t, i.eventOrder);
                    a.push({
                      date: _n(i.dateFormatLong, e, i),
                      events: r.map(function (t) {
                        return s._getEventData(t, e);
                      }),
                      timestamp: +e,
                    });
                  }
                },
                o = $t(e);
              o < t;
              o.setDate(o.getDate() + 1)
            )
              r(o);
          return a;
        }),
        (t.prototype._getEventData = function (e, t) {
          var n,
            s = this.s;
          if (!e.color && e.resource) {
            var a = B(e.resource) ? e.resource : [e.resource];
            n = (this._resourcesMap || {})[a[0]];
          }
          var i = as(s, e, t, this._colorEventList, s.timeFormat, s.allDayText, s.toText, n, !0);
          return (i.html = this._safeHtml(i.html)), i;
        }),
        (t.prototype._getValidDay = function (e, t) {
          void 0 === t && (t = 1);
          var n = this._rangeStartDay,
            s = this._rangeEndDay;
          if (!this._showCalendar && 'day' === this._rangeType && n !== U && s !== U) {
            var a = new Date(e),
              i = a.getDay(),
              r = 0;
            if (((s < n ? i > s && i < n : i > s || i < n) && (r = t < 0 ? s - i : n - i), r))
              return +pn(a, (r += t < 0 ? (r > 0 ? -7 : 0) : r < 0 ? 7 : 0));
          }
          return e;
        }),
        (t.prototype._setEventList = function (e, t) {
          var n = this;
          setTimeout(function () {
            (n._eventListHTML = U),
              (n._shouldScroll = !0),
              (n._listDays = null),
              n._scrollToDay(0),
              n.setState({ eventList: n._getAgendaEvents(e, t, n._eventMap) });
          });
        }),
        (t.prototype._hidePopover = function () {
          this.state.showPopover && this.setState({ showPopover: !1 });
        }),
        (t.prototype._scrollToDay = function (e) {
          var t = this;
          if (this._list) {
            var n = e,
              s = void 0;
            if (e === U && this._listDays) {
              var a = this._listDays[this._selected];
              a && ((n = a.offsetTop), (s = this._shouldAnimateScroll));
            }
            n !== U &&
              (this._isListScrolling++,
              Ke(this._list, U, n, s, !1, function () {
                setTimeout(function () {
                  t._isListScrolling--;
                }, 150);
              }));
          }
        }),
        (t.prototype._selectedChange = function (e) {
          this._emit('selectedDateChange', e), this._hook('onSelectedDateChange', { date: e });
        }),
        (t.prototype._cellClick = function (e, t) {
          this._hook(e, i({ target: t.domEvent.currentTarget }, t));
        }),
        (t.prototype._dayClick = function (e, t) {
          var n = Zt(t.date),
            s = Nn(this._eventMap[n], this.s.eventOrder);
          (t.events = s), this._hook(e, t);
        }),
        (t.prototype._labelClick = function (e, t) {
          t.label &&
            this._hook(e, { date: t.date, domEvent: t.domEvent, event: t.label, source: 'calendar' });
        }),
        (t.prototype._eventClick = function (e, t) {
          return (t.date = new Date(t.date)), this._hook(e, t);
        }),
        (t.prototype._handleMultipleSelect = function (e) {
          var t = e.label || e.event;
          if (t && this.s.selectMultipleEvents) {
            var n = e.domEvent,
              s = n.shiftKey || n.ctrlKey || n.metaKey ? this._selectedEventsMap : {},
              a = t.occurrenceId || t.id;
            s[a] ? delete s[a] : (s[a] = t),
              (this._selectedEventsMap = i({}, s)),
              this._onSelectedEventsChange(le(s)),
              this.s.selectedEvents === U && this.forceUpdate();
          }
        }),
        (t.defaults = i({}, xn, {
          actionableEvents: !0,
          allDayText: 'All-day',
          data: [],
          dragTimeStep: 15,
          newEventText: 'New event',
          noEventsText: 'No events',
          showControls: !0,
          showEventTooltip: !0,
          view: { calendar: { type: 'month' } },
        })),
        (t._name = 'Eventcalendar'),
        t
      );
    })(tt),
    gs = t.createContext,
    ys = t.createElement,
    bs = U,
    Ds = t.Fragment,
    Cs = t.PureComponent,
    xs = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._render = function (e) {
          (this._hasChildren = !q(e.name)),
            (this._cssClass =
              this._className +
              ' mbsc-icon' +
              this._theme +
              (e.name && !this._hasChildren
                ? -1 !== e.name.indexOf(' ')
                  ? ' ' + e.name
                  : ' mbsc-font-icon mbsc-icon-' + e.name
                : '')),
            (this._svg = e.svg ? this._safeHtml(e.svg) : U);
        }),
        t
      );
    })(tt),
    ks = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          return ys(
            'span',
            { onClick: e.onClick, className: this._cssClass, dangerouslySetInnerHTML: this._svg },
            this._hasChildren && e.name,
          );
        }),
        t
      );
    })(xs),
    Ts = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._mounted = function () {
          var e = this;
          this._unlisten = Nt(this._el, {
            click: !0,
            onBlur: function () {
              e.setState({ hasFocus: !1 });
            },
            onFocus: function () {
              e.setState({ hasFocus: !0 });
            },
            onHoverIn: function () {
              e.s.disabled || e.setState({ hasHover: !0 });
            },
            onHoverOut: function () {
              e.setState({ hasHover: !1 });
            },
            onKeyDown: function (t) {
              switch (t.keyCode) {
                case Bn:
                case Kn:
                  e._el.click(), t.preventDefault();
              }
            },
            onPress: function () {
              e.setState({ isActive: !0 });
            },
            onRelease: function () {
              e.setState({ isActive: !1 });
            },
            onStart: function () {
              return { ripple: e.s.ripple && !e.s.disabled };
            },
          });
        }),
        (t.prototype._render = function (e, t) {
          var n = this,
            s = e.disabled;
          (this._isIconOnly = !(!e.icon && !e.iconSvg)),
            (this._hasStartIcon = !(!e.startIcon && !e.startIconSvg)),
            (this._hasEndIcon = !(!e.endIcon && !e.endIconSvg)),
            (this._tabIndex = s ? U : e.tabIndex || 0),
            (this._cssClass =
              this._className +
              ' mbsc-reset mbsc-font mbsc-button' +
              this._theme +
              this._rtl +
              ' mbsc-button-' +
              e.variant +
              (this._isIconOnly ? ' mbsc-icon-button' : '') +
              (s ? ' mbsc-disabled' : '') +
              (e.color ? ' mbsc-button-' + e.color : '') +
              (t.hasFocus && !s ? ' mbsc-focus' : '') +
              (t.isActive && !s ? ' mbsc-active' : '') +
              (t.hasHover && !s ? ' mbsc-hover' : '')),
            (this._iconClass = 'mbsc-button-icon' + this._rtl),
            (this._startIconClass = this._iconClass + ' mbsc-button-icon-start'),
            (this._endIconClass = this._iconClass + ' mbsc-button-icon-end'),
            e.disabled &&
              t.hasHover &&
              setTimeout(function () {
                n.setState({ hasHover: !1 });
              });
        }),
        (t.prototype._destroy = function () {
          this._unlisten();
        }),
        (t.defaults = { ripple: !1, role: 'button', tag: 'button', variant: 'standard' }),
        (t._name = 'Button'),
        t
      );
    })(tt),
    ws = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          var t = this.props,
            n = t.ariaLabel,
            s = t.children;
          t.className, t.color;
          var a = t.endIcon;
          t.endIconSrc;
          var o = t.endIconSvg;
          t.hasChildren;
          var l = t.icon;
          t.iconSrc;
          var c = t.iconSvg;
          t.ripple, t.rtl;
          var h = t.role,
            d = t.startIcon;
          t.startIconSrc;
          var u = t.startIconSvg;
          t.tag, t.tabIndex, t.theme, t.themeVariant, t.variant;
          var _ = r(t, [
              'ariaLabel',
              'children',
              'className',
              'color',
              'endIcon',
              'endIconSrc',
              'endIconSvg',
              'hasChildren',
              'icon',
              'iconSrc',
              'iconSvg',
              'ripple',
              'rtl',
              'role',
              'startIcon',
              'startIconSrc',
              'startIconSvg',
              'tag',
              'tabIndex',
              'theme',
              'themeVariant',
              'variant',
            ]),
            m = i({ 'aria-label': n, className: this._cssClass, ref: this._setEl }, _),
            v = ys(
              Ds,
              null,
              this._isIconOnly && ys(ks, { className: this._iconClass, name: l, svg: c, theme: e.theme }),
              this._hasStartIcon &&
                ys(ks, { className: this._startIconClass, name: d, svg: u, theme: e.theme }),
              s,
              this._hasEndIcon && ys(ks, { className: this._endIconClass, name: a, svg: o, theme: e.theme }),
            );
          return 'span' === e.tag
            ? ys('span', i({ role: h, 'aria-disabled': e.disabled, tabIndex: this._tabIndex }, m), v)
            : 'a' === e.tag
            ? ys('a', i({ 'aria-disabled': e.disabled, tabIndex: this._tabIndex }, m), v)
            : ys('button', i({ role: h, tabIndex: this._tabIndex }, m), v);
        }),
        t
      );
    })(Ts),
    Ss = gs({}),
    Es = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype.componentWillUnmount = function () {
          this._changes && this._changes.unsubscribe(this._handler);
        }),
        (t.prototype.render = function () {
          var e = this,
            t = this.props,
            n = t.host,
            s = t.component,
            a = t.view,
            o = r(t, ['host', 'component', 'view']),
            l = a || (n && n._calendarView);
          return (
            l &&
              !this._changes &&
              ((this._changes = l.s.instanceService.onComponentChange),
              (this._handler = this._changes.subscribe(function () {
                e.forceUpdate();
              }))),
            ys(Ss.Consumer, null, function (e) {
              var t = e.instance || a || (n && n._calendarView);
              return t && ys(s, i({ inst: t }, o));
            })
          );
        }),
        t
      );
    })(Cs),
    Ms = function (e) {
      var t = e.inst,
        n = e.className;
      return ys(ws, {
        ariaLabel: t.s.prevPageText,
        className: 'mbsc-calendar-button ' + (n || ''),
        disabled: t._isPrevDisabled(),
        iconSvg: t._prevIcon,
        onClick: t.prevPage,
        theme: t.s.theme,
        themeVariant: t.s.themeVariant,
        type: 'button',
        variant: 'flat',
      });
    },
    Ns = function (e) {
      var t = e.inst,
        n = e.className;
      return ys(ws, {
        ariaLabel: t.s.nextPageText,
        disabled: t._isNextDisabled(),
        className: 'mbsc-calendar-button ' + (n || ''),
        iconSvg: t._nextIcon,
        onClick: t.nextPage,
        theme: t.s.theme,
        themeVariant: t.s.themeVariant,
        type: 'button',
        variant: 'flat',
      });
    },
    Ls = function (e) {
      var t = e.inst,
        n = e.className;
      return ys(
        ws,
        {
          className: 'mbsc-calendar-button mbsc-calendar-button-today ' + (n || ''),
          onClick: t._onTodayClick,
          theme: t.s.theme,
          themeVariant: t.s.themeVariant,
          type: 'button',
          variant: 'flat',
        },
        t.s.todayText,
      );
    },
    Hs = function (e) {
      var t = e.inst,
        n = e.className,
        s = t.s,
        a = t._theme,
        i = t._view;
      return ys(
        'div',
        { 'aria-live': 'polite', className: (n || '') + a },
        t._title.map(function (e, n) {
          return (
            (1 === t._pageNr || 0 === n || t._hasPicker || i === bn) &&
            ys(
              ws,
              {
                className: 'mbsc-calendar-button',
                'data-index': n,
                onClick: t._onPickerBtnClick,
                key: n,
                theme: s.theme,
                themeVariant: s.themeVariant,
                type: 'button',
                variant: 'flat',
              },
              (t._hasPicker || i === bn) &&
                (e.title
                  ? ys('span', { className: 'mbsc-calendar-title' + a }, e.title)
                  : ys(
                      Ds,
                      null,
                      t._yearFirst &&
                        ys('span', { className: 'mbsc-calendar-title mbsc-calendar-year' + a }, e.yearTitle),
                      ys('span', { className: 'mbsc-calendar-title mbsc-calendar-month' + a }, e.monthTitle),
                      !t._yearFirst &&
                        ys('span', { className: 'mbsc-calendar-title mbsc-calendar-year' + a }, e.yearTitle),
                    )),
              !t._hasPicker && i !== bn && ys('span', { className: 'mbsc-calendar-title' + a }, t._viewTitle),
              s.downIcon && 1 === t._pageNr
                ? ys(ks, { svg: i === bn ? s.downIcon : s.upIcon, theme: s.theme })
                : null,
            )
          );
        }),
      );
    },
    Is = function (e) {
      var t = e.calendar,
        n = e.view,
        s = r(e, ['calendar', 'view']);
      return ys(Es, i({ component: Ms, host: t, view: n }, s));
    };
  Is._name = 'CalendarPrev';
  var Os = function (e) {
    var t = e.calendar,
      n = e.view,
      s = r(e, ['calendar', 'view']);
    return ys(Es, i({ component: Ns, host: t, view: n }, s));
  };
  Os._name = 'CalendarNext';
  var zs = function (e) {
    var t = e.calendar,
      n = e.view,
      s = r(e, ['calendar', 'view']);
    return ys(Es, i({ component: Ls, host: t, view: n }, s));
  };
  zs._name = 'CalendarToday';
  var Ys = function (e) {
    var t = e.calendar,
      n = e.view,
      s = r(e, ['calendar', 'view']);
    return ys(Es, i({ component: Hs, host: t, view: n }, s));
  };
  Ys._name = 'CalendarNav';
  var Ps,
    Rs,
    Fs = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype.render = function () {
          var e = this.props.context;
          return e ? n.createPortal(this.props.children, e) : null;
        }),
        t
      );
    })(t.Component),
    Us = 0;
  function Ws(e, t, n) {
    var s,
      a,
      i,
      r,
      o,
      l,
      c,
      h = 0;
    function d() {
      (a.style.width = '100000px'),
        (a.style.height = '100000px'),
        (s.scrollLeft = 1e5),
        (s.scrollTop = 1e5),
        (l.scrollLeft = 1e5),
        (l.scrollTop = 1e5);
    }
    function u() {
      var e = +new Date();
      (r = 0), c || (e - h > 200 && !s.scrollTop && !s.scrollLeft && ((h = e), d()), r || (r = Se(u)));
    }
    function _() {
      o || (o = Se(m));
    }
    function m() {
      (o = 0), d(), t();
    }
    return (
      ye && ye.ResizeObserver
        ? (Ps ||
            (Ps = new ye.ResizeObserver(function (e) {
              o ||
                (o = Se(function () {
                  for (var t = 0, n = e; t < n.length; t++) {
                    var s = n[t];
                    s.target.__mbscResize && s.target.__mbscResize();
                  }
                  o = 0;
                }));
            })),
          Us++,
          (e.__mbscResize = function () {
            n ? n.run(t) : t();
          }),
          Ps.observe(e))
        : (i = ge && ge.createElement('div')),
      i &&
        ((i.innerHTML =
          '<div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-x"></div></div><div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-y"></div></div>'),
        (i.dir = 'ltr'),
        (l = i.childNodes[1]),
        (s = i.childNodes[0]),
        (a = s.childNodes[0]),
        e.appendChild(i),
        Ye(s, 'scroll', _),
        Ye(l, 'scroll', _),
        n
          ? n.runOutsideAngular(function () {
              Se(u);
            })
          : Se(u)),
      {
        detach: function () {
          Ps
            ? (Us--, delete e.__mbscResize, Ps.unobserve(e), Us || (Ps = U))
            : (i && (Pe(s, 'scroll', _), Pe(l, 'scroll', _), e.removeChild(i), Ee(o), (i = U)), (c = !0));
        },
      }
    );
  }
  var As = 'input,select,textarea,button',
    Vs = 'textarea,button,input[type="button"],input[type="submit"]',
    Xs = As + ',[tabindex="0"]',
    Bs = { enter: Bn, esc: 27, space: Kn },
    Ks = m && /(iphone|ipod)/i.test(p) && c >= 7 && c < 15;
  function js(e, t) {
    void 0 === t && (t = 0);
    var n = e._prevModal;
    if (n && n !== e && t < 10) return n.isVisible() ? n : js(n, t + 1);
  }
  var qs = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._lastFocus = +new Date()),
          (t._onOverlayClick = function () {
            t._isOpen && t.s.closeOnOverlayClick && !t._preventClose && t._close('overlay'),
              (t._preventClose = !1);
          }),
          (t._onDocClick = function (e) {
            t.s.showOverlay || e.target === t.s.focusElm || Rs !== t || t._onOverlayClick();
          }),
          (t._onMouseDown = function (e) {
            t.s.showOverlay || (t._target = e.target);
          }),
          (t._onMouseUp = function (e) {
            t._target &&
              t._popup &&
              t._popup.contains(t._target) &&
              !t._popup.contains(e.target) &&
              (t._preventClose = !0),
              (t._target = !1);
          }),
          (t._onPopupClick = function () {
            t.s.showOverlay || (t._preventClose = !0);
          }),
          (t._onAnimationEnd = function (e) {
            e.target === t._popup &&
              (t._isClosing &&
                (t._onClosed(),
                (t._isClosing = !1),
                t.state.isReady ? t.setState({ isReady: !1 }) : t.forceUpdate()),
              t._isOpening && (t._onOpened(), (t._isOpening = !1), t.forceUpdate()));
          }),
          (t._onButtonClick = function (e) {
            var n = e.domEvent,
              s = e.button;
            t._hook('onButtonClick', { domEvent: n, button: s }),
              /cancel|close|ok|set/.test(s.name) && t._close(s.name);
          }),
          (t._onFocus = function (e) {
            var n = +new Date();
            Rs === t &&
              e.target.nodeType &&
              t._ctx.contains(e.target) &&
              !t._popup.contains(e.target) &&
              n - t._lastFocus > 100 &&
              e.target !== t.s.focusElm &&
              ((t._lastFocus = n), t._active.focus());
          }),
          (t._onKeyDown = function (e) {
            var n = t.s,
              s = e.keyCode,
              a = n.focusElm && !n.focusOnOpen ? n.focusElm : U;
            if (
              (((s === Kn && !qe(e.target, As)) || (t._lock && (s === $n || s === es))) && e.preventDefault(),
              n.focusTrap && 9 === s)
            ) {
              var i = t._popup.querySelectorAll(Xs),
                r = [],
                o = -1,
                l = 0,
                c = -1,
                h = U;
              Ge(i, function (e) {
                e.disabled ||
                  (!e.offsetHeight && !e.offsetWidth) ||
                  (r.push(e), o++, e === t._doc.activeElement && (c = o));
              }),
                e.shiftKey && ((l = o), (o = 0)),
                c === o ? (h = a || r[l]) : e.target === a && (h = r[l]),
                h && (h.focus(), e.preventDefault());
            }
          }),
          (t._onContentScroll = function (e) {
            !t._lock || (e.type === gt && 'stylus' === e.touches[0].touchType) || e.preventDefault();
          }),
          (t._onScroll = function (e) {
            var n = t.s;
            n.closeOnScroll
              ? t._close('scroll')
              : (t._hasContext || 'anchored' === n.display) && t.position();
          }),
          (t._onWndKeyDown = function (e) {
            var n = t.s,
              s = e.keyCode;
            if (Rs === t) {
              if (
                (t._hook('onKeyDown', { keyCode: s }),
                n.closeOnEsc && 27 === s && t._close('esc'),
                s === Bn && qe(e.target, Vs) && !e.shiftKey)
              )
                return;
              if (t._buttons)
                for (var a = 0, i = t._buttons; a < i.length; a++)
                  for (var r = i[a], o = 0, l = B(r.keyCode) ? r.keyCode : [r.keyCode]; o < l.length; o++) {
                    var c = l[o];
                    if (!r.disabled && c !== U && (c === s || Bs[c] === s)) return void r.handler(e);
                  }
            }
          }),
          (t._onResize = function () {
            var e = t._wrapper,
              n = t._hasContext;
            (t._vpWidth = Math.min(e.clientWidth, n ? 1 / 0 : t._win.innerWidth)),
              (t._vpHeight = Math.min(e.clientHeight, n ? 1 / 0 : t._win.innerHeight)),
              (t._maxWidth = t._limitator.offsetWidth),
              (t._maxHeight =
                t.s.maxHeight !== U || t._vpWidth < 768 || t._vpHeight < 650
                  ? t._limitator.offsetHeight
                  : 600),
              (t._round =
                !1 === t.s.touchUi || (t._popup.offsetWidth < t._vpWidth && t._vpWidth > t._maxWidth));
            var s = {
              isLarge: t._round,
              maxPopupHeight: t._maxHeight,
              maxPopupWidth: t._maxWidth,
              target: t._wrapper,
              windowHeight: t._vpHeight,
              windowWidth: t._vpWidth,
            };
            !1 === t._hook('onResize', s) || s.cancel || t.position();
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype.open = function () {
          this._isOpen || this.setState({ isOpen: !0 });
        }),
        (t.prototype.close = function () {
          this._close();
        }),
        (t.prototype.isVisible = function () {
          return !!this._isOpen;
        }),
        (t.prototype.position = function () {
          if (this._isOpen) {
            var e = this.s,
              t = this.state,
              n = this._wrapper,
              s = this._popup,
              a = this._hasContext,
              i = e.anchor,
              r = e.anchorAlign,
              o = e.rtl,
              l = We(this._scrollCont),
              c = Ue(this._scrollCont),
              h = this._vpWidth,
              d = this._vpHeight,
              u = this._maxWidth,
              _ = this._maxHeight,
              m = Math.min(s.offsetWidth, u),
              v = Math.min(s.offsetHeight, _),
              p = e.showArrow;
            (this._lock = e.scrollLock && this._content.scrollHeight <= this._content.clientHeight),
              a && ((n.style.top = l + 'px'), (n.style.left = c + 'px'));
            var f =
              !1 ===
              this._hook('onPosition', {
                isLarge: this._round,
                maxPopupHeight: _,
                maxPopupWidth: u,
                target: this._wrapper,
                windowHeight: d,
                windowWidth: h,
              });
            if ('anchored' !== e.display || f)
              this.setState({ height: d, isReady: !0, showArrow: p, width: h });
            else {
              var g = 0,
                y = 0,
                b = X(t.modalLeft || 0, 8, h - m - 8),
                D = t.modalTop || 8,
                C = 'bottom',
                x = {},
                k = p ? 16 : 4,
                T = (n.offsetWidth - h) / 2,
                w = (n.offsetHeight - d) / 2;
              if (a) {
                var S = this._ctx.getBoundingClientRect();
                (y = S.top), (g = S.left);
              }
              if (i && this._ctx.contains(i)) {
                var E = i.getBoundingClientRect(),
                  M = E.top - y,
                  N = E.left - g,
                  L = i.offsetWidth,
                  H = i.offsetHeight;
                if (
                  ((b = X(
                    (b =
                      ('start' === r && !o) || ('end' === r && o)
                        ? N
                        : ('end' === r && !o) || ('start' === r && o)
                        ? N + L - m
                        : N - (m - L) / 2),
                    8,
                    h - m - 8,
                  )),
                  (D = M + H + k),
                  (x = { left: X(N + L / 2 - b - T, 30, m - 30) + 'px' }),
                  D + v + k > d)
                )
                  if (M - v - k > 0) (C = 'top'), (D = M - v - k);
                  else if (!e.disableLeftRight) {
                    var I = N - m - 8 > 0;
                    (I || N + L + m + 8 <= h) &&
                      ((D = X(M - (v - H) / 2, 8, d - v - 8)) + v + 8 > d && (D = Math.max(d - v - 8, 0)),
                      (x = { top: X(M + H / 2 - D - w, 30, v - 30) + 'px' }),
                      (C = I ? 'left' : 'right'),
                      (b = I ? N - m : N + L));
                  }
              }
              ('top' !== C && 'bottom' !== C) || (D + v + k > d && ((D = Math.max(d - v - k, 0)), (p = !1))),
                this.setState({
                  arrowPos: x,
                  bubblePos: C,
                  height: d,
                  isReady: !0,
                  modalLeft: b,
                  modalTop: D,
                  showArrow: p,
                  width: h,
                });
            }
          }
        }),
        (t.prototype._render = function (e, t) {
          'bubble' === e.display && (e.display = 'anchored');
          var n = e.animation,
            s = e.display,
            a = this._prevS,
            i = 'anchored' === s,
            r = 'inline' !== s,
            o = e.fullScreen && r,
            l = !!r && (e.isOpen === U ? t.isOpen : e.isOpen);
          if (
            (l &&
              (e.windowWidth !== a.windowWidth ||
                e.display !== a.display ||
                e.showArrow !== a.showArrow ||
                (e.anchor !== a.anchor && 'anchored' === e.display)) &&
              (this._shouldPosition = !0),
            (this._limits = { maxHeight: Q(e.maxHeight), maxWidth: Q(e.maxWidth) }),
            (this._style = {
              height: o ? '100%' : Q(e.height),
              left: i && t.modalLeft ? t.modalLeft + 'px' : '',
              maxHeight: Q(this._maxHeight || e.maxHeight),
              maxWidth: Q(this._maxWidth || e.maxWidth),
              top: i && t.modalTop ? t.modalTop + 'px' : '',
              width: o ? '100%' : Q(e.width),
            }),
            (this._hasContext = 'body' !== e.context && e.context !== U),
            (this._needsLock = Ks && !this._hasContext && 'anchored' !== s && e.scrollLock),
            (this._isModal = r),
            (this._flexButtons = 'center' === s || (!this._touchUi && !o && ('top' === s || 'bottom' === s))),
            n !== U && !0 !== n)
          )
            this._animation = q(n) ? n : '';
          else
            switch (s) {
              case 'bottom':
                this._animation = 'slide-up';
                break;
              case 'top':
                this._animation = 'slide-down';
                break;
              default:
                this._animation = 'pop';
            }
          e.buttons
            ? e.buttons !== a.buttons &&
              (this._buttons = (function (e, t) {
                var n = e.s,
                  s = [],
                  a = {
                    cancel: { cssClass: 'mbsc-popup-button-close', name: 'cancel', text: n.cancelText },
                    close: { cssClass: 'mbsc-popup-button-close', name: 'close', text: n.closeText },
                    ok: { cssClass: 'mbsc-popup-button-primary', keyCode: Bn, name: 'ok', text: n.okText },
                    set: { cssClass: 'mbsc-popup-button-primary', keyCode: Bn, name: 'set', text: n.setText },
                  };
                if (t && t.length)
                  return (
                    t.forEach(function (t) {
                      var n = q(t) ? a[t] || { text: t } : t;
                      (n.handler && !q(n.handler)) ||
                        (q(n.handler) && (n.name = n.handler),
                        (n.handler = function (t) {
                          e._onButtonClick({ domEvent: t, button: n });
                        })),
                        s.push(n);
                    }),
                    s
                  );
              })(this, e.buttons))
            : (this._buttons = U),
            e.headerText !== a.headerText &&
              (this._headerText = e.headerText ? this._safeHtml(e.headerText) : U),
            l && !this._isOpen && this._onOpen(),
            !l && this._isOpen && this._onClose(),
            (this._isOpen = l),
            (this._isVisible = l || this._isClosing);
        }),
        (t.prototype._updated = function () {
          var e = this,
            t = this.s;
          if (
            ge &&
            (t.context !== this._prevS.context || !this._ctx) &&
            ((n = q(t.context) ? ge.querySelector(t.context) : t.context) || (n = ge.body),
            (n.__mbscLock = n.__mbscLock || 0),
            (n.__mbscIOSLock = n.__mbscIOSLock || 0),
            (n.__mbscModals = n.__mbscModals || 0),
            (this._ctx = n),
            this._justOpened)
          )
            return void re(this, function () {
              e.forceUpdate();
            });
          if (this._justOpened) {
            var n = this._ctx,
              s = this._wrapper,
              a = this._hasContext,
              i = (this._doc = Re(s)),
              r = (this._win = Ae(s)),
              o = i.activeElement;
            if (!this._hasWidth && t.responsive) {
              var l = Math.min(s.clientWidth, a ? 1 / 0 : r.innerWidth),
                c = Math.min(s.clientHeight, a ? 1 / 0 : r.innerHeight);
              if (((this._hasWidth = !0), l !== this.state.width || c !== this.state.height))
                return void re(this, function () {
                  e.setState({ height: c, width: l });
                });
            }
            if (
              ((this._scrollCont = a ? n : r),
              (this._observer = Ws(s, this._onResize, this._zone)),
              (this._prevFocus = t.focusElm || o),
              n.__mbscModals++,
              t.focusOnOpen &&
                o &&
                setTimeout(function () {
                  o.blur();
                }),
              this._needsLock)
            ) {
              if (!n.__mbscIOSLock) {
                var h = We(this._scrollCont),
                  d = Ue(this._scrollCont);
                (n.style.left = -d + 'px'),
                  (n.style.top = -h + 'px'),
                  (n.__mbscScrollLeft = d),
                  (n.__mbscScrollTop = h),
                  n.classList.add('mbsc-popup-open-ios'),
                  n.parentNode.classList.add('mbsc-popup-open-ios');
              }
              n.__mbscIOSLock++;
            }
            a && n.classList.add('mbsc-popup-ctx'),
              t.focusTrap && Ye(r, lt, this._onFocus),
              t.focusElm && !t.focusOnOpen && Ye(t.focusElm, ct, this._onKeyDown),
              Ye(this._scrollCont, gt, this._onContentScroll, { passive: !1 }),
              Ye(this._scrollCont, Dt, this._onContentScroll, { passive: !1 }),
              Ye(this._scrollCont, vt, this._onContentScroll, { passive: !1 }),
              setTimeout(function () {
                Ye(i, ht, e._onMouseDown), Ye(i, ut, e._onMouseUp), Ye(i, at, e._onDocClick);
              }),
              this._hook('onOpen', { target: this._wrapper });
          }
          this._shouldPosition &&
            re(this, function () {
              e._onResize();
            }),
            (this._justOpened = !1),
            (this._justClosed = !1),
            (this._shouldPosition = !1);
        }),
        (t.prototype._destroy = function () {
          this._isOpen && (this._onClosed(), this._unlisten(), Rs === this && (Rs = js(this)));
        }),
        (t.prototype._onOpen = function () {
          var e = this;
          Me && this._animation ? ((this._isOpening = !0), (this._isClosing = !1)) : this._onOpened(),
            (this._justOpened = !0),
            (this._preventClose = !1),
            Rs !== this &&
              setTimeout(function () {
                (e._prevModal = Rs), (Rs = e);
              });
        }),
        (t.prototype._onClose = function () {
          var e = this;
          Me && this._animation
            ? ((this._isClosing = !0), (this._isOpening = !1))
            : setTimeout(function () {
                e._onClosed(), e.setState({ isReady: !1 });
              }),
            (this._hasWidth = !1),
            this._unlisten();
        }),
        (t.prototype._onOpened = function () {
          var e = this.s;
          if (e.focusOnOpen) {
            var t = e.activeElm,
              n = t ? (q(t) ? this._popup.querySelector(t) || this._active : t) : this._active;
            n && n.focus && n.focus();
          }
          Ye(this._win, ct, this._onWndKeyDown), Ye(this._scrollCont, pt, this._onScroll);
        }),
        (t.prototype._onClosed = function () {
          var e,
            t,
            n = this,
            s = this._ctx,
            a = this._prevFocus && this._prevFocus.focus && this.s.focusOnClose;
          s.mbscModals--,
            (this._justClosed = !0),
            this._needsLock &&
              (s.__mbscIOSLock--,
              s.__mbscIOSLock ||
                (s.classList.remove('mbsc-popup-open-ios'),
                s.parentNode.classList.remove('mbsc-popup-open-ios'),
                (s.style.left = ''),
                (s.style.top = ''),
                (e = this._scrollCont),
                (t = s.__mbscScrollLeft),
                e.scrollTo ? e.scrollTo(t, e.scrollY) : (e.scrollLeft = t),
                (function (e, t) {
                  e.scrollTo ? e.scrollTo(e.scrollX, t) : (e.scrollTop = t);
                })(this._scrollCont, s.__mbscScrollTop))),
            this._hasContext && !s.mbscModals && s.classList.remove('mbsc-popup-ctx'),
            this._hook('onClosed', { focus: a }),
            a && this._prevFocus.focus(),
            setTimeout(function () {
              Rs === n && (Rs = js(n));
            });
        }),
        (t.prototype._unlisten = function () {
          Pe(this._win, ct, this._onWndKeyDown),
            Pe(this._scrollCont, pt, this._onScroll),
            Pe(this._scrollCont, gt, this._onContentScroll, { passive: !1 }),
            Pe(this._scrollCont, Dt, this._onContentScroll, { passive: !1 }),
            Pe(this._scrollCont, vt, this._onContentScroll, { passive: !1 }),
            Pe(this._doc, ht, this._onMouseDown),
            Pe(this._doc, ut, this._onMouseUp),
            Pe(this._doc, at, this._onDocClick),
            this.s.focusTrap && Pe(this._win, lt, this._onFocus),
            this.s.focusElm && Pe(this.s.focusElm, ct, this._onKeyDown),
            this._observer && (this._observer.detach(), (this._observer = null));
        }),
        (t.prototype._close = function (e) {
          this._isOpen &&
            (this.s.isOpen === U && this.setState({ isOpen: !1 }), this._hook('onClose', { source: e }));
        }),
        (t.defaults = {
          buttonVariant: 'flat',
          cancelText: 'Cancel',
          closeOnEsc: !0,
          closeOnOverlayClick: !0,
          closeText: 'Close',
          contentPadding: !0,
          display: 'center',
          focusOnClose: !0,
          focusOnOpen: !0,
          focusTrap: !0,
          maxWidth: 600,
          okText: 'Ok',
          scrollLock: !0,
          setText: 'Set',
          showArrow: !0,
          showOverlay: !0,
        }),
        t
      );
    })(tt),
    Gs = Fs,
    Js = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._setActive = function (e) {
            t._active = e;
          }),
          (t._setContent = function (e) {
            t._content = e;
          }),
          (t._setLimitator = function (e) {
            t._limitator = e;
          }),
          (t._setPopup = function (e) {
            t._popup = e;
          }),
          (t._setWrapper = function (e) {
            t._wrapper = e;
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._template = function (e, t) {
          var n = this,
            s = this._hb,
            a = this._rtl,
            i = this._theme,
            r = e.display;
          return this._isModal
            ? this._isVisible
              ? ys(
                  Gs,
                  { context: this._ctx },
                  ys(
                    'div',
                    {
                      className:
                        'mbsc-font mbsc-popup-wrapper mbsc-popup-wrapper-' +
                        r +
                        i +
                        a +
                        ' ' +
                        this._className +
                        (e.fullScreen ? ' mbsc-popup-wrapper-' + r + '-full' : '') +
                        (this._touchUi ? '' : ' mbsc-popup-pointer') +
                        (this._round ? ' mbsc-popup-round' : '') +
                        (this._hasContext ? ' mbsc-popup-wrapper-ctx' : '') +
                        (t.isReady ? '' : ' mbsc-popup-hidden'),
                      ref: this._setWrapper,
                      onKeyDown: this._onKeyDown,
                    },
                    e.showOverlay &&
                      ys('div', {
                        className:
                          'mbsc-popup-overlay mbsc-popup-overlay-' +
                          r +
                          i +
                          (this._isClosing ? ' mbsc-popup-overlay-out' : '') +
                          (this._isOpening && t.isReady ? ' mbsc-popup-overlay-in' : ''),
                        onClick: this._onOverlayClick,
                      }),
                    ys('div', {
                      className: 'mbsc-popup-limits mbsc-popup-limits-' + r,
                      ref: this._setLimitator,
                      style: this._limits,
                    }),
                    ys(
                      'div',
                      {
                        className:
                          'mbsc-popup ' +
                          i +
                          s +
                          ' mbsc-popup-' +
                          r +
                          (e.fullScreen ? '-full' : '') +
                          (t.bubblePos && t.showArrow && 'anchored' === r
                            ? ' mbsc-popup-anchored-' + t.bubblePos
                            : '') +
                          (this._isClosing ? ' mbsc-popup-' + this._animation + '-out' : '') +
                          (this._isOpening && t.isReady ? ' mbsc-popup-' + this._animation + '-in' : ''),
                        role: 'dialog',
                        'aria-modal': 'true',
                        ref: this._setPopup,
                        style: this._style,
                        onClick: this._onPopupClick,
                        onAnimationEnd: this._onAnimationEnd,
                      },
                      'anchored' === r &&
                        t.showArrow &&
                        ys(
                          'div',
                          {
                            className: 'mbsc-popup-arrow-wrapper mbsc-popup-arrow-wrapper-' + t.bubblePos + i,
                          },
                          ys('div', {
                            className: 'mbsc-popup-arrow mbsc-popup-arrow-' + t.bubblePos + i,
                            style: t.arrowPos,
                          }),
                        ),
                      ys('div', { className: 'mbsc-popup-focus', tabIndex: -1, ref: this._setActive }),
                      ys(
                        'div',
                        {
                          className:
                            'mbsc-popup-body mbsc-popup-body-' +
                            r +
                            i +
                            s +
                            (e.fullScreen ? ' mbsc-popup-body-' + r + '-full' : '') +
                            (this._round ? ' mbsc-popup-body-round' : ''),
                        },
                        this._headerText &&
                          ys('div', {
                            className:
                              'mbsc-popup-header mbsc-popup-header-' +
                              r +
                              i +
                              s +
                              (this._buttons ? '' : ' mbsc-popup-header-no-buttons'),
                            dangerouslySetInnerHTML: this._headerText,
                          }),
                        ys(
                          'div',
                          {
                            className: 'mbsc-popup-content' + (e.contentPadding ? ' mbsc-popup-padding' : ''),
                            ref: this._setContent,
                          },
                          e.children,
                        ),
                        this._buttons &&
                          ys(
                            'div',
                            {
                              className:
                                'mbsc-popup-buttons mbsc-popup-buttons-' +
                                r +
                                i +
                                a +
                                s +
                                (this._flexButtons ? ' mbsc-popup-buttons-flex' : '') +
                                (e.fullScreen ? ' mbsc-popup-buttons-' + r + '-full' : ''),
                            },
                            this._buttons.map(function (t, i) {
                              return ys(
                                ws,
                                {
                                  color: t.color,
                                  className:
                                    'mbsc-popup-button mbsc-popup-button-' +
                                    r +
                                    a +
                                    s +
                                    (n._flexButtons ? ' mbsc-popup-button-flex' : '') +
                                    ' ' +
                                    (t.cssClass || ''),
                                  icon: t.icon,
                                  disabled: t.disabled,
                                  key: i,
                                  theme: e.theme,
                                  themeVariant: e.themeVariant,
                                  variant: t.variant || e.buttonVariant,
                                  onClick: t.handler,
                                },
                                t.text,
                              );
                            }),
                          ),
                      ),
                    ),
                  ),
                )
              : null
            : ys(Ds, null, e.children);
        }),
        t
      );
    })(qs);
  function Zs(e, t, n, s) {
    var a;
    if (!(t < n || t > s)) {
      if (B(e)) {
        var i = e.length,
          r = t % i;
        a = e[r >= 0 ? r : r + i];
      } else a = e(t);
      return a;
    }
  }
  var $s = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._currPos = 0),
          (t._delta = 0),
          (t._endPos = 0),
          (t._lastRaf = 0),
          (t._maxSnapScroll = 0),
          (t._margin = 0),
          (t._scrollEnd = ie(function () {
            Ee(t._raf), (t._raf = !1), t._onEnd(), (t._hasScrolled = !1);
          }, 200)),
          (t._onStart = function (e) {
            var n = t.s;
            t._hook('onStart', {}),
              (n.changeOnEnd && t._isScrolling) ||
                (!n.mouseSwipe && !e.isTouch) ||
                !n.swipe ||
                ((t._started = !0),
                (t._hasScrolled = t._isScrolling),
                (t._currX = e.startX),
                (t._currY = e.startY),
                (t._delta = 0),
                (t._velocityX = 0),
                (t._velocityY = 0),
                (t._startPos = Ve(t._scrollEl, t._isVertical)),
                (t._timestamp = +new Date()),
                t._isScrolling && (Ee(t._raf), (t._raf = !1), t._scroll(t._startPos)));
          }),
          (t._onMove = function (e) {
            var n = e.domEvent,
              s = t.s;
            t._isVertical || s.scrollLock || t._hasScrolled
              ? n.cancelable && n.preventDefault()
              : n.type === gt && (Math.abs(e.deltaY) > 7 || !s.swipe) && (t._started = !1),
              t._started &&
                ((t._delta = t._isVertical ? e.deltaY : e.deltaX),
                (t._hasScrolled || Math.abs(t._delta) > t._threshold) &&
                  (t._hasScrolled || t._hook('onGestureStart', {}),
                  (t._hasScrolled = !0),
                  (t._isScrolling = !0),
                  t._raf ||
                    (t._raf = Se(function () {
                      return t._move(e);
                    }))));
          }),
          (t._onEnd = function () {
            if (((t._started = !1), t._hasScrolled)) {
              var e,
                n = t.s,
                s = 17 * (t._isVertical ? t._velocityY : t._velocityX),
                a = t._maxSnapScroll,
                i = t._delta;
              (i += s * s * 0.5 * (s < 0 ? -1 : 1)), a && (i = X(i, -t._round * a, t._round * a));
              var r = X(ne((t._startPos + i) / t._round) * t._round, t._min, t._max),
                o = ne((-r * t._rtlNr) / n.itemSize) + t._offset,
                l = i > 0 ? (t._isVertical ? 270 : 360) : t._isVertical ? 90 : 180,
                c = o - n.selectedIndex;
              (e = n.time || Math.max(1e3, 3 * Math.abs(r - t._currPos))),
                t._hook('onGestureEnd', { direction: l, index: o }),
                (t._delta = 0),
                t._scroll(r, e),
                c &&
                  !n.changeOnEnd &&
                  (t._hook('onIndexChange', { index: o, diff: c }),
                  n.selectedIndex === t._prevIndex && n.selectedIndex !== o && t.forceUpdate());
            }
          }),
          (t._onClick = function (e) {
            t._hasScrolled && ((t._hasScrolled = !1), e.stopPropagation(), e.preventDefault());
          }),
          (t._onScroll = function (e) {
            (e.target.scrollTop = 0), (e.target.scrollLeft = 0);
          }),
          (t._onMouseWheel = function (e) {
            var n = t._isVertical ? (e.deltaY === U ? e.wheelDelta || e.detail : e.deltaY) : e.deltaX;
            if (t._el.contains(e.target) && n && t.s.mousewheel) {
              if (
                (e.preventDefault(),
                t._hook('onStart', {}),
                t._started ||
                  ((t._delta = 0),
                  (t._velocityX = 0),
                  (t._velocityY = 0),
                  (t._startPos = t._currPos),
                  t._hook('onGestureStart', {})),
                e.deltaMode && 1 === e.deltaMode && (n *= 15),
                (n = X(-n, -t._scrollSnap, t._scrollSnap)),
                (t._delta += n),
                t._maxSnapScroll && Math.abs(t._delta) > t._round * t._maxSnapScroll && (n = 0),
                t._startPos + t._delta < t._min && ((t._startPos = t._min), (t._delta = 0), (n = 0)),
                t._startPos + t._delta > t._max && ((t._startPos = t._max), (t._delta = 0), (n = 0)),
                t._raf ||
                  (t._raf = Se(function () {
                    return t._move();
                  })),
                !n && t._started)
              )
                return;
              (t._hasScrolled = !0), (t._isScrolling = !0), (t._started = !0), t._scrollEnd();
            }
          }),
          (t._onTrackStart = function (e) {
            e.stopPropagation();
            var n = { domEvent: e, startX: xt(e, 'X', !0), startY: xt(e, 'Y', !0) };
            if (
              (t._onStart(n),
              (t._trackStartX = n.startX),
              (t._trackStartY = n.startY),
              e.target === t._scrollbarEl)
            )
              Ye(t._doc, ut, t._onTrackEnd), Ye(t._doc, dt, t._onTrackMove);
            else {
              var s = je(t._scrollbarContEl).top,
                a = (n.startY - s) / t._barContSize;
              (t._startPos = t._currPos = t._max + (t._min - t._max) * a), (t._hasScrolled = !0), t._onEnd();
            }
          }),
          (t._onTrackMove = function (e) {
            var n = t._barContSize,
              s = xt(e, 'X', !0),
              a = xt(e, 'Y', !0),
              i = (t._isVertical ? a - t._trackStartY : s - t._trackStartX) / n;
            t._isInfinite
              ? (t._delta = -(t._maxSnapScroll * t._round * 2 + n) * i)
              : (t._delta = (t._min - t._max - n) * i),
              (t._hasScrolled || Math.abs(t._delta) > t._threshold) &&
                (t._hasScrolled || t._hook('onGestureStart', {}),
                (t._hasScrolled = !0),
                (t._isScrolling = !0),
                t._raf ||
                  (t._raf = Se(function () {
                    return t._move({ endX: s, endY: a }, !t._isInfinite);
                  })));
          }),
          (t._onTrackEnd = function () {
            (t._delta = 0),
              (t._startPos = t._currPos),
              t._onEnd(),
              Pe(t._doc, ut, t._onTrackEnd),
              Pe(t._doc, dt, t._onTrackMove);
          }),
          (t._onTrackClick = function (e) {
            e.stopPropagation();
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._render = function (e, t) {
          var n = this._prevS,
            s = e.batchSize,
            a = e.batchSize3d,
            i = e.itemNr || 1,
            r = e.itemSize,
            o = e.selectedIndex,
            l = n.selectedIndex,
            c = t.index === U ? o : t.index,
            h = [],
            d = [],
            u = o - l,
            _ = c - this._currIndex,
            m = e.minIndex,
            v = e.maxIndex,
            p = e.items,
            f = e.offset;
          (this._currIndex = c),
            (this._isVertical = 'Y' === e.axis),
            (this._threshold = this._isVertical ? e.thresholdY : e.thresholdX),
            (this._rtlNr = !this._isVertical && e.rtl ? -1 : 1),
            (this._round = e.snap ? r : 1);
          for (var g = this._round; g > 44; ) g /= 2;
          if (((this._scrollSnap = ne(44 / g) * g), p)) {
            for (var y = c - s; y < c + i + s; y++) h.push({ key: y, data: Zs(p, y, m, v) });
            if (e.scroll3d) for (y = c - a; y < c + i + a; y++) d.push({ key: y, data: Zs(p, y, m, v) });
            (this.visibleItems = h),
              (this.visible3dItems = d),
              (this._maxSnapScroll = s),
              (this._isInfinite = 'function' == typeof p);
          }
          this._offset === U && (this._offset = o);
          var b = -(o - this._offset) * r * this._rtlNr;
          if (Math.abs(u) > s && b !== this._endPos) {
            var D = u + s * (u > 0 ? -1 : 1);
            (this._offset += D), (this._margin -= D);
          }
          if (
            (f && f !== n.offset && ((this._offset += f), (this._margin -= f)),
            _ && (this._margin += _),
            (this._max = m !== U ? -(m - this._offset) * r * this._rtlNr : 1 / 0),
            (this._min =
              v !== U ? -(v - this._offset - (e.spaceAround ? 0 : i - 1)) * r * this._rtlNr : -1 / 0),
            -1 === this._rtlNr)
          ) {
            var C = this._min;
            (this._min = this._max), (this._max = C);
          }
          this._min > this._max && (this._min = this._max);
          var x = e.visibleSize * r;
          (this._barContSize = x),
            (this._barSize = Math.max(20, (x * x) / (this._max - this._min + x))),
            (this._cssClass = this._className + ' mbsc-ltr');
        }),
        (t.prototype._mounted = function () {
          (this._doc = Re(this._el)),
            Ye(this._el, at, this._onClick, !0),
            Ye(this.s.scroll3d ? this._innerEl : this._el, pt, this._onScroll),
            Ye(this._doc, vt, this._onMouseWheel, { passive: !1, capture: !0 }),
            Ye(this._doc, Dt, this._onMouseWheel, { passive: !1, capture: !0 }),
            Ye(this._scrollbarContEl, ht, this._onTrackStart),
            Ye(this._scrollbarContEl, at, this._onTrackClick),
            (this._unlisten = Nt(this._el, {
              onEnd: this._onEnd,
              onMove: this._onMove,
              onStart: this._onStart,
              prevDef: !0,
            }));
        }),
        (t.prototype._updated = function () {
          var e = this.s,
            t = e.batchSize,
            n = e.itemSize,
            s = e.selectedIndex,
            a = this._prevIndex,
            i = !e.prevAnim && ((a !== U && a !== s) || this._isAnimating),
            r = -(s - this._offset) * n * this._rtlNr;
          e.margin &&
            (this._scrollEl.style.marginTop = this._isVertical ? (this._margin - t) * n + 'px' : ''),
            this._started || this._scroll(r, i ? this._isAnimating || e.time || 1e3 : 0),
            (this._prevIndex = s);
        }),
        (t.prototype._destroy = function () {
          Pe(this._el, at, this._onClick, !0),
            Pe(this.s.scroll3d ? this._innerEl : this._el, pt, this._onScroll),
            Pe(this._doc, vt, this._onMouseWheel, { passive: !1, capture: !0 }),
            Pe(this._doc, Dt, this._onMouseWheel, { passive: !1, capture: !0 }),
            Pe(this._scrollbarContEl, ht, this._onTrackStart),
            Pe(this._scrollbarContEl, at, this._onTrackClick),
            Ee(this._raf),
            (this._raf = !1),
            this._scroll(0),
            this._unlisten();
        }),
        (t.prototype._anim = function (e) {
          var t = this;
          return (this._raf = Se(function () {
            var n = t.s,
              s = +new Date();
            if (t._raf) {
              if ((t._currPos - t._endPos) * -e < 4)
                return (
                  (t._currPos = t._endPos),
                  (t._raf = !1),
                  (t._isAnimating = 0),
                  (t._isScrolling = !1),
                  t._infinite(t._currPos),
                  t._hook('onAnimationEnd', {}),
                  void t._scrollbarContEl.classList.remove('mbsc-scroller-bar-started')
                );
              s - t._lastRaf > 100 &&
                ((t._lastRaf = s),
                (t._currPos = Ve(t._scrollEl, t._isVertical)),
                n.changeOnEnd || t._infinite(t._currPos)),
                (t._raf = t._anim(e));
            }
          }));
        }),
        (t.prototype._infinite = function (e) {
          var t = this.s;
          if (t.itemSize) {
            var n = ne((-e * this._rtlNr) / t.itemSize) + this._offset,
              s = n - this._currIndex;
            s &&
              (t.changeOnEnd
                ? this._hook('onIndexChange', { index: n, diff: s })
                : this.setState({ index: n }));
          }
        }),
        (t.prototype._scroll = function (e, t) {
          var n = this.s,
            s = n.itemSize,
            a = this._isVertical,
            i = this._scrollEl.style,
            r = Ie ? Ie + 'T' : 't',
            o = t ? Oe + 'transform ' + ne(t) + 'ms ' + n.easing : '';
          if (
            ((i[r + 'ransform'] = 'translate3d(' + (a ? '0,' + e + 'px,' : e + 'px,0,') + '0)'),
            (i[r + 'ransition'] = o),
            (this._endPos = e),
            n.scroll3d)
          ) {
            var l = this._scrollEl3d.style,
              c = 360 / (2 * n.batchSize3d);
            (l[r + 'ransform'] = 'translateY(-50%) rotateX(' + (-e / s) * c + 'deg)'),
              (l[r + 'ransition'] = o);
          }
          if (this._scrollbarEl) {
            var h = this._scrollbarEl.style,
              d = this._isInfinite
                ? (this._maxSnapScroll * this._round - this._delta) / (this._maxSnapScroll * this._round * 2)
                : (e - this._max) / (this._min - this._max),
              u = X((this._barContSize - this._barSize) * d, 0, this._barContSize - this._barSize);
            (h[r + 'ransform'] = 'translate3d(' + (a ? '0,' + u + 'px,' : u + 'px,0,') + '0)'),
              (h[r + 'ransition'] = o);
          }
          t
            ? (Ee(this._raf),
              (this._isAnimating = t),
              this._scrollbarContEl.classList.add('mbsc-scroller-bar-started'),
              (this._raf = this._anim(e > this._currPos ? 1 : -1)))
            : ((this._currPos = e), n.changeOnEnd || this._infinite(e));
        }),
        (t.prototype._move = function (e, t) {
          var n = this._currX,
            s = this._currY,
            a = this._timestamp,
            i = this._maxSnapScroll;
          if (e) {
            (this._currX = e.endX), (this._currY = e.endY), (this._timestamp = +new Date());
            var r = this._timestamp - a;
            if (r > 0 && r < 100) {
              var o = (this._currX - n) / r,
                l = (this._currY - s) / r;
              (this._velocityX = 0.7 * o + 0.3 * this._velocityX),
                (this._velocityY = 0.7 * l + 0.3 * this._velocityY);
            }
          }
          i && !t && (this._delta = X(this._delta, -this._round * i, this._round * i)),
            this._scroll(
              X(this._startPos + this._delta, this._min - this.s.itemSize, this._max + this.s.itemSize),
            ),
            (this._raf = !1);
        }),
        (t.defaults = {
          axis: 'Y',
          batchSize: 40,
          easing: 'cubic-bezier(0.190, 1.000, 0.220, 1.000)',
          mouseSwipe: !0,
          mousewheel: !0,
          prevDef: !0,
          selectedIndex: 0,
          spaceAround: !0,
          stopProp: !0,
          swipe: !0,
          thresholdX: 10,
          thresholdY: 5,
        }),
        t
      );
    })(tt),
    Qs = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._setInnerEl = function (e) {
            t._innerEl = e;
          }),
          (t._setScrollEl = function (e) {
            t._scrollEl = e;
          }),
          (t._setScrollEl3d = function (e) {
            t._scrollEl3d = e;
          }),
          (t._setScrollbarEl = function (e) {
            t._scrollbarEl = e;
          }),
          (t._setScrollbarContEl = function (e) {
            t._scrollbarContEl = e;
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          var t,
            n = this,
            s = e.children;
          return (
            e.itemRenderer &&
              ((s = this.visibleItems.map(function (t) {
                return e.itemRenderer(t, n._offset);
              })),
              e.scroll3d &&
                (t = this.visible3dItems.map(function (t) {
                  return e.itemRenderer(t, n._offset, !0);
                }))),
            ys(
              'div',
              { ref: this._setEl, className: this._cssClass, style: e.styles },
              ys(
                'div',
                { ref: this._setInnerEl, className: e.innerClass, style: e.innerStyles },
                ys('div', { ref: this._setScrollEl, className: 'mbsc-scrollview-scroll' + this._rtl }, s),
              ),
              e.scroll3d &&
                ys(
                  'div',
                  {
                    ref: this._setScrollEl3d,
                    style: { height: e.itemSize + 'px' },
                    className: 'mbsc-scroller-items-3d',
                  },
                  t,
                ),
              ys(
                'div',
                {
                  ref: this._setScrollbarContEl,
                  className:
                    'mbsc-scroller-bar-cont ' +
                    this._rtl +
                    (e.scrollBar && this._barSize !== this._barContSize ? '' : ' mbsc-scroller-bar-hidden') +
                    (this._started ? ' mbsc-scroller-bar-started' : ''),
                },
                ys('div', {
                  className: 'mbsc-scroller-bar' + this._theme,
                  ref: this._setScrollbarEl,
                  style: { height: this._barSize + 'px' },
                }),
              ),
            )
          );
        }),
        t
      );
    })($s),
    ea = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._onClick = function (e) {
            t._cellClick('onDayClick', e);
          }),
          (t._onRightClick = function (e) {
            t._cellClick('onDayRightClick', e);
          }),
          (t._onLabelClick = function (e) {
            t._labelClick('onLabelClick', e);
          }),
          (t._onLabelDoubleClick = function (e) {
            t._labelClick('onLabelDoubleClick', e);
          }),
          (t._onLabelRightClick = function (e) {
            t._labelClick('onLabelRightClick', e);
          }),
          (t._onLabelHoverIn = function (e) {
            t._labelClick('onLabelHoverIn', e);
          }),
          (t._onLabelHoverOut = function (e) {
            t._labelClick('onLabelHoverOut', e);
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._mounted = function () {
          var e,
            t,
            n,
            s = this;
          this._unlisten = Nt(this._el, {
            click: !0,
            onBlur: function () {
              s.setState({ hasFocus: !1 });
            },
            onDoubleClick: function (e) {
              var t = s.s;
              t.clickToCreate &&
                'single' !== t.clickToCreate &&
                t.labels &&
                !t.disabled &&
                t.display &&
                (s._hook('onLabelUpdateStart', e), s._hook('onLabelUpdateEnd', e)),
                s._cellClick('onDayDoubleClick', e.domEvent);
            },
            onEnd: function (a) {
              e && (a.domEvent.preventDefault(), s._hook('onLabelUpdateEnd', a), (e = !1)),
                clearTimeout(n),
                (e = !1),
                (t = !1);
            },
            onFocus: function () {
              s.setState({ hasFocus: !0 });
            },
            onHoverIn: function (e) {
              var t = s.s;
              t.disabled || s.setState({ hasHover: !0 }),
                s._hook('onHoverIn', {
                  date: new Date(t.date),
                  domEvent: e,
                  hidden: !t.display,
                  outer: t.outer,
                  target: s._el,
                });
            },
            onHoverOut: function (e) {
              var t = s.s;
              s.setState({ hasHover: !1 }),
                s._hook('onHoverOut', {
                  date: new Date(t.date),
                  domEvent: e,
                  hidden: !t.display,
                  outer: t.outer,
                  target: s._el,
                });
            },
            onKeyDown: function (e) {
              switch (e.keyCode) {
                case Bn:
                case Kn:
                  e.preventDefault(), s._onClick(e);
              }
            },
            onMove: function (a) {
              e && s.s.dragToCreate
                ? (a.domEvent.preventDefault(), s._hook('onLabelUpdateMove', a))
                : t && s.s.dragToCreate && (Math.abs(a.deltaX) > 7 || Math.abs(a.deltaY) > 7)
                ? ((e = !a.isTouch), s._hook('onLabelUpdateStart', a))
                : clearTimeout(n);
            },
            onStart: function (a) {
              var i = s.s;
              ((a.create = !0), i.disabled || (!i.dragToCreate && !i.clickToCreate) || !i.labels || e) ||
                (function (e, t, n) {
                  for (; e && !qe(e, t); ) {
                    if (e === n || e.nodeType === e.DOCUMENT_NODE) return null;
                    e = e.parentNode;
                  }
                  return e;
                })(a.domEvent.target, '.mbsc-calendar-text', s._el) ||
                (a.isTouch && i.dragToCreate
                  ? (n = setTimeout(function () {
                      s._hook('onLabelUpdateStart', a), s._hook('onLabelUpdateModeOn', a), (e = !0);
                    }, 350))
                  : 'single' === i.clickToCreate
                  ? (s._hook('onLabelUpdateStart', a), (e = !0))
                  : (t = !a.isTouch));
            },
          });
        }),
        (t.prototype._render = function (e, t) {
          var n = new Date(),
            s = e.date,
            a = e.colors,
            i = e.display,
            r = e.dragData,
            o = e.hoverEnd,
            l = e.hoverStart,
            c = e.labels,
            h = e.rangeEnd,
            d = e.rangeStart,
            u = new Date(s),
            _ = Zt(u),
            m = sn(n, u),
            v = c && c.events,
            p = a && a[0],
            f = p && p.background,
            g = p && p.highlight,
            y = '',
            b = '';
          (this._draggedLabel = r && r.draggedDates && r.draggedDates[_]),
            (this._draggedLabelOrig = r && r.originDates && r.originDates[_]),
            (this._todayClass = m ? ' mbsc-calendar-today' : ''),
            (this._cellStyles = f && i ? { backgroundColor: f, color: Xe(f) } : U),
            (this._circleStyles = g ? { backgroundColor: g, color: Xe(p.highlight) } : U),
            (this._ariaLabel =
              'day' === e.type
                ? (m ? e.todayText + ', ' : '') + e.day + ', ' + e.month + ' ' + e.text + ', ' + e.year
                : 'month' === e.type
                ? e.month
                : ''),
            i &&
              (((d && s >= d && s <= (h || d)) || (h && s <= h && s >= (d || h))) &&
                (b =
                  ' mbsc-range-day' +
                  (s === (d || h) ? ' mbsc-range-day-start' : '') +
                  (s === (h || d) ? ' mbsc-range-day-end' : '')),
              l &&
                o &&
                s >= l &&
                s <= o &&
                (b +=
                  ' mbsc-range-hover' +
                  (s === l ? ' mbsc-range-hover-start mbsc-hover' : '') +
                  (s === o ? ' mbsc-range-hover-end mbsc-hover' : ''))),
            e.marks &&
              e.marks.forEach(function (e) {
                y += e.cellCssClass ? ' ' + e.cellCssClass : '';
              }),
            a &&
              a.forEach(function (e) {
                y += e.cellCssClass ? ' ' + e.cellCssClass : '';
              }),
            v &&
              v.forEach(function (e) {
                y += e.cellCssClass ? ' ' + e.cellCssClass : '';
              }),
            (this._cssClass =
              'mbsc-calendar-cell mbsc-flex-1-0-0 mbsc-calendar-' +
              e.type +
              this._theme +
              this._rtl +
              this._hb +
              y +
              (c ? ' mbsc-calendar-day-labels' : '') +
              (a ? ' mbsc-calendar-day-colors' : '') +
              (e.outer ? ' mbsc-calendar-day-outer' : '') +
              (e.hasMarks ? ' mbsc-calendar-day-marked' : '') +
              (e.disabled ? ' mbsc-disabled' : '') +
              (i ? '' : ' mbsc-calendar-day-empty') +
              (e.selected ? ' mbsc-selected' : '') +
              (t.hasFocus ? ' mbsc-focus' : '') +
              (!t.hasHover || (s !== l && s !== o && (l || o)) ? '' : ' mbsc-hover') +
              (this._draggedLabel ? ' mbsc-calendar-day-highlight' : '') +
              b),
            (this._data = { date: u, events: v, selected: e.selected });
        }),
        (t.prototype._destroy = function () {
          this._unlisten();
        }),
        (t.prototype._cellClick = function (e, t) {
          var n = this.s;
          n.display &&
            this._hook(e, {
              date: new Date(n.date),
              disabled: n.disabled,
              domEvent: t,
              outer: n.outer,
              selected: n.selected,
              source: 'calendar',
              target: this._el,
            });
        }),
        (t.prototype._labelClick = function (e, t) {
          var n = this.s;
          (t.date = new Date(n.date)), (t.labels = n.labels.events), this._hook(e, t);
        }),
        t
      );
    })(tt),
    ta = {},
    na = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._onClick = function (e) {
            if (t._isDrag) e.stopPropagation();
            else {
              t._triggerEvent('onClick', e);
              var n = t.s,
                s = ta[n.id];
              s && n.selected && s.next({ hasFocus: !1 });
            }
          }),
          (t._onRightClick = function (e) {
            t._triggerEvent('onRightClick', e);
          }),
          (t._onDocTouch = function (e) {
            Pe(t._doc, ft, t._onDocTouch),
              Pe(t._doc, ht, t._onDocTouch),
              (t._isDrag = !1),
              t._hook('onDragModeOff', { data: t.s.event });
          }),
          (t._updateState = function (e) {
            t.s.showText && t.setState(e);
          }),
          (t._triggerEvent = function (e, n) {
            t._hook(e, { domEvent: n, label: t.s.event, target: t._el });
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._mounted = function () {
          var e,
            t = this,
            n = this.s,
            s = n.id,
            a = n.isPicker,
            r = ta[s];
          r || ((r = new d()), (ta[s] = r)),
            (this._unsubscribe = r.subscribe(this._updateState)),
            (this._doc = Re(this._el)),
            (this._unlisten = Nt(this._el, {
              keepFocus: !0,
              onBlur: function () {
                a || r.next({ hasFocus: !1 });
              },
              onDoubleClick: function (e) {
                e.domEvent.stopPropagation(),
                  t._hook('onDoubleClick', { domEvent: e.domEvent, label: t.s.event, target: t._el });
              },
              onEnd: function (n) {
                if (t._isDrag) {
                  var s = t.s,
                    a = i({}, n);
                  a.domEvent.preventDefault(),
                    (a.data = s.event),
                    s.resize && e ? ((a.resize = !0), (a.direction = e)) : s.drag && (a.drag = !0),
                    t._hook('onDragEnd', a),
                    s.isUpdate || (t._isDrag = !1);
                }
                clearTimeout(t._touchTimer), (e = U);
              },
              onFocus: function () {
                a || r.next({ hasFocus: !0 });
              },
              onHoverIn: function (e) {
                t._isDrag || a || (r.next({ hasHover: !0 }), t._triggerEvent('onHoverIn', e));
              },
              onHoverOut: function (e) {
                r.next({ hasHover: !1 }), t._triggerEvent('onHoverOut', e);
              },
              onKeyDown: function (e) {
                var n = t.s.event;
                switch (e.keyCode) {
                  case Bn:
                  case Kn:
                    t._el.click(), e.preventDefault();
                    break;
                  case 8:
                  case 46:
                    n &&
                      !1 !== n.editable &&
                      t._hook('onDelete', { domEvent: e, event: n, source: 'calendar' });
                }
              },
              onMove: function (n) {
                var s = t.s,
                  a = i({}, n);
                if (((a.data = s.event), e)) (a.resize = !0), (a.direction = e);
                else {
                  if (!s.drag) return;
                  a.drag = !0;
                }
                s.event &&
                  !1 !== s.event.editable &&
                  (t._isDrag
                    ? (a.domEvent.preventDefault(), t._hook('onDragMove', a))
                    : (Math.abs(a.deltaX) > 7 || Math.abs(a.deltaY) > 7) &&
                      (clearTimeout(t._touchTimer),
                      a.isTouch || ((t._isDrag = !0), t._hook('onDragStart', a))));
              },
              onStart: function (n) {
                var s = t.s,
                  a = i({}, n),
                  r = a.domEvent.target;
                if (((a.data = s.event), s.resize && r.classList.contains('mbsc-calendar-label-resize')))
                  (e = r.classList.contains('mbsc-calendar-label-resize-start') ? 'start' : 'end'),
                    (a.resize = !0),
                    (a.direction = e);
                else {
                  if (!s.drag) return;
                  a.drag = !0;
                }
                s.event &&
                  !1 !== s.event.editable &&
                  ((!t._isDrag && a.isTouch) || a.domEvent.stopPropagation(),
                  t._isDrag
                    ? t._hook('onDragStart', a)
                    : a.isTouch &&
                      (t._touchTimer = setTimeout(function () {
                        t._hook('onDragModeOn', a), t._hook('onDragStart', a), (t._isDrag = !0);
                      }, 350)));
              },
            })),
            this._isDrag && (Ye(this._doc, ft, this._onDocTouch), Ye(this._doc, ht, this._onDocTouch));
        }),
        (t.prototype._destroy = function () {
          if (this._unsubscribe) {
            var e = this.s.id,
              t = ta[e];
            t && (t.unsubscribe(this._unsubscribe), t.nr || delete ta[e]);
          }
          this._unlisten && this._unlisten(),
            Pe(this._doc, ft, this._onDocTouch),
            Pe(this._doc, ht, this._onDocTouch);
        }),
        (t.prototype._render = function (e, t) {
          var n,
            s,
            a,
            i,
            r,
            o = e.event,
            l = new Date(e.date),
            c = e.render || e.renderContent,
            h = !1;
          if (
            ((this._isDrag = this._isDrag || e.isUpdate),
            (this._html = this._content = U),
            (this._title =
              e.more || e.count || !e.showEventTooltip
                ? U
                : (function (e) {
                    if (ge && e) {
                      var t = ge.createElement('div');
                      return (t.innerHTML = e), t.textContent.trim();
                    }
                    return e || '';
                  })(o.tooltip || o.title || o.text)),
            (this._tabIndex = e.isActiveMonth && e.showText && !e.count && !e.isPicker ? 0 : -1),
            o)
          ) {
            var d = o.allDay,
              u = d ? U : e;
            (n = o.start ? dn(o.start, u) : null), (s = o.end ? dn(o.end, u) : null);
            var _ = n && s && Jt(e, d, n, s, !0),
              m = pn(nn(l, e), 7),
              v = e.lastDay && e.lastDay < m ? e.lastDay : m;
            (a = !(h = n && _ && !sn(n, _)) || (n && sn(n, l))),
              (i = !h || (_ && sn(_, l))),
              (r = !h || (e.showText ? _ < v : i)),
              (this._hasResizeStart = e.resize && a),
              (this._hasResizeEnd = e.resize && r);
            var p = o.color;
            if (!p && o.resource && e.resourcesMap) {
              var f = e.resourcesMap[B(o.resource) ? o.resource[0] : o.resource];
              p = f && f.color;
            }
            e.showText && (this._textColor = p ? Xe(p) : U),
              (this._color = e.render || e.template ? U : o.textColor && !p ? 'transparent' : p);
          }
          if (o && e.showText && (c || e.contentTemplate || e.template)) {
            var g = o.allDay || !n || (h && !a && !i);
            if (
              ((this._data = {
                end: !g && i && s ? _n(e.timeFormat, s, e) : '',
                id: o.id,
                isMultiDay: h,
                original: o,
                start: !g && a && n ? _n(e.timeFormat, n, e) : '',
                title: this._title,
              }),
              c)
            ) {
              var y = c(this._data);
              q(y) ? ((this._html = this._safeHtml(y)), (this._shouldEnhance = !0)) : (this._content = y);
            }
          } else this._html = this._safeHtml(e.more || e.count || (e.showText && (o.title || o.text)) || '');
          this._cssClass =
            'mbsc-calendar-text' +
            this._theme +
            this._rtl +
            ((t.hasFocus && !e.inactive && !e.selected) || (e.selected && e.showText)
              ? ' mbsc-calendar-label-active '
              : '') +
            (!t.hasHover || e.inactive || this._isDrag ? '' : ' mbsc-calendar-label-hover') +
            (e.more
              ? ' mbsc-calendar-text-more'
              : e.render || e.template
              ? ' mbsc-calendar-custom-label'
              : ' mbsc-calendar-label') +
            (e.inactive ? ' mbsc-calendar-label-inactive' : '') +
            (e.isUpdate ? ' mbsc-calendar-label-dragging' : '') +
            (e.hidden ? ' mbsc-calendar-label-hidden' : '') +
            (a ? ' mbsc-calendar-label-start' : '') +
            (r ? ' mbsc-calendar-label-end' : '') +
            (o && !1 === o.editable ? ' mbsc-readonly-event' : '');
        }),
        t
      );
    })(tt),
    sa = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          var t = e.event && !1 !== e.event.editable;
          return ys(
            'div',
            {
              'aria-hidden': e.showText ? U : 'true',
              className: this._cssClass,
              'data-id': e.showText && e.event ? e.event.id : null,
              onClick: this._onClick,
              onContextMenu: this._onRightClick,
              ref: this._setEl,
              role: e.showText ? 'button' : U,
              style: { color: this._color },
              tabIndex: this._tabIndex,
              title: this._title,
            },
            this._hasResizeStart &&
              t &&
              ys('div', {
                className:
                  'mbsc-calendar-label-resize mbsc-calendar-label-resize-start' +
                  this._rtl +
                  (e.isUpdate ? ' mbsc-calendar-label-resize-start-touch' : ''),
              }),
            this._hasResizeEnd &&
              t &&
              ys('div', {
                className:
                  'mbsc-calendar-label-resize mbsc-calendar-label-resize-end' +
                  this._rtl +
                  (e.isUpdate ? ' mbsc-calendar-label-resize-end-touch' : ''),
              }),
            e.showText &&
              !e.more &&
              !e.render &&
              ys('div', { className: 'mbsc-calendar-label-background' + this._theme }),
            e.showText && !e.more && e.render
              ? this._html
                ? ys('div', { dangerouslySetInnerHTML: this._html })
                : this._content
              : ys(
                  'div',
                  { className: 'mbsc-calendar-label-inner' + this._theme, style: { color: this._textColor } },
                  ys(
                    'div',
                    {
                      'aria-hidden': 'true',
                      className: 'mbsc-calendar-label-text' + this._theme,
                      dangerouslySetInnerHTML: this._html,
                      style: { color: e.event && e.event.textColor },
                    },
                    this._content,
                  ),
                  e.label && ys('div', { className: 'mbsc-hidden-content' }, e.label),
                ),
          );
        }),
        t
      );
    })(na),
    aa = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._renderEvent = function (e, t, n, s, a, i) {
          return ys(sa, {
            key: i,
            amText: e.amText,
            count: t.count ? t.count + ' ' + (t.count > 1 ? e.eventsText : e.eventText) : U,
            date: e.date,
            dataTimezone: e.dataTimezone,
            displayTimezone: e.displayTimezone,
            drag: e.dragToMove,
            resize: e.dragToResize,
            event: t.event,
            exclusiveEndDates: e.exclusiveEndDates,
            firstDay: e.firstDay,
            hidden: s,
            id: t.id,
            inactive:
              !a &&
              t.event &&
              e.dragData &&
              e.dragData.draggedEvent &&
              t.event.id === e.dragData.draggedEvent.id,
            isActiveMonth: e.isActiveMonth,
            isPicker: e.isPicker,
            isUpdate: a,
            label: t.label,
            lastDay: t.lastDay,
            more: t.more,
            pmText: e.pmText,
            resourcesMap: e.resourcesMap,
            rtl: e.rtl,
            selected:
              t.event &&
              e.selectedEventsMap &&
              (e.selectedEventsMap[t.id] || e.selectedEventsMap[t.event.id]),
            showEventTooltip: e.showEventTooltip,
            showText: n,
            theme: e.theme,
            timeFormat: e.timeFormat,
            timezonePlugin: e.timezonePlugin,
            render: e.renderLabel,
            renderContent: e.renderLabelContent,
            onClick: this._onLabelClick,
            onDoubleClick: this._onLabelDoubleClick,
            onRightClick: this._onLabelRightClick,
            onHoverIn: this._onLabelHoverIn,
            onHoverOut: this._onLabelHoverOut,
            onDelete: e.onLabelDelete,
            onDragStart: e.onLabelUpdateStart,
            onDragMove: e.onLabelUpdateMove,
            onDragEnd: e.onLabelUpdateEnd,
            onDragModeOn: e.onLabelUpdateModeOn,
            onDragModeOff: e.onLabelUpdateModeOff,
          });
        }),
        (t.prototype._renderLabel = function (e, t) {
          var n = t.id;
          return t.placeholder
            ? ys('div', { className: 'mbsc-calendar-text mbsc-calendar-text-placeholder', key: n })
            : t.more || t.count
            ? this._renderEvent(e, t, !0, !1, !1, n)
            : t.multiDay
            ? [
                ys(
                  'div',
                  { className: 'mbsc-calendar-label-wrapper', style: { width: t.width + '%' }, key: n },
                  this._renderEvent(e, t, !0),
                ),
                this._renderEvent(e, t, !1, !1, !1, '-' + n),
              ]
            : this._renderEvent(e, t, t.showText, !1, !1, n);
        }),
        (t.prototype._template = function (e) {
          var t,
            n = this,
            s = this._draggedLabel,
            a = this._draggedLabelOrig,
            i = this._theme;
          return (
            e.renderDay && (t = e.renderDay(this._data)),
            e.renderDayContent && (t = e.renderDayContent(this._data)),
            q(t) &&
              ((t = ys('div', { dangerouslySetInnerHTML: this._safeHtml(t) })), (this._shouldEnhance = !0)),
            ys(
              'div',
              {
                ref: this._setEl,
                className: this._cssClass,
                onClick: this._onClick,
                onContextMenu: this._onRightClick,
                style: this._cellStyles,
                tabIndex: e.disabled ? U : e.active ? 0 : -1,
              },
              ys(
                'div',
                {
                  className:
                    'mbsc-calendar-cell-inner mbsc-calendar-' +
                    e.type +
                    '-inner' +
                    i +
                    ('day' === e.type ? '' : this._hb) +
                    (e.display ? '' : ' mbsc-calendar-day-hidden'),
                },
                e.renderDay
                  ? t
                  : ys(
                      Ds,
                      null,
                      1 === e.text &&
                        ys(
                          'div',
                          { 'aria-hidden': 'true', className: 'mbsc-calendar-month-name' + i + this._rtl },
                          e.monthShort,
                        ),
                      ys(
                        'div',
                        {
                          'aria-label': this._ariaLabel,
                          role: 'button',
                          'aria-pressed': e.selected ? 'true' : U,
                          className:
                            'mbsc-calendar-cell-text mbsc-calendar-' +
                            e.type +
                            '-text' +
                            i +
                            this._todayClass,
                          style: this._circleStyles,
                        },
                        e.text,
                      ),
                      e.marks &&
                        ys(
                          'div',
                          null,
                          ys(
                            'div',
                            { className: 'mbsc-calendar-marks' + i + this._rtl },
                            e.marks.map(function (e, t) {
                              return ys('div', {
                                className: 'mbsc-calendar-mark ' + (e.markCssClass || '') + i,
                                key: t,
                                style: { background: e.color },
                              });
                            }),
                          ),
                        ),
                      e.renderDayContent && t,
                    ),
                e.labels &&
                  ys(
                    'div',
                    null,
                    a &&
                      a.event &&
                      ys(
                        'div',
                        { className: 'mbsc-calendar-labels mbsc-calendar-labels-dragging' },
                        ys(
                          'div',
                          { style: { width: a.width + '%' || '100%' } },
                          this._renderEvent(e, { id: 0, event: a.event }, !0, !!e.dragData.draggedDates, !0),
                        ),
                      ),
                    s &&
                      s.event &&
                      ys(
                        'div',
                        { className: 'mbsc-calendar-labels mbsc-calendar-labels-dragging' },
                        ys(
                          'div',
                          {
                            className: 'mbsc-calendar-label-wrapper',
                            style: { width: s.width + '%' || '100%' },
                          },
                          this._renderEvent(e, { id: 0, event: s.event }, !0, !1, !0),
                        ),
                      ),
                    ys(
                      'div',
                      { className: 'mbsc-calendar-labels' },
                      e.labels.data.map(function (t) {
                        return n._renderLabel(e, t);
                      }),
                    ),
                    ys('div', { className: 'mbsc-calendar-text mbsc-calendar-text-placeholder' }),
                  ),
              ),
            )
          );
        }),
        t
      );
    })(ea),
    ia = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t.state = { height: 'sm', pageSize: 0, pickerSize: 0, width: 'sm' }),
          (t._dim = {}),
          (t._months = [1, 2, 3]),
          (t._title = []),
          (t.MONTH_VIEW = bn),
          (t.YEAR_VIEW = Dn),
          (t.MULTI_YEAR_VIEW = Cn),
          (t.nextPage = function () {
            switch ((t._prevDocClick(), t._view)) {
              case Cn:
                t._activeYearsChange(1);
                break;
              case Dn:
                t._activeYearChange(1);
                break;
              default:
                t._activeChange(1);
            }
          }),
          (t.prevPage = function () {
            switch ((t._prevDocClick(), t._view)) {
              case Cn:
                t._activeYearsChange(-1);
                break;
              case Dn:
                t._activeYearChange(-1);
                break;
              default:
                t._activeChange(-1);
            }
          }),
          (t._changeView = function (e) {
            var n = t.s,
              s = t._view,
              a = t._hasPicker,
              i = n.selectView,
              r = 'year' === (n.showCalendar ? n.calendarType : n.eventRange);
            if (!e) {
              switch (s) {
                case bn:
                  e = Cn;
                  break;
                case Cn:
                  e = Dn;
                  break;
                default:
                  e = a || i === Dn ? Cn : bn;
              }
              s === Cn && r && (e = bn);
            }
            var o = a && e === i;
            t.setState({ view: e, viewClosing: o ? U : s, viewOpening: o ? U : e });
          }),
          (t._onDayHoverIn = function (e) {
            t._disableHover ||
              (t._hook('onDayHoverIn', e),
              (t._hoverTimer = setTimeout(function () {
                var n = Zt(e.date);
                t._labels && (e.labels = t._labels[n]),
                  t._marked && (e.marked = t._marked[n]),
                  (t._isHover = !0),
                  t._hook('onCellHoverIn', e);
              }, 150)));
          }),
          (t._onDayHoverOut = function (e) {
            if (!t._disableHover && (t._hook('onDayHoverOut', e), clearTimeout(t._hoverTimer), t._isHover)) {
              var n = Zt(e.date);
              t._labels && (e.labels = t._labels[n]),
                t._marked && (e.marked = t._marked[n]),
                (t._isHover = !1),
                t._hook('onCellHoverOut', e);
            }
          }),
          (t._onLabelClick = function (e) {
            (t._isLabelClick = !0), t._hook('onLabelClick', e);
          }),
          (t._onDayClick = function (e) {
            (t._shouldFocus = !t._isLabelClick),
              (t._prevAnim = !1),
              (t._prevPageChange = t.s.noOuterChange),
              (t._isLabelClick = !1),
              t._hook('onDayClick', e);
          }),
          (t._onTodayClick = function (e) {
            (t._prevAnim = !1),
              t._hook('onActiveChange', { date: +new Date(), today: !0 }),
              t._hook('onTodayClick', {});
          }),
          (t._onMonthClick = function (e) {
            var n = e.date,
              s = t.s;
            if (s.selectView === Dn) t._hook('onDayClick', e);
            else {
              var a = Tn(n, s) - t._offset;
              t._changeView(bn),
                (t._shouldFocus = !0),
                (t._prevAnim = !t._hasPicker),
                t._hook('onActiveChange', { date: +n, nav: !0, pageChange: a !== t._pageIndex });
            }
          }),
          (t._onYearClick = function (e) {
            var n = e.date,
              s = t.s,
              a = s.selectView;
            if (a === Cn) t._hook('onDayClick', e);
            else if (
              ((t._shouldFocus = !0),
              (t._prevAnim = a === Dn),
              (t._activeMonth = +n),
              t._changeView(),
              'year' === (s.showCalendar ? s.calendarType : s.eventRange))
            ) {
              var i = Tn(n, s) - t._offset;
              t._hook('onActiveChange', { date: +n, pageChange: i !== t._pageIndex });
            }
          }),
          (t._onPageChange = function (e) {
            (t._isSwipeChange = !0), t._activeChange(e.diff);
          }),
          (t._onYearPageChange = function (e) {
            t._activeYearChange(e.diff);
          }),
          (t._onYearsPageChange = function (e) {
            t._activeYearsChange(e.diff);
          }),
          (t._onAnimationEnd = function (e) {
            (t._disableHover = !1), t._isIndexChange && (t._pageLoaded(), (t._isIndexChange = !1));
          }),
          (t._onStart = function () {
            clearTimeout(t._hoverTimer);
          }),
          (t._onGestureStart = function (e) {
            (t._disableHover = !0), t._hook('onGestureStart', e);
          }),
          (t._onGestureEnd = function (e) {
            t._prevDocClick();
          }),
          (t._onPickerClose = function () {
            t.setState({ view: bn });
          }),
          (t._onPickerOpen = function () {
            var e = t._pickerCont.clientHeight,
              n = t._pickerCont.clientWidth;
            t.setState({ pickerSize: t._isVertical ? e : n });
          }),
          (t._onPickerBtnClick = function (e) {
            t._view === bn && (t._pickerBtn = e.currentTarget), t._prevDocClick(), t._changeView();
          }),
          (t._onDocClick = function (e) {
            var n = t.s.selectView;
            t._prevClick ||
              t._hasPicker ||
              t._view === n ||
              !t._pickerCont ||
              t._pickerCont.contains(e.target) ||
              t._changeView(n);
          }),
          (t._onViewAnimationEnd = function () {
            t.state.viewClosing && t.setState({ viewClosing: U }),
              t.state.viewOpening && t.setState({ viewOpening: U });
          }),
          (t._onResize = function () {
            if (t._body && m) {
              var e = t.s,
                n = t.state,
                s = e.showCalendar,
                a = s ? t._body.querySelector('.mbsc-calendar-body-inner') : t._body,
                i = t._el.offsetWidth,
                r = t._el.offsetHeight,
                o = a.clientHeight,
                l = a.clientWidth,
                c = t._isVertical ? o : l,
                h = t._hasPicker ? n.pickerSize : c,
                d = s !== U,
                u = 'sm',
                _ = 'sm',
                v = 0,
                p = !1,
                f = 0,
                g = 0;
              if (
                (e.responsiveStyle && !t._isGrid && (o > 300 && (_ = 'md'), l > 767 && (u = 'md')),
                u !== n.width || _ !== n.height)
              )
                (t._shouldCheckSize = !0), t.setState({ width: u, height: _ });
              else {
                if (t._labels && s) {
                  var y = a.querySelector('.mbsc-calendar-text'),
                    b = a.querySelector('.mbsc-calendar-day-inner'),
                    D = b.querySelector('.mbsc-calendar-labels'),
                    C = y ? Fe(y, 'marginBottom') : 2,
                    x = y ? y.offsetHeight : 18;
                  (f = D.offsetTop),
                    (p = a.scrollHeight > a.clientHeight),
                    (g = x + C),
                    (v = Math.max(1, se((b.clientHeight - f) / g)));
                }
                t._hook('onResize', { height: r, target: t._el, width: i }),
                  t.setState({
                    cellTextHeight: f,
                    hasScrollY: p,
                    labelHeight: g,
                    maxLabels: v,
                    pageSize: c,
                    pickerSize: h,
                    ready: d,
                  });
              }
            }
          }),
          (t._onKeyDown = function (e) {
            var n,
              s = t.s,
              a = t._view,
              i = a === bn ? t._active : t._activeMonth,
              r = new Date(i),
              o = s.getYear(r),
              l = s.getMonth(r),
              c = s.getDay(r),
              h = s.getDate,
              d = s.weeks,
              u = 'month' === s.calendarType;
            if (a === Cn) {
              var _ = void 0;
              switch (e.keyCode) {
                case Zn:
                  _ = o - 1 * t._rtlNr;
                  break;
                case Qn:
                  _ = o + 1 * t._rtlNr;
                  break;
                case $n:
                  _ = o - 3;
                  break;
                case es:
                  _ = o + 3;
                  break;
                case Jn:
                  _ = t._getPageYears(t._yearsIndex);
                  break;
                case Gn:
                  _ = t._getPageYears(t._yearsIndex) + 11;
                  break;
                case jn:
                  _ = o - 12;
                  break;
                case qn:
                  _ = o + 12;
              }
              _ &&
                t._minYears <= _ &&
                t._maxYears >= _ &&
                (e.preventDefault(),
                (t._shouldFocus = !0),
                (t._prevAnim = !1),
                (t._activeMonth = +h(_, 0, 1)),
                t.forceUpdate());
            } else if (a === Dn) {
              switch (e.keyCode) {
                case Zn:
                  n = h(o, l - 1 * t._rtlNr, 1);
                  break;
                case Qn:
                  n = h(o, l + 1 * t._rtlNr, 1);
                  break;
                case $n:
                  n = h(o, l - 3, 1);
                  break;
                case es:
                  n = h(o, l + 3, 1);
                  break;
                case Jn:
                  n = h(o, 0, 1);
                  break;
                case Gn:
                  n = h(o, 11, 1);
                  break;
                case jn:
                  n = h(o - 1, l, 1);
                  break;
                case qn:
                  n = h(o + 1, l, 1);
              }
              n &&
                t._minYear <= n &&
                t._maxYear >= n &&
                (e.preventDefault(),
                (t._shouldFocus = !0),
                (t._prevAnim = !1),
                (t._activeMonth = +n),
                t.forceUpdate());
            } else if (a === bn) {
              switch (e.keyCode) {
                case Zn:
                  n = h(o, l, c - 1 * t._rtlNr);
                  break;
                case Qn:
                  n = h(o, l, c + 1 * t._rtlNr);
                  break;
                case $n:
                  n = h(o, l, c - 7);
                  break;
                case es:
                  n = h(o, l, c + 7);
                  break;
                case Jn:
                  n = h(o, l, 1);
                  break;
                case Gn:
                  n = h(o, l + 1, 0);
                  break;
                case jn:
                  n = e.altKey ? h(o - 1, l, c) : u ? h(o, l - 1, c) : h(o, l, c - 7 * d);
                  break;
                case qn:
                  n = e.altKey ? h(o + 1, l, c) : u ? h(o, l + 1, c) : h(o, l, c + 7 * d);
              }
              if (n && t._minDate <= n && t._maxDate >= n) {
                e.preventDefault();
                var m = Tn(n, s) - t._offset;
                (t._shouldFocus = !0),
                  (t._prevAnim = !1),
                  (t._pageChange = s.noOuterChange && m !== t._pageIndex),
                  t._hook('onActiveChange', { date: +n, pageChange: t._pageChange });
              }
            }
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._getPageDay = function (e) {
          return +kn(e + this._offset, this.s);
        }),
        (t.prototype._getPageStyle = function (e, t, n) {
          var s;
          return (
            ((s = {})[(Ie ? Ie + 'T' : 't') + 'ransform'] =
              'translate' + this._axis + '(' + 100 * (e - t) * this._rtlNr + '%)'),
            (s.width = 100 / (n || 1) + '%'),
            s
          );
        }),
        (t.prototype._getPageYear = function (e) {
          var t = this.s,
            n = t.refDate ? dn(t.refDate) : Yt;
          return t.getYear(n) + e + this._yearOffset;
        }),
        (t.prototype._getPageYears = function (e) {
          var t = this.s,
            n = t.refDate ? dn(t.refDate) : Yt;
          return t.getYear(n) + 12 * (e + this._yearsOffset);
        }),
        (t.prototype._getPickerClass = function (e) {
          var t,
            n = e === this.s.selectView ? ' mbsc-calendar-picker-main' : '',
            s = 'mbsc-calendar-picker',
            a = this._hasPicker,
            i = this.state,
            r = i.viewClosing,
            o = i.viewOpening;
          switch (e) {
            case bn:
              t = a ? '' : (o === bn ? 'in-down' : '') + (r === bn ? 'out-down' : '');
              break;
            case Cn:
              t = a && r === bn ? '' : (o === Cn ? 'in-up' : '') + (r === Cn ? 'out-up' : '');
              break;
            default:
              t =
                a && o === bn
                  ? ''
                  : (o === Dn ? (r === Cn ? 'in-down' : 'in-up') : '') +
                    (r === Dn ? (o === Cn ? 'out-down' : 'out-up') : '');
          }
          return s + n + (Me && t ? ' ' + s + '-' + t : '');
        }),
        (t.prototype._isNextDisabled = function (e) {
          if (!this._hasPicker || e) {
            var t = this._view;
            if (t === Cn) return this._yearsIndex + 1 > this._maxYearsIndex;
            if (t === Dn) return this._yearIndex + 1 > this._maxYearIndex;
          }
          return this._pageIndex + 1 > this._maxIndex;
        }),
        (t.prototype._isPrevDisabled = function (e) {
          if (!this._hasPicker || e) {
            var t = this._view;
            if (t === Cn) return this._yearsIndex - 1 < this._minYearsIndex;
            if (t === Dn) return this._yearIndex - 1 < this._minYearIndex;
          }
          return this._pageIndex - 1 < this._minIndex;
        }),
        (t.prototype._render = function (e, t) {
          var n = e.getDate,
            s = e.getYear,
            a = e.getMonth,
            i = e.showCalendar,
            r = e.calendarType,
            o = e.eventRange,
            l = e.eventRangeSize || 1,
            c = e.firstDay,
            h = 'week' === r,
            d = 'month' === r,
            u = 'year' === r ? 12 : e.size || 1,
            _ = u > 1 && !h,
            m = i ? (h ? e.weeks : 6) : 0,
            v = e.activeDate || this._active || +new Date(),
            p = v !== this._active,
            f = new Date(v),
            g = this._prevS,
            y = e.dateFormat,
            b = e.monthNames,
            D = e.yearSuffix,
            C = K(e.labelList) ? +e.labelList + 1 : 'all' === e.labelList ? -1 : 0,
            x = e.labelList !== g.labelList,
            k =
              r !== g.calendarType ||
              o !== g.eventRange ||
              c !== g.firstDay ||
              e.eventRangeSize !== g.eventRangeSize ||
              e.refDate !== g.refDate ||
              e.showCalendar !== g.showCalendar ||
              e.weeks !== g.weeks,
            T =
              this._pageChange ||
              this._pageIndex === U ||
              k ||
              (!this._prevPageChange && p && (v < +this._firstDay || v >= +this._lastDay))
                ? Tn(f, e)
                : this._pageIndex + this._offset;
          (m === this._weeks && this._pageIndex !== U) || (this._offset = T), p && (this._activeMonth = v);
          var w = wn(new Date(this._activeMonth), e),
            S = Sn(new Date(this._activeMonth), e);
          if (
            (p && ((this._yearsOffset = w), (this._yearOffset = S)),
            (this._view = t.view || e.selectView),
            (this._yearsIndex = w - this._yearsOffset),
            (this._yearIndex = S - this._yearOffset),
            this._view === Dn)
          )
            this._viewTitle = this._getPageYear(this._yearIndex) + '';
          else if (this._view === Cn) {
            var E = this._getPageYears(this._yearsIndex);
            this._viewTitle = E + ' - ' + (E + 11);
          }
          var M,
            N,
            L = _ ? 0 : 1,
            H = _
              ? 1
              : ((M = e.pages),
                (N = t.pageSize),
                'auto' === M ? Math.max(1, Math.min(3, Math.floor(N ? N / 296 : 1))) : M ? +M : 1),
            I = 'vertical' === e.calendarScroll && 'auto' !== e.pages && (e.pages === U || 1 === e.pages),
            O = e.showOuterDays !== U ? e.showOuterDays : !I && H < 2 && (h || !u || u < 2),
            z = kn(T, e),
            Y = kn(T + H, e);
          i ||
            'week' !== o ||
            e.startDay === U ||
            e.endDay === U ||
            ((z = pn(z, e.startDay - c + (e.startDay < c ? 7 : 0))),
            (Y = pn(z, 7 * l + e.endDay - e.startDay + 1 - (e.endDay < e.startDay ? 0 : 7))));
          var P = i && O ? nn(z, e) : z,
            R = _ ? n(s(Y), a(Y) - 1, 1) : kn(T + H - 1, e),
            F = i && O ? pn(nn(R, e), 7 * m) : Y,
            W = i ? nn(kn(T - 0 - L, e), e) : z,
            A = i ? nn(kn(T - 0 + H + L - 1, e), e) : Y,
            V = i ? pn(_ ? nn(R, e) : A, 7 * m) : Y,
            B = y.search(/m/i),
            j = y.search(/y/i);
          if (G(e.min))
            (this._minDate = -1 / 0),
              (this._minIndex = -1 / 0),
              (this._minYears = -1 / 0),
              (this._minYearsIndex = -1 / 0),
              (this._minYear = -1 / 0),
              (this._minYearIndex = -1 / 0);
          else {
            if (g.min !== e.min || e.getDate !== g.getDate) {
              var q = dn(e.min);
              (this._minDate = $t(q)), (this._minYear = n(s(q), a(q), 1)), (this._minYears = s(q));
            }
            (this._minIndex = Tn(this._minDate, e) - this._offset),
              (this._minYearIndex = Sn(this._minDate, e) - this._yearOffset),
              (this._minYearsIndex = wn(this._minDate, e) - this._yearsOffset);
          }
          if (G(e.max))
            (this._maxDate = 1 / 0),
              (this._maxIndex = 1 / 0),
              (this._maxYears = 1 / 0),
              (this._maxYearsIndex = 1 / 0),
              (this._maxYear = 1 / 0),
              (this._maxYearIndex = 1 / 0);
          else {
            if (g.max !== e.max || e.getDate !== g.getDate) {
              var J = dn(e.max);
              (this._maxDate = J),
                (this._maxYear = n(s(J), a(J) + 1, 1)),
                (this._maxYears = s(this._maxDate));
            }
            (this._maxIndex = Tn(this._maxDate, e) - this._offset),
              (this._maxYearIndex = Sn(this._maxDate, e) - this._yearOffset),
              (this._maxYearsIndex = wn(this._maxDate, e) - this._yearsOffset);
          }
          if (_ && ((this._monthsMulti = []), T !== U)) {
            for (var Z = se(t.pageSize / 296) || 1; u % Z; ) Z--;
            for (var $ = 0; $ < u / Z; ++$) {
              for (var ee = [], te = 0; te < Z; ++te) ee.push(+n(s(z), a(z) + $ * Z + te, 1));
              this._monthsMulti.push(ee);
            }
          }
          (r !== g.calendarType ||
            e.theme !== g.theme ||
            e.calendarScroll !== g.calendarScroll ||
            e.hasContent !== g.hasContent ||
            e.showCalendar !== g.showCalendar ||
            e.showWeekNumbers !== g.showWeekNumbers ||
            e.weeks !== g.weeks ||
            x) &&
            (this._shouldCheckSize = !0),
            (g.width === e.width && g.height === e.height) ||
              (this._dim = { height: Q(e.height), width: Q(e.width) }),
            (this._cssClass =
              'mbsc-calendar mbsc-font' +
              this._theme +
              this._rtl +
              (t.ready ? '' : ' mbsc-calendar-hidden') +
              (_
                ? ' mbsc-calendar-grid-view'
                : ' mbsc-calendar-height-' + t.height + ' mbsc-calendar-width-' + t.width) +
              ' ' +
              e.cssClass),
            (this._dayNames = 'sm' === t.width || _ ? e.dayNamesMin : e.dayNamesShort),
            (this._isSwipeChange = !1),
            (this._firstDay = z),
            (this._firstPageDay = P),
            (this._lastDay = Y),
            (this._lastPageDay = F),
            (this._yearFirst = j < B),
            (this._pageNr = H),
            (this._variableRow = C);
          var ne = e.pageLoad !== g.pageLoad,
            ae = +W != +this._viewStart || +V != +this._viewEnd;
          if (
            (this._pageIndex !== U &&
              ae &&
              ((this._isIndexChange = !this._isSwipeChange && !k),
              this._hook('onPageChange', {
                firstDay: P,
                lastDay: F,
                month: d ? z : U,
                viewEnd: V,
                viewStart: W,
              })),
            T !== U && (this._pageIndex = T - this._offset),
            T !== U &&
              (e.marked !== g.marked ||
                e.colors !== g.colors ||
                e.labels !== g.labels ||
                e.invalid !== g.invalid ||
                e.valid !== g.valid ||
                t.maxLabels !== this._maxLabels ||
                ae ||
                x ||
                ne))
          ) {
            (ae || ne) &&
              ((this._marksMap = U),
              (this._labelsMap = U),
              this._hook('onPageLoading', {
                firstDay: P,
                lastDay: F,
                month: d ? z : U,
                viewChanged: ae,
                viewEnd: V,
                viewStart: W,
              })),
              (this._maxLabels = t.maxLabels || 0),
              (this._viewStart = W),
              (this._viewEnd = V);
            var ie = this._labelsMap || Vn(e.labels, W, V, e),
              re =
                ie &&
                Mn(
                  e,
                  ie,
                  W,
                  V,
                  this._variableRow || this._maxLabels,
                  7,
                  !1,
                  c,
                  !0,
                  e.eventOrder,
                  !O,
                  e.showLabelCount,
                  e.moreEventsText,
                  e.moreEventsPluralText,
                );
            re && !this._labels && (this._shouldCheckSize = !0),
              ((re && t.maxLabels) || !re) &&
                (this._shouldPageLoad = !this._isIndexChange || this._prevAnim || !i || ne),
              (this._labelsLayout = re),
              (this._labels = ie),
              (this._marked = !ie && (this._marksMap || Vn(e.marked, W, V, e))),
              (this._colors = Vn(e.colors, W, V, e)),
              (this._valid = Vn(e.valid, W, V, e, !0)),
              (this._invalid = Vn(e.invalid, W, V, e, !0));
          }
          if (ae || p || o !== g.eventRange || l !== g.eventRangeSize || e.monthNames !== g.monthNames) {
            this._title = [];
            var oe = pn(Y, -1),
              le = T === U ? f : z;
            if (h)
              for (var ce = 0, he = Object.keys(e.selectedDates); ce < he.length; ce++) {
                var de = he[ce];
                if (+de >= +z && +de < +Y) {
                  le = new Date(+de);
                  break;
                }
              }
            if (this._pageNr > 1)
              for ($ = 0; $ < H; $++) {
                var ue = n(s(z), a(z) + $, 1),
                  _e = s(ue) + D,
                  me = b[a(ue)];
                this._title.push({ yearTitle: _e, monthTitle: me });
              }
            else {
              var ve = { yearTitle: s(le) + D, monthTitle: b[a(le)] },
                pe = e.showSchedule && 1 === l ? o : i ? r : o,
                fe = o && !i && (!e.showSchedule || l > 1);
              switch (pe) {
                case 'year':
                  (ve.title = s(z) + D), l > 1 && (ve.title += ' - ' + (s(oe) + D));
                  break;
                case 'month':
                  if (l > 1 && !i) {
                    var ge = b[a(z)],
                      ye = s(z) + D,
                      be = this._yearFirst ? ye + ' ' + ge : ge + ' ' + ye,
                      De = b[a(oe)],
                      Ce = s(oe) + D,
                      xe = this._yearFirst ? Ce + ' ' + De : De + ' ' + Ce;
                    ve.title = be + ' - ' + xe;
                  } else _ && (ve.title = s(z) + D);
                  break;
                case 'day':
                case 'week':
                  if (fe) {
                    var ke = y.search(/d/i) < B ? 'D MMM, YYYY' : 'MMM D, YYYY';
                    (ve.title = _n(ke, z, e)),
                      ('week' === pe || l > 1) && (ve.title += ' - ' + _n(ke, oe, e));
                  }
              }
              this._title.push(ve);
            }
          }
          (this._active = v),
            (this._activeMonth = X(this._activeMonth, +this._minDate, +this._maxDate)),
            (this._hasPicker = e.hasPicker || _ || !d || !i || ('md' === t.width && !1 !== e.hasPicker)),
            (this._axis = I ? 'Y' : 'X'),
            (this._rtlNr = !I && e.rtl ? -1 : 1),
            (this._weeks = m),
            (this._nextIcon = I ? e.nextIconV : e.rtl ? e.prevIconH : e.nextIconH),
            (this._prevIcon = I ? e.prevIconV : e.rtl ? e.nextIconH : e.prevIconH),
            (this._mousewheel = e.mousewheel === U ? I : e.mousewheel),
            (this._isGrid = _),
            (this._isVertical = I),
            (this._showOuter = O);
        }),
        (t.prototype._mounted = function () {
          (this._observer = Ws(this._el, this._onResize, this._zone)),
            (this._doc = Re(this._el)),
            Ye(this._doc, at, this._onDocClick);
        }),
        (t.prototype._updated = function () {
          var e = this;
          if (
            (this._shouldCheckSize
              ? (setTimeout(function () {
                  e._onResize();
                }),
                (this._shouldCheckSize = !1))
              : this._shouldPageLoad && (this._pageLoaded(), (this._shouldPageLoad = !1)),
            this._shouldFocus &&
              setTimeout(function () {
                e._focusActive(), (e._shouldFocus = !1);
              }),
            this.s.instanceService && this.s.instanceService.onComponentChange.next({}),
            (this._pageChange = !1),
            (this._prevPageChange = !1),
            this._variableRow && this._body.firstChild)
          ) {
            var t = this._body.firstChild,
              n = t.scrollHeight > t.clientHeight;
            n !== this.state.hasScrollY && ((this._shouldCheckSize = !0), this.setState({ hasScrollY: n }));
          }
        }),
        (t.prototype._destroy = function () {
          this._observer && this._observer.detach(),
            Pe(this._doc, at, this._onDocClick),
            clearTimeout(this._hoverTimer);
        }),
        (t.prototype._getActiveCell = function () {
          var e = this._view,
            t = e === bn ? this._body : this._pickerCont,
            n = e === Cn ? 'year' : e === Dn ? 'month' : 'cell';
          return t && t.querySelector('.mbsc-calendar-' + n + '[tabindex="0"]');
        }),
        (t.prototype._focusActive = function () {
          var e = this._getActiveCell();
          e && e.focus();
        }),
        (t.prototype._pageLoaded = function () {
          this._hook('onPageLoaded', {
            activeElm: this._getActiveCell(),
            firstDay: this._firstPageDay,
            lastDay: this._lastPageDay,
            month: 'month' === this.s.calendarType ? this._firstDay : U,
            viewEnd: this._viewEnd,
            viewStart: this._viewStart,
          });
        }),
        (t.prototype._activeChange = function (e) {
          var t = this._pageIndex + e;
          this._minIndex <= t &&
            this._maxIndex >= t &&
            ((this._prevAnim = !1),
            (this._pageChange = !0),
            this._hook('onActiveChange', { date: this._getPageDay(t), dir: e, pageChange: !0 }));
        }),
        (t.prototype._activeYearsChange = function (e) {
          var t = this._yearsIndex + e;
          if (this._minYearsIndex <= t && this._maxYearsIndex >= t) {
            var n = this._getPageYears(t);
            (this._prevAnim = !1), (this._activeMonth = +this.s.getDate(n, 0, 1)), this.forceUpdate();
          }
        }),
        (t.prototype._activeYearChange = function (e) {
          var t = this._yearIndex + e;
          if (this._minYearIndex <= t && this._maxYearIndex >= t) {
            var n = this._getPageYear(t);
            (this._prevAnim = !1), (this._activeMonth = +this.s.getDate(n, 0, 1)), this.forceUpdate();
          }
        }),
        (t.prototype._prevDocClick = function () {
          var e = this;
          (this._prevClick = !0),
            setTimeout(function () {
              e._prevClick = !1;
            });
        }),
        t
      );
    })(tt),
    ra = function (e) {
      var t = e.firstDay,
        n = e.hidden,
        s = e.rtl,
        a = e.theme,
        i = e.dayNamesShort,
        r = e.showWeekNumbers,
        o = e.hasScroll;
      return ys(
        'div',
        { 'aria-hidden': 'true', className: 'mbsc-calendar-week-days mbsc-flex' + (n ? ' mbsc-hidden' : '') },
        r && ys('div', { className: 'mbsc-calendar-week-day mbsc-flex-none mbsc-calendar-week-nr' + a + s }),
        V.map(function (e, n) {
          return ys(
            'div',
            { className: 'mbsc-calendar-week-day mbsc-flex-1-0-0' + a + s, key: n },
            i[(n + t) % 7],
          );
        }),
        o && ys('div', { className: 'mbsc-schedule-fake-scroll-y' }),
      );
    },
    oa = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._isActive = function (e) {
          return this.s.isActive && e === this.s.activeDate;
        }),
        (t.prototype._isInvalid = function (e) {
          var t = this.s;
          return Xn(t, cn(t, new Date(e)), t.invalid, t.valid, +t.min, +t.max);
        }),
        (t.prototype._isSelected = function (e) {
          var t = new Date(e),
            n = cn(this.s, t);
          return !!this.s.selectedDates[+n];
        }),
        (t.prototype._getWeekNr = function (e, t) {
          var n = new Date(t);
          return (
            '' +
            e.getWeekNumber(
              e.getDate(n.getFullYear(), n.getMonth(), n.getDate() + ((7 - e.firstDay + 1) % 7)),
            )
          );
        }),
        (t.prototype._render = function (e) {
          var t = e.weeks,
            n = e.firstDay,
            s = new Date(e.firstPageDay),
            a = e.getYear(s),
            i = e.getMonth(s),
            r = e.getDay(s),
            o = e.getDate(a, i, r).getDay(),
            l = n - o > 0 ? 7 : 0,
            c = [],
            h = 0;
          (this._rowHeights = []), (this._rows = []), (this._days = Array.apply(0, Array(7)));
          for (var d = 0; d < 7 * t; d++) {
            var u = e.getDate(a, i, d + n - l - o + r),
              _ = Zt(u),
              m = e.getMonth(u),
              v = m !== i && 'week' !== e.calendarType,
              p = e.marked && e.marked[_],
              f = p ? (e.showSingleMark ? [{}] : p) : null,
              g = e.labels && e.labels[_],
              y = g ? g.data.length : 0,
              b = d % 7 == 0;
            if (e.variableRow) {
              if (b && v && d) break;
              y > h && (h = y),
                d % 7 == 6 &&
                  (this._rowHeights.push(h * (e.labelHeight || 20) + (e.cellTextHeight || 0) + 3), (h = 0));
            }
            b && ((c = []), this._rows.push(c)),
              c.push({
                colors: e.colors && e.colors[_],
                date: +u,
                day: e.dayNames[u.getDay()],
                display: !v || e.showOuter,
                labels: g,
                marks: f,
                month: e.monthNames[m],
                monthShort: e.monthNamesShort[m],
                outer: v,
                text: e.getDay(u),
                year: e.getYear(u),
              });
          }
        }),
        t
      );
    })(tt),
    la = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          var t = this,
            n = e.showWeekNumbers,
            s = e.showWeekDays
              ? ys(ra, {
                  dayNamesShort: e.dayNamesShort,
                  firstDay: e.firstDay,
                  rtl: this._rtl,
                  showWeekNumbers: n,
                  theme: this._theme,
                })
              : null;
          return ys(
            'div',
            {
              'aria-hidden': e.isActive ? U : 'true',
              className:
                'mbsc-calendar-table mbsc-flex-col mbsc-flex-1-1' +
                (e.isActive ? ' mbsc-calendar-table-active' : ''),
            },
            s,
            this._rows.map(function (s, a) {
              var i = n ? t._getWeekNr(e, s[0].date) : '';
              return ys(
                'div',
                {
                  className: 'mbsc-calendar-row mbsc-flex mbsc-flex-1-0',
                  key: a,
                  style: { minHeight: t._rowHeights[a] },
                },
                n &&
                  ys(
                    'div',
                    {
                      className:
                        'mbsc-calendar-cell mbsc-flex-none mbsc-calendar-day mbsc-calendar-week-nr' +
                        t._theme,
                    },
                    ys('div', { 'aria-hidden': 'true' }, i),
                    ys('div', { className: 'mbsc-hidden-content' }, e.weekText.replace('{count}', i)),
                  ),
                s.map(function (n, s) {
                  return ys(aa, {
                    active: n.display && t._isActive(n.date),
                    amText: e.amText,
                    clickToCreate: e.clickToCreate,
                    colors: n.colors,
                    date: n.date,
                    day: n.day,
                    disabled: t._isInvalid(n.date),
                    display: n.display,
                    dataTimezone: e.dataTimezone,
                    displayTimezone: e.displayTimezone,
                    dragData: e.dragData,
                    dragToCreate: e.dragToCreate,
                    dragToResize: e.dragToResize,
                    dragToMove: e.dragToMove,
                    eventText: e.eventText,
                    eventsText: e.eventsText,
                    exclusiveEndDates: e.exclusiveEndDates,
                    firstDay: e.firstDay,
                    hasMarks: e.hasMarks,
                    hoverEnd: e.hoverEnd,
                    hoverStart: e.hoverStart,
                    isActiveMonth: e.isActive,
                    isPicker: e.isPicker,
                    key: n.date,
                    labels: n.labels,
                    pmText: e.pmText,
                    marks: n.marks,
                    month: n.month,
                    monthShort: n.monthShort,
                    onDayClick: e.onDayClick,
                    onDayDoubleClick: e.onDayDoubleClick,
                    onDayRightClick: e.onDayRightClick,
                    onLabelClick: e.onLabelClick,
                    onLabelDoubleClick: e.onLabelDoubleClick,
                    onLabelRightClick: e.onLabelRightClick,
                    onLabelHoverIn: e.onLabelHoverIn,
                    onLabelHoverOut: e.onLabelHoverOut,
                    onLabelDelete: e.onLabelDelete,
                    onLabelUpdateStart: e.onLabelUpdateStart,
                    onLabelUpdateMove: e.onLabelUpdateMove,
                    onLabelUpdateEnd: e.onLabelUpdateEnd,
                    onLabelUpdateModeOn: e.onLabelUpdateModeOn,
                    onLabelUpdateModeOff: e.onLabelUpdateModeOff,
                    outer: n.outer,
                    renderDay: e.renderDay,
                    renderDayContent: e.renderDayContent,
                    renderLabel: e.renderLabel,
                    renderLabelContent: e.renderLabelContent,
                    rangeEnd: e.rangeEnd,
                    rangeStart: e.rangeStart,
                    resourcesMap: e.resourcesMap,
                    selectedEventsMap: e.selectedEventsMap,
                    rtl: e.rtl,
                    showEventTooltip: e.showEventTooltip,
                    selected: t._isSelected(n.date),
                    text: n.text,
                    theme: e.theme,
                    timeFormat: e.timeFormat,
                    timezonePlugin: e.timezonePlugin,
                    todayText: e.todayText,
                    type: 'day',
                    year: n.year,
                    onHoverIn: e.onDayHoverIn,
                    onHoverOut: e.onDayHoverOut,
                  });
                }),
              );
            }),
          );
        }),
        t
      );
    })(oa),
    ca = 0,
    ha = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._setHeader = function (e) {
            t._headerElement = e;
          }),
          (t._setBody = function (e) {
            t._body = e;
          }),
          (t._setPickerCont = function (e) {
            t._pickerCont = e;
          }),
          (t._renderMonthView = function (e, n) {
            var s = t.s,
              a = t.state;
            return ys(
              la,
              i({}, n, {
                activeDate: t._active,
                amText: s.amText,
                calendarType: s.calendarType,
                cellTextHeight: a.cellTextHeight,
                clickToCreate: s.clickToCreate,
                colors: t._colors,
                dayNames: s.dayNames,
                dayNamesShort: t._dayNames,
                dataTimezone: s.dataTimezone,
                displayTimezone: s.displayTimezone,
                eventText: s.eventText,
                eventsText: s.eventsText,
                exclusiveEndDates: s.exclusiveEndDates,
                firstDay: s.firstDay,
                firstPageDay: e,
                getDate: s.getDate,
                getDay: s.getDay,
                getMonth: s.getMonth,
                getWeekNumber: s.getWeekNumber,
                getYear: s.getYear,
                hasMarks: !!t._marked,
                hoverEnd: s.hoverEnd,
                hoverStart: s.hoverStart,
                isPicker: s.isPicker,
                invalid: t._invalid,
                labels: t._labelsLayout,
                labelHeight: a.labelHeight,
                marked: t._marked,
                max: t._maxDate,
                min: t._minDate,
                monthNames: s.monthNames,
                monthNamesShort: s.monthNamesShort,
                onDayClick: t._onDayClick,
                onDayDoubleClick: s.onDayDoubleClick,
                onDayRightClick: s.onDayRightClick,
                onDayHoverIn: t._onDayHoverIn,
                onDayHoverOut: t._onDayHoverOut,
                onLabelClick: t._onLabelClick,
                onLabelDoubleClick: s.onLabelDoubleClick,
                onLabelRightClick: s.onLabelRightClick,
                onLabelHoverIn: s.onLabelHoverIn,
                onLabelHoverOut: s.onLabelHoverOut,
                onLabelDelete: s.onLabelDelete,
                pmText: s.pmText,
                rangeEnd: s.rangeEnd,
                rangeStart: s.rangeStart,
                resourcesMap: s.resourcesMap,
                rtl: s.rtl,
                selectedDates: s.selectedDates,
                selectedEventsMap: s.selectedEventsMap,
                showEventTooltip: s.showEventTooltip,
                showOuter: t._showOuter,
                showWeekDays: !t._isVertical && !t._variableRow,
                showWeekNumbers: s.showWeekNumbers,
                showSingleMark: !!t._marksMap,
                todayText: s.todayText,
                theme: s.theme,
                timeFormat: s.timeFormat,
                timezonePlugin: s.timezonePlugin,
                valid: t._valid,
                weeks: t._weeks,
                weekText: s.weekText,
                renderDay: s.renderDay,
                renderDayContent: s.renderDayContent,
                renderLabel: s.renderLabel,
                renderLabelContent: s.renderLabelContent,
                variableRow: t._variableRow,
              }),
            );
          }),
          (t._renderMonth = function (e, n) {
            var s = t.s,
              a = e.key,
              i = a >= t._pageIndex && a < t._pageIndex + t._pageNr && t._view === bn,
              r = {
                dragData: s.dragData,
                dragToCreate: s.dragToCreate,
                dragToMove: s.dragToMove,
                dragToResize: s.dragToResize,
                isActive: i,
                onLabelUpdateEnd: s.onLabelUpdateEnd,
                onLabelUpdateModeOff: s.onLabelUpdateModeOff,
                onLabelUpdateModeOn: s.onLabelUpdateModeOn,
                onLabelUpdateMove: s.onLabelUpdateMove,
                onLabelUpdateStart: s.onLabelUpdateStart,
              };
            return ys(
              'div',
              {
                className:
                  'mbsc-calendar-slide' + (i ? ' mbsc-calendar-slide-active' : '') + t._theme + t._rtl,
                key: a,
                style: t._getPageStyle(a, n, t._pageNr),
              },
              t._renderMonthView(t._getPageDay(a), r),
            );
          }),
          (t._renderYears = function (e, n) {
            var s = t.s,
              a = e.key,
              i = t._getPageYears(a),
              r = s.getYear(new Date(t._active)),
              o = s.getYear(new Date(t._activeMonth));
            return ys(
              'div',
              {
                'aria-hidden': t._yearsIndex === a ? U : 'true',
                className: 'mbsc-calendar-picker-slide mbsc-calendar-slide' + t._theme + t._rtl,
                key: a,
                style: t._getPageStyle(a, n),
              },
              ys(
                'div',
                { className: 'mbsc-calendar-table mbsc-flex-col' },
                A.map(function (e, n) {
                  return ys(
                    'div',
                    { className: 'mbsc-calendar-row mbsc-flex mbsc-flex-1-0', key: n },
                    W.map(function (e, a) {
                      var l = i + 3 * n + a,
                        c = +s.getDate(l, 0, 1);
                      return ys(aa, {
                        active: l === o,
                        date: c,
                        display: !0,
                        selected: l === r,
                        disabled: l < t._minYears || l > t._maxYears,
                        rtl: s.rtl,
                        text: l + s.yearSuffix,
                        theme: s.theme,
                        type: 'year',
                        onDayClick: t._onYearClick,
                        key: l,
                      });
                    }),
                  );
                }),
              ),
            );
          }),
          (t._renderYear = function (e, n) {
            var s = t.s,
              a = e.key,
              i = t._getPageYear(a),
              r = new Date(t._activeMonth),
              o = s.getYear(r),
              l = s.getMonth(r),
              c = new Date(t._active),
              h = s.getYear(c),
              d = s.getMonth(c);
            return ys(
              'div',
              {
                'aria-hidden': t._yearIndex === a ? U : 'true',
                className: 'mbsc-calendar-picker-slide mbsc-calendar-slide' + t._theme + t._rtl,
                key: a,
                style: t._getPageStyle(a, n),
              },
              ys(
                'div',
                { className: 'mbsc-calendar-table mbsc-flex-col' },
                A.map(function (e, n) {
                  return ys(
                    'div',
                    { className: 'mbsc-calendar-row mbsc-flex mbsc-flex-1-0', key: n },
                    W.map(function (e, a) {
                      var r = s.getDate(i, 3 * n + a, 1),
                        c = s.getYear(r),
                        u = s.getMonth(r);
                      return ys(aa, {
                        active: c === o && u === l,
                        date: +r,
                        display: !0,
                        selected: c === h && u === d,
                        disabled: r < t._minYear || r >= t._maxYear,
                        month: s.monthNames[u],
                        rtl: s.rtl,
                        text: s.monthNamesShort[u],
                        theme: s.theme,
                        type: 'month',
                        onDayClick: t._onMonthClick,
                        key: +r,
                      });
                    }),
                  );
                }),
              ),
            );
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._template = function (e, t) {
          var n = this;
          ca++;
          var s = this._variableRow,
            a = this._view !== bn,
            r =
              (this._isVertical || (s && 1 == +e.size)) && e.showCalendar
                ? ys(ra, {
                    dayNamesShort: this._dayNames,
                    rtl: this._rtl,
                    theme: this._theme,
                    firstDay: e.firstDay,
                    hasScroll: t.hasScrollY,
                    hidden: this._view !== bn && !this._hasPicker,
                    showWeekNumbers: e.showWeekNumbers,
                  })
                : null,
            o = {
              axis: this._axis,
              batchSize: 1,
              changeOnEnd: !0,
              className: 'mbsc-calendar-scroll-wrapper' + this._theme,
              data: ca,
              easing: 'ease-out',
              itemSize: t.pickerSize,
              items: this._months,
              mousewheel: this._mousewheel,
              prevAnim: this._prevAnim,
              rtl: e.rtl,
              snap: !0,
              time: 200,
            },
            l = ys(
              'div',
              { ref: this._setPickerCont, className: this._hasPicker ? 'mbsc-calendar-picker-wrapper' : '' },
              (t.view === Cn || t.viewClosing === Cn || e.selectView === Cn) &&
                ys(
                  'div',
                  { onAnimationEnd: this._onViewAnimationEnd, className: this._getPickerClass(Cn) },
                  ys(
                    Qs,
                    i(
                      {
                        key: 'years',
                        itemRenderer: this._renderYears,
                        maxIndex: this._maxYearsIndex,
                        minIndex: this._minYearsIndex,
                        onGestureEnd: this._onGestureEnd,
                        onIndexChange: this._onYearsPageChange,
                        selectedIndex: this._yearsIndex,
                      },
                      o,
                    ),
                  ),
                ),
              (t.view === Dn || t.viewClosing === Dn || e.selectView === Dn) &&
                ys(
                  'div',
                  { onAnimationEnd: this._onViewAnimationEnd, className: this._getPickerClass(Dn) },
                  ys(
                    Qs,
                    i(
                      {
                        key: 'year',
                        itemRenderer: this._renderYear,
                        maxIndex: this._maxYearIndex,
                        minIndex: this._minYearIndex,
                        onGestureEnd: this._onGestureEnd,
                        onIndexChange: this._onYearPageChange,
                        selectedIndex: this._yearIndex,
                      },
                      o,
                    ),
                  ),
                ),
            );
          return ys(
            'div',
            { className: this._cssClass, ref: this._setEl, style: this._dim, onClick: ee },
            ys(
              'div',
              {
                className:
                  'mbsc-calendar-wrapper mbsc-flex-col mbsc-flex-1-1' +
                  this._theme +
                  this._hb +
                  (e.hasContent || !e.showCalendar ? ' mbsc-calendar-wrapper-fixed' : ''),
              },
              ys(
                'div',
                {
                  className:
                    'mbsc-calendar-header' +
                    this._theme +
                    this._hb +
                    (this._isVertical || s ? ' mbsc-calendar-header-vertical' : ''),
                  ref: this._setHeader,
                },
                e.showControls &&
                  (function () {
                    var t, s;
                    if (e.renderHeader)
                      q((t = e.renderHeader())) &&
                        (t !== n._headerHTML && ((n._headerHTML = t), (n._shouldEnhanceHeader = !0)),
                        (s = n._safeHtml(t)));
                    else {
                      var a = n._pageNr > 1;
                      t = ys(
                        Ds,
                        null,
                        ys(Ys, {
                          className:
                            'mbsc-calendar-title-wrapper' + (a ? ' mbsc-calendar-title-wrapper-multi' : ''),
                        }),
                        ys(Is, {
                          className:
                            'mbsc-calendar-button-prev' + (a ? ' mbsc-calendar-button-prev-multi' : ''),
                        }),
                        e.showToday && ys(zs, { className: 'mbsc-calendar-header-today' }),
                        ys(Os, {
                          className:
                            'mbsc-calendar-button-next' + (a ? ' mbsc-calendar-button-next-multi' : ''),
                        }),
                      );
                    }
                    var i = ys(
                      'div',
                      { className: 'mbsc-calendar-controls' + n._theme, dangerouslySetInnerHTML: s },
                      t,
                    );
                    return ys(Ss.Provider, { children: i, value: { instance: n } });
                  })(),
                r,
              ),
              ys(
                'div',
                {
                  className: 'mbsc-calendar-body mbsc-flex-col mbsc-flex-1-1' + this._theme,
                  ref: this._setBody,
                  onKeyDown: this._onKeyDown,
                },
                e.showCalendar &&
                  ys(
                    'div',
                    {
                      className:
                        'mbsc-calendar-body-inner mbsc-flex-col mbsc-flex-1-1' +
                        (s ? ' mbsc-calendar-body-inner-variable' : ''),
                    },
                    this._isGrid
                      ? ys(
                          'div',
                          {
                            'aria-hidden': a ? 'true' : U,
                            className:
                              'mbsc-calendar-grid mbsc-flex-1-1 mbsc-flex-col' + this._theme + this._hb,
                          },
                          this._monthsMulti.map(function (t, s) {
                            return ys(
                              'div',
                              { key: s, className: 'mbsc-calendar-grid-row mbsc-flex mbsc-flex-1-1' },
                              t.map(function (t, s) {
                                return ys(
                                  'div',
                                  {
                                    key: s,
                                    className:
                                      'mbsc-calendar-grid-item mbsc-flex-col mbsc-flex-1-1' + n._theme,
                                  },
                                  ys(
                                    'div',
                                    { className: 'mbsc-calendar-month-title' + n._theme },
                                    e.monthNames[new Date(t).getMonth()],
                                  ),
                                  n._renderMonthView(t, { isActive: !0 }),
                                );
                              }),
                            );
                          }),
                        )
                      : s
                      ? ys(
                          'div',
                          {
                            'aria-hidden': a ? 'true' : U,
                            className:
                              'mbsc-calendar-slide mbsc-calendar-slide-active ' + this._getPickerClass(bn),
                          },
                          this._renderMonthView(+this._firstDay, {
                            dragData: e.dragData,
                            dragToCreate: e.dragToCreate,
                            dragToMove: e.dragToMove,
                            dragToResize: e.dragToResize,
                            isActive: !0,
                            onLabelUpdateEnd: e.onLabelUpdateEnd,
                            onLabelUpdateModeOff: e.onLabelUpdateModeOff,
                            onLabelUpdateModeOn: e.onLabelUpdateModeOn,
                            onLabelUpdateMove: e.onLabelUpdateMove,
                            onLabelUpdateStart: e.onLabelUpdateStart,
                          }),
                        )
                      : e.selectView === bn &&
                        ys(
                          'div',
                          {
                            'aria-hidden': a ? 'true' : U,
                            className: this._getPickerClass(bn),
                            onAnimationEnd: this._onViewAnimationEnd,
                          },
                          ys(
                            Qs,
                            i({}, o, {
                              itemNr: this._pageNr,
                              itemSize: t.pageSize / this._pageNr,
                              itemRenderer: this._renderMonth,
                              maxIndex: this._maxIndex,
                              minIndex: this._minIndex,
                              mouseSwipe: e.mouseSwipe,
                              onAnimationEnd: this._onAnimationEnd,
                              onGestureStart: this._onGestureStart,
                              onIndexChange: this._onPageChange,
                              onStart: this._onStart,
                              selectedIndex: this._pageIndex,
                              swipe: e.swipe,
                            }),
                          ),
                        ),
                    !this._hasPicker && l,
                  ),
              ),
            ),
            this.props.children,
            this._hasPicker &&
              ys(
                Js,
                {
                  anchor: this._pickerBtn,
                  closeOnScroll: !0,
                  contentPadding: !1,
                  context: e.context,
                  cssClass: 'mbsc-calendar-popup',
                  display: 'anchored',
                  isOpen: this._view !== bn,
                  locale: e.locale,
                  onClose: this._onPickerClose,
                  onOpen: this._onPickerOpen,
                  rtl: e.rtl,
                  scrollLock: !1,
                  showOverlay: !1,
                  theme: e.theme,
                  themeVariant: e.themeVariant,
                },
                ys(
                  'div',
                  { onKeyDown: this._onKeyDown },
                  ys(
                    'div',
                    { className: 'mbsc-calendar-controls' + this._theme },
                    ys(
                      'div',
                      {
                        'aria-live': 'polite',
                        className:
                          'mbsc-calendar-picker-button-wrapper mbsc-calendar-title-wrapper' + this._theme,
                      },
                      ys(
                        ws,
                        {
                          className: 'mbsc-calendar-button',
                          onClick: this._onPickerBtnClick,
                          theme: e.theme,
                          themeVariant: e.themeVariant,
                          type: 'button',
                          variant: 'flat',
                        },
                        this._viewTitle,
                        e.downIcon && ys(ks, { svg: t.view === Cn ? e.downIcon : e.upIcon, theme: e.theme }),
                      ),
                    ),
                    ys(ws, {
                      className: 'mbsc-calendar-button',
                      ariaLabel: e.prevPageText,
                      disabled: this._isPrevDisabled(!0),
                      iconSvg: this._prevIcon,
                      onClick: this.prevPage,
                      theme: e.theme,
                      themeVariant: e.themeVariant,
                      type: 'button',
                      variant: 'flat',
                    }),
                    ys(ws, {
                      className: 'mbsc-calendar-button',
                      ariaLabel: e.nextPageText,
                      disabled: this._isNextDisabled(!0),
                      iconSvg: this._nextIcon,
                      onClick: this.nextPage,
                      theme: e.theme,
                      themeVariant: e.themeVariant,
                      type: 'button',
                      variant: 'flat',
                    }),
                  ),
                  l,
                ),
              ),
          );
        }),
        (t.prototype._updated = function () {
          e.prototype._updated.call(this),
            this._shouldEnhanceHeader &&
              (bs(this._headerElement, { view: this }), (this._shouldEnhanceHeader = !1));
        }),
        t
      );
    })(ia),
    da = (function () {
      function e() {
        (this.onInstanceReady = new d()), (this.onComponentChange = new d());
      }
      return (
        Object.defineProperty(e.prototype, 'instance', {
          get: function () {
            return this.inst;
          },
          set: function (e) {
            (this.inst = e), this.onInstanceReady.next(e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        e
      );
    })(),
    ua = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._render = function (e) {
          this._cssClass = this._className + ' mbsc-list-header' + this._theme + this._hb;
        }),
        t
      );
    })(tt),
    _a = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          return ys('div', { ref: this._setEl, className: this._cssClass }, e.children);
        }),
        t
      );
    })(ua),
    ma = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._onClick = function (e) {
            t._hook('onClick', { domEvent: e }), t.s.selected && t.setState({ hasFocus: !1 });
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._mounted = function () {
          var e,
            t,
            n = this;
          this._unlisten = Nt(this._el, {
            click: !0,
            keepFocus: !0,
            onBlur: function () {
              n.setState({ hasFocus: !1 });
            },
            onEnd: function (s) {
              if (e) {
                var a = i({}, s);
                a.domEvent.preventDefault(),
                  (a.data = n.s.data),
                  (a.drag = !0),
                  n._hook('onDragEnd', a),
                  (e = !1);
              }
              clearTimeout(t);
            },
            onFocus: function () {
              n.setState({ hasFocus: !0 });
            },
            onHoverIn: function (e) {
              n.s.actionable && n.setState({ hasHover: !0 }), n._hook('onHoverIn', { domEvent: e });
            },
            onHoverOut: function (e) {
              n.setState({ hasHover: !1 }), n._hook('onHoverOut', { domEvent: e });
            },
            onKeyDown: function (e) {
              var t = n.s.data;
              switch (e.keyCode) {
                case Bn:
                case Kn:
                  n._el.click(), e.preventDefault();
                  break;
                case 8:
                case 46:
                  t && !1 !== t.editable && n._hook('onDelete', { domEvent: e, event: t, source: 'agenda' });
              }
            },
            onMove: function (s) {
              var a = n.s,
                r = i({}, s);
              (r.data = a.data),
                (r.drag = !0),
                (r.external = !0),
                (!e && r.isTouch) || r.domEvent.preventDefault(),
                e
                  ? n._hook('onDragMove', r)
                  : (Math.abs(r.deltaX) > 7 || Math.abs(r.deltaY) > 7) &&
                    (clearTimeout(t),
                    !r.isTouch && a.drag && !1 !== a.data.editable && ((e = !0), n._hook('onDragStart', r)));
            },
            onPress: function () {
              n.s.actionable && n.setState({ isActive: !0 });
            },
            onRelease: function () {
              n.setState({ isActive: !1 });
            },
            onStart: function (s) {
              var a = n.s;
              return (
                s.isTouch &&
                  a.drag &&
                  !1 !== a.data.editable &&
                  !e &&
                  (t = setTimeout(function () {
                    var t = i({}, s);
                    (t.data = a.data),
                      (t.drag = !0),
                      n._hook('onDragModeOn', t),
                      n._hook('onDragStart', t),
                      (e = !0);
                  }, 350)),
                { ripple: a.actionable && a.ripple }
              );
            },
          });
        }),
        (t.prototype._render = function (e, t) {
          this._cssClass =
            this._className +
            ' mbsc-list-item' +
            this._theme +
            this._hb +
            this._rtl +
            (e.actionable ? ' mbsc-list-item-actionable' : '') +
            (t.hasFocus ? ' mbsc-focus' : '') +
            (t.hasHover ? ' mbsc-hover' : '') +
            (t.isActive ? ' mbsc-active' : '') +
            (e.selected ? ' mbsc-selected' : '');
        }),
        (t.prototype._destroy = function () {
          this._unlisten();
        }),
        (t.defaults = { actionable: !0, ripple: !1 }),
        (t._name = 'ListItem'),
        t
      );
    })(tt),
    va = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          var t = this.props;
          t.actionable;
          var n = t.children;
          t.className, t.data, t.drag, t.ripple, t.rtl;
          var s = t.theme;
          t.themeVariant,
            t.onHoverIn,
            t.onHoverOut,
            t.onDragEnd,
            t.onDragMove,
            t.onDragStart,
            t.onDragModeOn,
            t.onDragModeOff,
            t.onDelete,
            t.onClick;
          var a = r(t, [
            'actionable',
            'children',
            'className',
            'data',
            'drag',
            'ripple',
            'rtl',
            'theme',
            'themeVariant',
            'onHoverIn',
            'onHoverOut',
            'onDragEnd',
            'onDragMove',
            'onDragStart',
            'onDragModeOn',
            'onDragModeOff',
            'onDelete',
            'onClick',
          ]);
          return ys(
            'div',
            i({ tabIndex: 0, ref: this._setEl, onClick: this._onClick, className: this._cssClass }, a),
            n,
            ys('div', { className: 'mbsc-list-item-background mbsc-' + s }),
          );
        }),
        t
      );
    })(ma),
    pa = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._render = function (e) {
          this._cssClass = this._className + this._rtl + ' mbsc-font mbsc-list' + this._theme;
        }),
        t
      );
    })(tt),
    fa = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          return ys('div', { ref: this._setEl, className: this._cssClass }, e.children);
        }),
        t
      );
    })(pa),
    ga = 'mbsc-def';
  function ya(e, t, n, s, a, i) {
    for (var r = 'start-end' === a, o = i ? n : $t(pn(n, 1)), l = 0, c = Object.keys(e); l < c.length; l++)
      for (var h = e[c[l]], d = $t(t); d < o; d.setDate(d.getDate() + 1)) {
        var u = h[Zt(d)];
        if (u) {
          if (u.allDay && (!r || sn(d, t) || sn(d, n))) return u.allDay;
          if (!s)
            for (var _ = 0, m = u.invalids; _ < m.length; _++) {
              var v = m[_];
              if (r) {
                if (jt(v.startDate, v.endDate, t, t, !0)) return v.original;
                if (jt(v.startDate, v.endDate, n, n)) return v.original;
              } else if (jt(v.startDate, v.endDate, t, n)) return v.original;
            }
        }
      }
    return !1;
  }
  function ba(e, t, n, s, a) {
    for (
      var i = n.allDay || a,
        r = n.startDate,
        o = i ? Jt(e, i, r, n.endDate) : n.endDate,
        l = i ? hn(e, r.getFullYear(), r.getMonth(), r.getDate()) : r,
        c = i ? hn(e, o.getFullYear(), o.getMonth(), o.getDate(), 23, 59, 59, 999) : o,
        h = !1,
        d = 0,
        u = t;
      d < u.length;
      d++
    ) {
      for (var _ = u[d], m = 0, v = !1, p = void 0, f = 0, g = _; f < g.length; f++) {
        for (var y = g[f], b = !1, D = 0, C = y; D < C.length; D++) {
          var x = C[D],
            k = x.allDay,
            T = x.startDate,
            w = k ? Jt(e, k, T, x.endDate) : x.endDate;
          jt(
            k ? hn(e, T.getFullYear(), T.getMonth(), T.getDate()) : T,
            k ? hn(e, w.getFullYear(), w.getMonth(), w.getDate(), 23, 59, 59, 999) : w,
            l,
            c,
            !0,
          ) && ((b = !0), (v = !0), p ? (s[n.uid] = s[n.uid] || m) : (s[x.uid] = m + 1));
        }
        b || p || (p = y), m++;
      }
      v && (p ? p.push(n) : _.push([n]), (h = !0));
    }
    h || ((s[n.uid] = 0), t.push([[n]]));
  }
  function Da(e) {
    return (e = Math.abs(ne(e))) > 60
      ? 60 * ne(e / 60)
      : 60 % e == 0
      ? e
      : [6, 10, 12, 15, 20, 30].reduce(function (t, n) {
          return Math.abs(n - e) < Math.abs(t - e) ? n : t;
        });
  }
  function Ca(e, t, n, s, a, i) {
    s && s > e && (e = s);
    var r = Kt(e);
    return (t > r || (a !== U && i !== U && !fn(e.getDay(), a, i))) && (r = t), (100 * (r - t)) / n;
  }
  function xa(e, t, n, s, a) {
    e = e || {};
    var i = Object.keys(e),
      r = {},
      o = t.map(function (e) {
        return e.id;
      }),
      l = n.map(function (e) {
        return e.id;
      });
    o.forEach(function (e) {
      (r[e] = {}),
        l.forEach(function (t) {
          r[e][t] = {};
        });
    });
    for (
      var c = function (t) {
          for (
            var n = function (e) {
                var n = e.resource,
                  i = e.slot,
                  c = n !== U && s ? (B(n) ? n : [n]) : o,
                  h = i !== U && a ? [i] : l;
                c.forEach(function (n) {
                  var s = r[n];
                  s &&
                    h.forEach(function (n) {
                      var a = s[n];
                      a && (a[t] || (a[t] = []), a[t].push(e));
                    });
                });
              },
              i = 0,
              c = e[t];
            i < c.length;
            i++
          ) {
            n(c[i]);
          }
        },
        h = 0,
        d = i;
      h < d.length;
      h++
    ) {
      c(d[h]);
    }
    return r;
  }
  function ka(e, t) {
    var n = new Date(e),
      s = new Date(+Yt + t);
    return new Date(n.getFullYear(), n.getMonth(), n.getDate(), s.getHours(), s.getMinutes());
  }
  var Ta = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._onScroll = function () {}),
          (t._onEventDragModeOn = function (e) {
            var n = e.create ? t._tempEvent : e.event,
              s = e.create ? t._tempResource : e.resource,
              a = e.create ? t._tempSlot : e.slot;
            t.setState({
              dragData: {
                draggedEvent: n,
                originDates: e.external ? U : t._getDragDates(n, s, a),
                resource: s,
              },
              isTouchDrag: !0,
            });
          }),
          (t._onEventDragModeOff = function (e) {
            t._hook('onEventDragEnd', {
              domEvent: e.domEvent,
              event: e.event,
              resource: e.resource,
              slot: e.slot,
              source: e.source,
            }),
              t.setState({ dragData: U, isTouchDrag: !1 });
          }),
          (t._calcGridDimensions = function () {
            var e = t.s,
              n = t._resources,
              s = t._isTimeline,
              a = t._daysNr * (s ? 1 : n.length),
              i = t._gridCont,
              r = t._scrollCont,
              o = i.getBoundingClientRect(),
              l = r.getBoundingClientRect(),
              c = s ? o.width : i.scrollWidth;
            (t._gridLeft = e.rtl ? o.right - c : o.left),
              (t._gridRight = e.rtl ? o.right : o.left + c),
              (t._gridTop = o.top),
              (t._gridContTop = l.top),
              (t._gridContBottom = l.bottom),
              (t._gridContLeft = l.left),
              (t._gridContRight = l.right),
              (t._allDayTop = t._gridContTop),
              (t._colWidth = c / a),
              (t._colHeight = o.height);
          }),
          (t._onEventDragStart = function (e) {
            var n = t.s,
              s = e.click,
              a = n.eventList,
              r = t._isTimeline,
              o = t._visibleResources,
              l = t._slots,
              c = n.dragTimeStep,
              h = t._gridCont,
              d = e.startX,
              u = e.startY,
              _ = t._groupByResource,
              m = _ ? t._daysNr : t._hasSlots ? t._slots.length : o.length;
            (t._resWidth = t._resCont ? t._resCont.offsetWidth : 0),
              (t._scrollY = 0),
              (t._scrollX = 0),
              t._calcGridDimensions();
            var v = n.rtl ? t._gridRight - d : d - t._gridLeft,
              p = X(u - t._gridTop, 8, t._colHeight - 9),
              f = se(v / t._colWidth),
              g = 0,
              y = f,
              b = 0;
            if (r) {
              var D = h.querySelectorAll('.mbsc-timeline-row');
              (t._rowTops = []),
                (b = se(v / (t._colWidth / l.length)) % l.length),
                D.forEach(function (e, n) {
                  var s = e.getBoundingClientRect().top - t._gridTop;
                  t._rowTops.push(s), p > s && (g = (t._rowStartIndex || 0) + n);
                });
            } else {
              var C = t._el.querySelector('.mbsc-schedule-all-day-wrapper'),
                x = C && C.getBoundingClientRect();
              (t._allDayTop = x ? x.top : t._gridContTop),
                (g = _ ? se(f / m) : f % m),
                (y = _ ? f % m : se(f / m));
            }
            var k = e.external ? U : o[g],
              T = k ? k.id : U,
              w = e.external ? U : l[b],
              S = w ? w.id : U;
            if (e.create) {
              y = X(y, 0, t._daysNr - 1);
              var E = !r && n.showAllDay && e.endY < t._gridContTop,
                M = 'day' === n.type && 1 === n.size ? t._firstDay : t._days[y].date,
                N = a || (!e.external && !s) ? c * Pt : t._stepCell,
                L = t._getGridTime(M, v, p, y, s ? t._stepCell / Pt : c),
                H = E || a ? M : L,
                I = pn(H, 1),
                O = n.exclusiveEndDates ? I : new Date(+I - 1),
                z = E || a ? O : gn(hn(n, +H + N), s ? 1 : c),
                Y = n.extendDefaultEvent ? n.extendDefaultEvent({ resource: T, slot: S, start: H }) : U,
                P = i(
                  {
                    allDay: E,
                    end: z,
                    id: ss(),
                    resource: k && T !== ga ? T : U,
                    slot: w && S !== ga ? S : U,
                    start: H,
                    title: n.newEventText,
                  },
                  Y,
                  e.event,
                ),
                R = t._getEventData(P, M, k);
              if (e.event) {
                var F = +R.endDate - +R.startDate;
                (R.startDate = M), (R.endDate = new Date(+M + F));
              }
              (t._tempEvent = R), (t._tempResource = T), (t._tempSlot = S);
            }
            s ||
              t._hook('onEventDragStart', {
                domEvent: e.domEvent,
                event: (e.create ? t._tempEvent : e.event).original,
                resource: T,
                slot: S,
                source: r ? 'timeline' : 'schedule',
              });
          }),
          (t._onEventDragMove = function (e) {
            clearTimeout(t._scrollTimer);
            var n = t.s,
              s = n.rtl,
              a = s ? -1 : 1,
              r = t._isTimeline,
              o = t._daysNr,
              l = t._slots,
              c = t._groupByResource,
              h = t.state.dragData,
              d = n.dragTimeStep,
              u = n.timeFormat,
              _ = n.eventList,
              m = e.startX,
              v = X(e.endX, t._gridContLeft, t._gridContRight - 1),
              p = X(e.endY, t._gridContTop, t._gridContBottom - 1),
              f = p - e.startY + t._scrollY,
              g = s ? m - v + t._scrollX : v - m + t._scrollX,
              y = r ? g : f,
              b = r ? t._colWidth : t._colHeight - 16,
              D = X(
                s ? t._gridRight + t._scrollX - v : v - t._gridLeft + t._scrollX,
                0,
                t._gridRight - t._gridLeft - 1,
              ),
              C = X(p - t._gridTop + t._scrollY, 8, t._colHeight - 9),
              x = se((s ? t._gridRight - m : m - t._gridLeft) / t._colWidth),
              k = se(D / t._colWidth),
              T = n.showAllDay && e.endY < t._gridContTop,
              w = t._scrollCont,
              S = x,
              E = k,
              M = 0,
              N = 0,
              L = !1,
              H = t._gridContBottom - e.endY,
              I = e.endY - t._gridContTop,
              O = e.endX - t._gridContLeft,
              z = t._gridContRight - e.endX,
              Y = (w.scrollWidth - w.clientWidth) * a,
              P = s ? 0 : Y,
              R = s ? Y : 0;
            if (
              (H < 30 &&
                w.scrollTop < w.scrollHeight - w.clientHeight &&
                ((w.scrollTop += 5), (t._scrollY += 5), (L = !0)),
              I < 30 && !T && w.scrollTop > 0 && ((w.scrollTop -= 5), (t._scrollY -= 5), (L = !0)),
              O < 30 + (s ? 0 : t._resWidth) &&
                w.scrollLeft > R &&
                ((w.scrollLeft -= 5), (t._scrollX -= 5 * a), (L = !0)),
              z < 30 + (s ? t._resWidth : 0) &&
                w.scrollLeft < P &&
                ((w.scrollLeft += 5), (t._scrollX += 5 * a), (L = !0)),
              L &&
                (t._scrollTimer = setTimeout(function () {
                  t._onEventDragMove(e);
                }, 20)),
              r)
            )
              (N = se(D / (t._colWidth / l.length)) % l.length),
                t._rowTops.forEach(function (e, n) {
                  C > e && (M = (t._rowStartIndex || 0) + n);
                });
            else {
              var F = c ? o : t._resources.length;
              (S = c ? x % F : se(x / F)), (E = c ? k % F : se(k / F)), (M = c ? se(k / F) : k % F);
            }
            (S = X(S, 0, o - 1)), (E = X(E, 0, o - 1));
            var W,
              A = e.create ? t._tempEvent : e.event,
              V = A.startDate,
              B = A.endDate,
              K = +B - +V,
              j = t._time,
              q = se((j * y) / b),
              G = l[N].id,
              J = t._visibleResources[M].id,
              Z = A.allDay,
              $ = Z ? U : n,
              Q = Z || _,
              ee = V,
              te = B,
              ne = t._days[S].date,
              ae = t._days[E].date,
              ie = 'day' === n.type && 1 === n.size ? 0 : en(ne, ae),
              re = ie - E + S;
            if (e.drag || e.external) {
              if (
                ((Z = T || (r && A.allDay)),
                (Q = T || _ || (r && A.allDay)),
                ($ = Z ? U : n),
                (A.allDay && !r && !T) || (e.external && !T))
              ) {
                var oe = $t(pn(V, ie));
                ee = t._getGridTime(oe, D, C, E, d);
              } else
                r && !Q
                  ? (ee = gn(hn(n, +V + q + (Ft - j) * ie + j * re), d))
                  : ((W = pn(V, ie)), (ee = Q ? W : gn(hn($, +W + q), d)));
              te = hn($, +ee + K);
            } else {
              var le = r ? 0 : k - x,
                ce = e.create ? (le ? le > 0 : y > 0) : 'end' === e.direction,
                he = en(V, B),
                de = e.create ? t._tempResource : e.resource;
              !r &&
                c &&
                de !== J &&
                h &&
                h.draggedEvent &&
                (ie = en(h.draggedEvent.startDate, h.draggedEvent.endDate) * (ce ? 1 : -1)),
                ce
                  ? r && !Q
                    ? (te = gn(hn(n, +B + q + ie * (Ft - j) + j * re), d))
                    : ((W = pn(B, Math.max(-he, ie))),
                      (te = Q ? W : gn(hn($, +W + q), d)),
                      !Q &&
                        (Kt(te) > t._endTime + 1 || te >= pn($t(W), 1)) &&
                        (te = hn(n, +$t(W) + t._endTime + 1)))
                  : r && !Q
                  ? (ee = gn(hn(n, +V + q + ie * (Ft - j) + j * re), d))
                  : ((W = pn(V, Math.min(he, ie))),
                    (ee = Q ? W : gn(hn($, +W + q), d)),
                    !Q && (Kt(ee) < t._startTime || ee < $t(W)) && (ee = hn(n, +$t(W) + t._startTime))),
                (J = de),
                Q && te < ee && (ce ? (te = hn(n, ee)) : (ee = hn(n, te))),
                !Q &&
                  (te < ee || Math.abs(+te - +ee) < d * Pt) &&
                  (ce ? (te = hn(n, +ee + d * Pt)) : (ee = hn(n, +te - d * Pt)));
            }
            if (
              t._tempStart !== +ee ||
              t._tempEnd !== +te ||
              t._tempAllDay !== Z ||
              t._tempResource !== J ||
              t._tempSlot !== G
            ) {
              var ue = i({}, A);
              (ue.startDate = ee),
                (ue.endDate = te),
                (ue.start = _n(u, ee, n)),
                (ue.end = _n(u, te, n)),
                (ue.allDay = Z),
                (t._tempStart = +ee),
                (t._tempEnd = +te),
                (t._tempAllDay = Z),
                (t._tempResource = J),
                (t._tempSlot = G),
                t.setState({
                  dragData: {
                    draggedDates: t._getDragDates(ue, J, G),
                    draggedEvent: ue,
                    originDates: h && h.originDates,
                    resource: J,
                    slot: G,
                  },
                });
            }
          }),
          (t._onEventDragEnd = function (e) {
            clearTimeout(t._scrollTimer);
            var n = t.s,
              s = e.create,
              a = t.state,
              i = a.dragData;
            if ((s && !i && ((i = {}).draggedEvent = t._tempEvent), i && i.draggedEvent)) {
              var r = e.event,
                o = i.draggedEvent,
                l = o.startDate,
                c = o.endDate,
                h = o.allDay,
                d = o.original,
                u = e.resource,
                _ = i.resource === U ? u : i.resource,
                m = d.resource === U ? _ : d.resource,
                v = s ? t._tempSlot : e.slot,
                p = i.slot === U ? v : i.slot,
                f = {},
                g = t._isTimeline ? 'timeline' : 'schedule',
                y = s || +l != +r.startDate || +c != +r.endDate || h !== r.allDay || u !== _ || v !== p,
                b = m,
                D = void 0;
              if (u !== _ && !s && !t._isSingleResource)
                if (B(m) && m.length && _) {
                  var C = m.indexOf(u);
                  -1 === m.indexOf(_) && (b = m.slice()).splice(C, 1, _);
                } else b = _;
              D =
                b && n.resources
                  ? B(b)
                    ? b
                    : [b]
                  : t._resources.map(function (e) {
                      return e.id;
                    });
              for (var x = 0, k = D; x < k.length; x++) {
                var T = k[x];
                t._invalids[T] && (f[T] = t._invalids[T][p]);
              }
              var w = e.action || (a.dragData ? 'drag' : 'click'),
                S =
                  !y ||
                  n.eventDragEnd({
                    action: w,
                    collision: ya(f, l, c, h, n.invalidateEvent, n.exclusiveEndDates),
                    create: s,
                    domEvent: e.domEvent,
                    event: o,
                    resource: b !== ga ? b : U,
                    slot: p !== ga ? p : U,
                    source: g,
                  }),
                E = a.isTouchDrag && (!s || S);
              if (S && E && u !== _ && !d.color) {
                var M = oe(t._resources, function (e) {
                    return e.id === _;
                  }),
                  N = M && M.color;
                N
                  ? ((o.color = N), (o.style.background = N), (o.style.color = Xe(N)))
                  : ((o.color = U), (o.style = {}));
              }
              E ||
                'click' === w ||
                t._hook('onEventDragEnd', {
                  domEvent: e.domEvent,
                  event: (s ? t._tempEvent : e.event).original,
                  resource: _,
                  slot: p,
                  source: g,
                }),
                t.setState({
                  dragData: E
                    ? { draggedEvent: o, originDates: S ? t._getDragDates(o, _, p) : i.originDates }
                    : U,
                  isTouchDrag: E,
                }),
                (t._tempStart = 0),
                (t._tempEnd = 0),
                (t._tempAllDay = U);
            }
          }),
          (t._onExternalDrag = function (e) {
            if (t.s.externalDrop) {
              var n =
                e.endY < t._gridContBottom &&
                e.endY > t._allDayTop &&
                e.endX > t._gridContLeft &&
                e.endX < t._gridContRight;
              switch (e.eventName) {
                case 'onDragModeOff':
                  t._onEventDragModeOff(e);
                  break;
                case 'onDragModeOn':
                  t._onEventDragModeOn(e);
                  break;
                case 'onDragStart':
                  t._onEventDragStart(e);
                  break;
                case 'onDragMove':
                  var s = e.clone;
                  n
                    ? ((s.style.display = 'none'), t._onEventDragMove(e), (t._onCalendar = !0))
                    : t._onCalendar &&
                      (clearTimeout(t._scrollTimer),
                      (s.style.display = 'table'),
                      t.setState({ dragData: {} }),
                      (t._tempStart = 0),
                      (t._tempEnd = 0),
                      (t._tempAllDay = U),
                      (t._onCalendar = !1));
                  break;
                case 'onDragEnd':
                  n
                    ? t._onEventDragEnd(e)
                    : (t.setState({ dragData: U, isTouchDrag: !1 }),
                      t._hook('onEventDragEnd', {
                        domEvent: e.domEvent,
                        event: e.event,
                        resource: e.resource,
                        slot: e.slot,
                        source: e.source,
                      }));
              }
            }
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._isToday = function (e) {
          return sn(new Date(e), new Date());
        }),
        (t.prototype._formatTime = function (e, t) {
          var n = this.s,
            s = n.timeFormat,
            a = /a/i.test(s) && this._stepLabel === Rt && e % Rt == 0 ? s.replace(/.[m]+/i, '') : s,
            i = new Date(+Yt + e),
            r = hn(n, i.getFullYear(), i.getMonth(), i.getDate(), i.getHours(), i.getMinutes());
          return Ut(r) && t && r.setTimezone(t), _n(a, r, n);
        }),
        (t.prototype._getEventPos = function (e, t, n, s) {
          var a = this.s,
            i = e.allDay ? U : a,
            r = hn(i, t.getFullYear(), t.getMonth(), t.getDate()),
            o = this._dayIndexMap[n],
            l = $t(pn(r, 1)),
            c = i ? this._firstDayTz : this._firstDay,
            h = i ? this._lastDayTz : this._lastDay,
            d = this._isTimeline,
            u = !d && !this._groupByResource,
            _ = e.allDay,
            m = this._startTime,
            v = this._endTime + 1,
            p = this._time,
            f = this._hasSlots,
            g = e.endDate,
            y = e.start,
            b = e.startDate,
            D = e.end,
            C = Jt(a, _, b, g),
            x = +b == +C ? 1 : 0;
          if (_ || d) {
            if (!s.get(e.original) || f || u) {
              var k = a.startDay,
                T = a.endDay,
                w = a.eventList,
                S = _ || w,
                E = !sn(b, C),
                M = this._daysNr;
              d && E && Kt(b) >= v && (b = hn(a, +$t(b) + v));
              var N = S ? C : g,
                L = Ca(b, m, p, c, k, T),
                H = (function (e, t, n, s, a, i, r, o, l, c) {
                  var h = e,
                    d = t;
                  h < s && (h = s), d > a && (d = a);
                  var u = Kt(h),
                    _ = Kt(d);
                  i > u && (u = i), r < _ && (_ = r), sn(h, d) || (u > r && (u = r), _ < i && (_ = i));
                  var m = 0;
                  if (sn(h, d)) m = c ? n : _ - u;
                  else
                    for (var v = $t(h); v <= d; v.setDate(v.getDate() + 1))
                      fn(v.getDay(), o, l) &&
                        (!c && sn(v, h) ? (m += n - u + i) : !c && sn(v, d) ? (m += _ - i) : (m += n));
                  return (100 * m) / n;
                })(b, N, p, c, h, m, v, k, T, S);
              d && ((H /= M), (L = (L + 100 * o) / M));
              var I = d
                  ? S
                    ? {
                        left: a.rtl ? '' : (f ? 0 : (100 * o) / M) + '%',
                        right: a.rtl ? (f ? 0 : (100 * o) / M) + '%' : '',
                        width: (f ? 100 : H) + '%',
                      }
                    : {
                        height: this._setRowHeight ? '' : '100%',
                        left: a.rtl ? '' : L + '%',
                        right: a.rtl ? L + '%' : '',
                        top: '0',
                        width: H + '%',
                      }
                  : { width: (E && !u ? H : 100) + '%' },
                O = Kt(b) < v && C > c,
                z = Kt(C) + x > m;
              if (S || (E && H > 0) || (O && z))
                return s.set(e.original, !0), { end: D, endDate: C, position: I, start: y, startDate: b };
            }
          } else if (
            (b < r && ((y = ''), (b = hn(a, r))),
            C >= l && ((D = ''), (C = hn(a, +l - 1))),
            g >= l && (g = hn(a, +l - 1)),
            Kt(b) < v && Kt(C) + x > m && C >= b)
          ) {
            var Y = (function (e, t, n, s, a) {
              var i = Kt(e),
                r = Kt(t);
              return s > i && (i = s), a < r && (r = a), (100 * (r - i)) / n;
            })(b, g, p, m, v);
            return {
              cssClass: Y < 2 ? ' mbsc-schedule-event-small-height' : '',
              end: D,
              endDate: C,
              position: { height: Y + '%', top: Ca(b, m, p) + '%', width: '100%' },
              start: y,
              startDate: b,
            };
          }
        }),
        (t.prototype._getEventData = function (e, t, n, s) {
          var a = this.s,
            i = as(a, e, t, !0, a.timeFormat, a.allDayText, '', n, !1, this._isTimeline, s);
          return (
            (i.html = this._safeHtml(i.html)),
            e.allDay &&
              a.exclusiveEndDates &&
              +i.endDate == +i.startDate &&
              (i.endDate = $t(pn(i.startDate, 1))),
            i
          );
        }),
        (t.prototype._getEvents = function (e) {
          for (
            var t = this,
              n = this.s,
              s = this._resources,
              a = this._slots,
              i = this._hasSlots,
              r = this._isTimeline,
              o = !r,
              l = {},
              c = xa(e, s, a, !!n.resources, !!n.slots),
              h = {},
              d = this._firstDay,
              u = this._lastDay,
              _ = function (s) {
                var _ = s.id,
                  v = new Map(),
                  p = [],
                  f = 0;
                l[_] = {};
                for (
                  var g = function (a) {
                      var g = a.id,
                        y = c[_][g],
                        b = Object.keys(y).sort();
                      (l[_][g] = { all: { allDay: [], events: [] } }),
                        o && (h[g] = Mn(n, y, d, u, -1, m._daysNr, !0, n.startDay, !1, n.eventOrder));
                      for (
                        var D = function (a) {
                            var c = e[a].date;
                            if (m._dayIndexMap[a] !== U && fn(c.getDay(), n.startDay, n.endDay)) {
                              var d = Nn(y[a]) || [],
                                u = [],
                                b = {},
                                D = !i && r ? 'all' : a,
                                C = 0;
                              (o || i) && (l[_][g][D] = { allDay: [], events: [] });
                              for (var x = 0, k = d; x < k.length; x++) {
                                var T = k[x];
                                if (!T.allDay || r) {
                                  var w = m._getEventData(T, c, s),
                                    S = m._getEventPos(w, c, a, v);
                                  S &&
                                    ((w.cssClass = S.cssClass),
                                    (w.position = S.position),
                                    o && ((w.showText = !0), ba(n, u, w, b, n.eventList)),
                                    l[_][g][D].events.push(w),
                                    p.push(w),
                                    C++);
                                }
                              }
                              if ((i && C > f && (f = C), o)) {
                                h[g][a] &&
                                  h[g][a].data.forEach(function (e) {
                                    var n = e.event,
                                      i = e.width;
                                    if (n) {
                                      var r = t._getEventData(n, c, s),
                                        o = t._getEventPos(r, c, a, v);
                                      (r.position = { width: o ? o.position.width : i }),
                                        (r.showText = !!o),
                                        l[_][g][D].allDay.push(r);
                                    }
                                  });
                                for (
                                  var E = function (e) {
                                      var t = e.length;
                                      e.forEach(function (e, s) {
                                        for (var a = 0, i = e; a < i.length; a++) {
                                          var r = i[a],
                                            o = (((b[r.uid] || t) - s) / t) * 100;
                                          (r.position.width = o + '%'),
                                            (r.position[n.rtl ? 'right' : 'left'] = (100 * s) / t + '%'),
                                            (r.position[n.rtl ? 'left' : 'right'] = 'auto');
                                        }
                                      });
                                    },
                                    M = 0,
                                    N = u;
                                  M < N.length;
                                  M++
                                ) {
                                  E(N[M]);
                                }
                              }
                            }
                          },
                          C = 0,
                          x = b;
                        C < x.length;
                        C++
                      ) {
                        D(x[C]);
                      }
                    },
                    y = 0,
                    b = a;
                  y < b.length;
                  y++
                ) {
                  g(b[y]);
                }
                if (r && !i) {
                  for (var D = [], C = {}, x = m._setRowHeight, k = 0, T = p; k < T.length; k++) {
                    var w = T[k];
                    ba(n, D, w, C, n.eventList);
                  }
                  for (
                    var S = function (e) {
                        var t = e.length;
                        x && t > f && (f = t),
                          e.forEach(function (e, n) {
                            for (var s = 0, a = e; s < a.length; s++) {
                              var i = a[s],
                                r = (((C[i.uid] || t) - n) / t) * 100;
                              (i.position.height = x ? '' : r + '%'),
                                (i.position.top = x ? n : (100 * n) / t + '%');
                            }
                          });
                      },
                      E = 0,
                      M = D;
                    E < M.length;
                    E++
                  ) {
                    S(M[E]);
                  }
                }
                m._eventRows[_] = f || 1;
              },
              m = this,
              v = 0,
              p = s;
            v < p.length;
            v++
          ) {
            _(p[v]);
          }
          return l;
        }),
        (t.prototype._getInvalids = function (e) {
          for (
            var t,
              n = this.s,
              s = n.eventList,
              a = {},
              i = xa(e, this._resources, this._slots, !!n.resources, !!n.slots),
              r = Object.keys(e || {}).sort(),
              o = s ? $t(new Date(n.minDate)) : new Date(n.minDate),
              l = s ? $t(pn(new Date(n.maxDate), 1)) : new Date(n.maxDate),
              c = this._isTimeline,
              h = 0,
              d = this._resources;
            h < d.length;
            h++
          ) {
            var u = d[h],
              _ = u.id,
              m = new Map();
            a[_] = {};
            for (var v = 0, p = this._slots; v < p.length; v++) {
              var f = p[v].id,
                g = { invalids: [] };
              a[_][f] = { all: g };
              for (var y = 0, b = r; y < b.length; y++) {
                var D = b[y],
                  C = dn(D);
                if (fn(C.getDay(), n.startDay, n.endDay)) {
                  var x = i[_][f][D] || [],
                    k = { invalids: [] },
                    T = [];
                  (a[_][f][D] = k),
                    C < o && x.push({ end: o, start: new Date(C) }),
                    C >= $t(l) && x.push({ end: new Date(this._lastDay), start: l });
                  for (var w = 0, S = x; w < S.length; w++) {
                    var E = S[w];
                    if (q(E) || on(E)) {
                      var M = dn(E);
                      E = { allDay: !0, end: new Date(M), start: M };
                    }
                    var N = this._getEventData(E, C, u, !0);
                    (N.cssClass = ''), (N.position = U);
                    var L = this._getEventPos(N, C, D, m);
                    if (
                      (L &&
                        (!c && 0 === Kt(L.startDate) && new Date(+L.endDate + 1) >= pn(C, 1)
                          ? (N.allDay = !0)
                          : ((N.position = L.position),
                            Kt(L.startDate) <= this._startTime &&
                              (N.cssClass += ' mbsc-schedule-invalid-start'),
                            Kt(L.endDate) >= this._endTime && (N.cssClass += ' mbsc-schedule-invalid-end')),
                        T.push(N)),
                      k.invalids.push(N),
                      N.allDay)
                    ) {
                      c || (N.position = {}), (k.allDay = N), (k.invalids = [N]), (T = [N]);
                      break;
                    }
                  }
                  (t = g.invalids).push.apply(t, T);
                }
              }
            }
          }
          return a;
        }),
        (t.prototype._getColors = function (e) {
          for (
            var t = this.s,
              n = {},
              s = xa(e, this._resources, this._slots, !!t.resources, !!t.slots),
              a = Object.keys(e || {}).sort(),
              i = this._hasSlots,
              r = this._isTimeline,
              o = 0,
              l = this._resources;
            o < l.length;
            o++
          ) {
            var c = l[o],
              h = c.id,
              d = new Map();
            n[h] = {};
            for (var u = 0, _ = this._slots; u < _.length; u++) {
              var m = _[u].id;
              n[h][m] = { all: { colors: [] } };
              for (var v = 0, p = a; v < p.length; v++) {
                var f = p[v],
                  g = dn(f);
                if (fn(g.getDay(), t.startDay, t.endDay)) {
                  var y = s[h][m][f] || [],
                    b = !i && r ? 'all' : f;
                  (r && !i) || (n[h][m][b] = { colors: [] });
                  for (var D = n[h][m][b], C = 0, x = y; C < x.length; C++) {
                    var k = x[C],
                      T = this._getEventData(k, g, c, !0);
                    if (T.allDay && !r) D.allDay = T;
                    else {
                      var w = this._getEventPos(T, g, f, d);
                      w &&
                        ((T.position = w.position),
                        (T.cssClass = ''),
                        Kt(w.startDate) <= this._startTime && (T.cssClass += ' mbsc-schedule-color-start'),
                        Kt(w.endDate) >= this._endTime && (T.cssClass += ' mbsc-schedule-color-end'),
                        D.colors.push(T));
                    }
                    (T.position.background = k.background),
                      (T.position.color = k.textColor ? k.textColor : Xe(k.background));
                  }
                }
              }
            }
          }
          return n;
        }),
        (t.prototype._flattenResources = function (e, t, n, s) {
          for (var a = 0, i = e && e.length ? e : [{ id: ga }]; a < i.length; a++) {
            var r = i[a];
            (r.depth = n),
              t.push(r),
              r.children &&
                ((this._hasHierarchy = !0),
                (r.collapsed && !s) || this._flattenResources(r.children, t, n + 1, s));
          }
          return t;
        }),
        (t.prototype._render = function (e, t) {
          var n = this,
            s = this._prevS,
            a = this._isTimeline,
            i = new Date(e.selected),
            r = +e.size,
            o = Da(e.timeLabelStep),
            l = Da(e.timeCellStep),
            c = e.firstDay,
            h = e.startDay,
            d = e.endDay,
            u = e.resources,
            _ = e.slots,
            v = e.groupBy !== s.groupBy || u !== s.resources,
            p = e.rtl !== s.rtl || v,
            f = this._startTime,
            g = this._endTime;
          if (
            e.startTime !== s.startTime ||
            e.endTime !== s.endTime ||
            e.timeLabelStep !== s.timeLabelStep ||
            e.timeCellStep !== s.timeCellStep ||
            e.timeFormat !== s.timeFormat ||
            this._startTime === U ||
            this._endTime === U
          ) {
            var y = dn(e.startTime || '00:00'),
              b = new Date(+dn(e.endTime || '00:00') - 1);
            (this._startTime = f = Kt(y)),
              (this._endTime = g = Kt(b)),
              (this._time = g - f + 1),
              (this._timesBetween = $(se(l / o) - 1)),
              (this._times = []),
              (this._timeLabels = {});
            for (
              var D = l * Pt,
                C = se(f / D) * D,
                x = function (e) {
                  if ((k._times.push(e), a)) {
                    var t = e === C;
                    (k._timeLabels[e] = t || e % (o * Pt) == 0 ? k._formatTime(t ? f : e) : ''),
                      k._timesBetween.forEach(function (t) {
                        var s = e + (t + 1) * o * Pt;
                        n._timeLabels[s] = n._formatTime(s);
                      });
                  }
                },
                k = this,
                T = C;
              T <= g;
              T += D
            )
              x(T);
            p = !0;
          }
          if (
            v ||
            h !== s.startDay ||
            d !== s.endDay ||
            _ !== s.slots ||
            e.dayNames !== s.dayNames ||
            e.eventList !== s.eventList ||
            e.getDay !== s.getDay ||
            e.refDate !== s.refDate ||
            e.rowHeight !== s.rowHeight ||
            e.selected !== s.selected ||
            e.size !== s.size ||
            e.showDays !== s.showDays ||
            e.type !== s.type ||
            e.weekNumbers !== s.weekNumbers
          ) {
            var w = 'day' === e.type,
              S = 'month' === e.type,
              E = 'year' === e.type,
              M = void 0,
              N = void 0,
              L = void 0,
              H = void 0;
            if (r > 1 || E || S) {
              var I = {
                  eventRange: e.type,
                  eventRangeSize: r,
                  firstDay: c,
                  getDate: e.getDate,
                  getDay: e.getDay,
                  getMonth: e.getMonth,
                  getYear: e.getYear,
                  refDate: e.refDate,
                },
                O = Tn(i, I);
              (M = kn(O, I)),
                (N = kn(O + 1, I)),
                'week' === e.type &&
                  ((M = pn(M, h - c + (h < c ? 7 : 0))), (N = pn(M, 7 * r + d - h + 1 - (d < h ? 0 : 7)))),
                (L = M),
                (H = N);
            } else {
              (L = pn(nn(i, e), h - c + (h < c ? 7 : 0))),
                (H = pn(L, d - h + 1 + (d < h ? 7 : 0))),
                (M = w ? $t(i) : L),
                (N = w ? pn(M, 1) : H);
            }
            (this._isMulti = r > 1 || E),
              (this._hasHierarchy = !1),
              (this._resources = this._flattenResources(u, [], 0, !0)),
              (this._visibleResources = this._flattenResources(u, [], 0)),
              (this._hasSlots = a && !!_ && _.length > 0),
              (this._slots = _ && _.length ? _ : [{ id: ga }]),
              (this._isSingleResource = 1 === this._resources.length),
              (this._groupByResource = ('date' !== e.groupBy && !(w && r < 2)) || this._isSingleResource),
              (this._firstDay = M),
              (this._lastDay = N),
              (this._firstDayTz = hn(e, M.getFullYear(), M.getMonth(), M.getDate())),
              (this._lastDayTz = hn(e, N.getFullYear(), N.getMonth(), N.getDate())),
              (this._selectedDay = +$t(i)),
              (this._setRowHeight = e.eventList || 'equal' !== e.rowHeight),
              (this._shouldAnimateScroll = s.selected !== U),
              (this._showTimeIndicator =
                (!a || (a && !S && !E)) &&
                !e.eventList &&
                (w && r < 2 ? sn(new Date(), i) : M <= new Date() && N >= new Date())),
              (this._dayIndexMap = {}),
              (this._days = []),
              (this._headerDays = []);
            var z = 0,
              Y = -1,
              P = -1,
              R = '',
              F = -1,
              W = -1,
              A = '',
              V = M,
              B = N,
              K = w && r < 2,
              j = e.dateFormat.search(/m/i),
              q = e.dateFormat.search(/y/i) < j;
            !a && K && ((V = L), (B = H));
            for (T = $t(V); T < $t(B); T.setDate(T.getDate() + 1))
              if (fn(T.getDay(), h, d)) {
                var G = Zt(T),
                  J = '',
                  Z = '';
                if (a) {
                  var Q = e.getWeekNumber(pn(T, (7 - c + 1) % 7)),
                    ee = e.getMonth(T);
                  if (Y !== ee) {
                    (P = z), (Y = ee);
                    var te = e.getYear(T),
                      ae = e.monthNames[Y];
                    (J = R = q ? te + ' ' + ae : ae + ' ' + te),
                      z > 0 && (this._days[z - 1].lastOfMonth = !0);
                  }
                  F !== Q &&
                    ((W = z),
                    (F = Q),
                    (Z = A = e.weekText.replace(/{count}/, F)),
                    z > 0 && (this._days[z - 1].lastOfWeek = !0));
                }
                var ie = {
                  date: new Date(T),
                  dateIndex: z,
                  dateKey: G,
                  dateText: _n(S || this._isMulti ? 'D DDD' : e.dateFormatLong, T, e),
                  day: e.getDay(T),
                  label: _n('DDDD, MMMM D, YYYY', T, e),
                  monthIndex: P,
                  monthText: R,
                  monthTitle: J,
                  timestamp: +$t(T),
                  weekIndex: W,
                  weekText: A,
                  weekTitle: Z,
                };
                K && this._headerDays.push(ie),
                  (K && this._selectedDay !== +T) || this._days.push(ie),
                  (this._dayIndexMap[G] = z),
                  z++;
              }
            (this._daysNr = K ? 1 : z), (p = !0);
          }
          (e.colorsMap !== s.colorsMap || p) && (this._colors = this._getColors(e.colorsMap)),
            (e.eventMap === s.eventMap && !p && this._events) ||
              ((this._eventRows = {}), (this._events = this._getEvents(e.eventMap))),
            (e.invalidsMap !== s.invalidsMap || p) && (this._invalids = this._getInvalids(e.invalidsMap));
          var re = a && e.eventMap !== s.eventMap;
          if (
            ((e.height !== s.height || e.width !== s.width || re || p) &&
              (this._shouldCheckSize = m && !!e.height && !!e.width),
            e.scroll !== s.scroll && (this._shouldScroll = !0),
            (this._hasSideSticky = ze && !e.rtl),
            (this._hasSticky = ze),
            (this._stepCell = l * Pt),
            (this._stepLabel = o * Pt),
            (this._dayNames = t.dayNameWidth > 49 ? e.dayNamesShort : e.dayNamesMin),
            (this._displayTime = o < 1440),
            (this._eventHeight = e.eventList ? (t.eventHeight || 18) + 2 : t.eventHeight || 42),
            (this._headerClass =
              ' mbsc-timeline-header-placeholder mbsc-timeline-header-row-' +
              (1 +
                (this._isMulti ? 1 : 0) +
                (this._displayTime || this._hasSlots ? 1 : 0) +
                (e.weekNumbers ? 1 : 0))),
            a)
          ) {
            var oe = [],
              le =
                this._daysBatchNr === U
                  ? X(se(this._stepCell / (this._time / 30)), 1, 30)
                  : this._daysBatchNr,
              ce = this._dayIndexMap[Zt(i)] || 0,
              he = t.batchIndexX !== U ? t.batchIndexX : ne(ce / le),
              de = Math.min(he * le, this._daysNr - 1),
              ue = Math.max(0, de - se((3 * le) / 2)),
              _e = Math.min(ue + 3 * le, this._daysNr),
              me = this._days[ue].date,
              ve = pn(this._days[_e - 1].date, 1);
            for (z = ue; z < _e; z++) oe.push(this._days[z]);
            (this._batchStart = hn(e, me.getFullYear(), me.getMonth(), me.getDate())),
              (this._batchEnd = hn(e, ve.getFullYear(), ve.getMonth(), ve.getDate())),
              (this._daysBatch = oe),
              (this._daysBatchNr = le),
              (this._placeholderSizeX = t.dayWidth * ne(Math.max(0, de - (3 * le) / 2)) || 0);
            var pe = (t.scrollContHeight || 0) - (t.headerHeight || 0),
              fe = t.rowHeight || 52,
              ge = [],
              ye = t.batchIndexY || 0,
              be = this._visibleResources,
              De = [],
              Ce = -1,
              xe = 0;
            pe &&
              be.forEach(function (e, t) {
                var s = n._setRowHeight ? Math.max(n._eventRows[e.id] * n._eventHeight + 10, 52) : fe,
                  a = se(xe / pe);
                a !== Ce && (De.push({ startIndex: t, top: xe }), (Ce = a)), (xe += s);
              });
            var ke = De[ye - 1],
              Te = De[ye + 2],
              we = ke ? ke.startIndex : 0,
              Se = Te ? Te.startIndex : xe ? be.length : 30;
            xe && !t.hasScrollY && ((we = 0), (Se = be.length));
            for (z = we; z < Se; z++) {
              var Ee = be[z];
              Ee && ge.push(Ee);
            }
            (this._gridHeight = xe),
              (this._virtualPagesY = De),
              (this._resourcesBatch = ge),
              (this._rowStartIndex = we),
              (this._placeholderSizeY = ke ? ke.top : 0);
          }
        }),
        (t.prototype._mounted = function () {
          var e,
            t,
            n,
            s = this;
          (this._unlisten = Nt(this._el, {
            onDoubleClick: function (e) {
              var t = s.s;
              n &&
                t.clickToCreate &&
                'single' !== t.clickToCreate &&
                ((e.click = !0), s._onEventDragStart(e), s._onEventDragEnd(e));
            },
            onEnd: function (n) {
              !e && t && 'single' === s.s.clickToCreate && ((e = !0), (n.click = !0), s._onEventDragStart(n)),
                e && (n.domEvent.preventDefault(), s._onEventDragEnd(n)),
                clearTimeout(s._touchTimer),
                (e = !1),
                (t = !1);
            },
            onMove: function (n) {
              var a = s.s;
              e && a.dragToCreate
                ? (n.domEvent.preventDefault(), s._onEventDragMove(n))
                : t && a.dragToCreate && (Math.abs(n.deltaX) > 7 || Math.abs(n.deltaY) > 7)
                ? ((e = !0), s._onEventDragStart(n))
                : clearTimeout(s._touchTimer);
            },
            onStart: function (a) {
              var i = s.s;
              if (((a.create = !0), (a.click = !1), !e && (i.dragToCreate || i.clickToCreate))) {
                var r = (a.domEvent.target && a.domEvent.target.classList) || [];
                (n =
                  r.contains('mbsc-schedule-item') ||
                  r.contains('mbsc-schedule-all-day-item') ||
                  r.contains('mbsc-timeline-column')) &&
                  (a.isTouch && i.dragToCreate
                    ? (s._touchTimer = setTimeout(function () {
                        s._onEventDragStart(a), s._onEventDragModeOn(a), (e = !0);
                      }, 350))
                    : (t = !a.isTouch));
              }
            },
          })),
            (this._unsubscribe = Ht(this._onExternalDrag));
        }),
        (t.prototype._updated = function () {
          var e = this;
          this._shouldCheckSize &&
            re(this, function () {
              var t,
                n,
                s,
                a,
                i,
                r,
                o = e._resCont,
                l = o ? o.offsetWidth : 0,
                c = e._headerCont,
                h = c.offsetHeight,
                d = e._scrollCont,
                u = d.offsetWidth,
                _ = d.offsetHeight,
                m = d.clientWidth,
                v = d.clientHeight,
                p = u - m,
                f = _ - v,
                g = u - l,
                y = _ - h,
                b = d.scrollHeight > v,
                D = d.scrollWidth > m,
                C = e.state.eventHeight;
              if (e._isTimeline) {
                var x = d.querySelector('.mbsc-timeline-day'),
                  k = d.querySelector('.mbsc-timeline-row');
                if (
                  ((s = x ? x.offsetWidth : 64),
                  (r = k ? k.offsetHeight : 52),
                  s * e._daysNr < g && (D = !1),
                  e._gridHeight && e._gridHeight < y && (b = !1),
                  (s = D ? s : ne(g / e._daysNr)),
                  (i = D ? s * e._daysNr : g),
                  (n = (e._stepCell * s) / e._time),
                  (e._gridWidth = i),
                  (e._daysBatchNr = Math.max(1, Math.ceil(g / s))),
                  e._hasSticky || (c.style[e.s.rtl ? 'left' : 'right'] = p + 'px'),
                  !e._hasSideSticky && o && (o.style.bottom = f + 'px'),
                  e._setRowHeight)
                ) {
                  var T = d.querySelector('.mbsc-schedule-event');
                  T && (C = T.clientHeight);
                }
              } else {
                var w = e._el.querySelector('.mbsc-schedule-column-inner'),
                  S = e._el.querySelector('.mbsc-schedule-header-item');
                (t = (e._stepCell * w.offsetHeight) / e._time), (a = S ? S.offsetWidth : 0);
              }
              e._onScroll(),
                (e._shouldCheckSize = !1),
                e.setState({
                  cellHeight: t,
                  cellWidth: n,
                  dayNameWidth: a,
                  dayWidth: s,
                  eventHeight: C,
                  hasScrollX: D,
                  hasScrollY: b,
                  headerHeight: h,
                  rowHeight: r,
                  scrollContHeight: D ? v : _,
                });
            }),
            !this._shouldScroll ||
              (!this.state.dayWidth && this._isTimeline) ||
              (re(this, function () {
                e._scrollToTime(e._shouldAnimateScroll);
              }),
              (this._shouldScroll = !1));
        }),
        (t.prototype._destroy = function () {
          this._unlisten(), It(this._unsubscribe);
        }),
        (t.prototype._getDragDates = function (e, t, n) {
          var s = this.s,
            a = {},
            r = new Map(),
            o = e.allDay ? this._firstDay : this._firstDayTz,
            l = e.startDate,
            c = e.endDate;
          for (l = (l = $t(l)) < o ? o : l, c = Jt(s, e.allDay || s.eventList, l, c); l <= c; ) {
            var h = i({}, e),
              d = Zt(l),
              u = fn(l.getDay(), s.startDay, s.endDay) && this._getEventPos(e, l, d, r);
            if (u) {
              var _ = this._isTimeline && !this._hasSlots ? 'all' : d;
              (h.date = +$t(l, !0)),
                (h.cssClass = u.cssClass),
                (h.start = u.start),
                (h.end = u.end),
                (h.position = u.position),
                (a[t + '__' + (this._isTimeline ? n + '__' : '') + _] = h);
            }
            l = pn(l, 1);
          }
          return a;
        }),
        (t.prototype._getGridTime = function (e, t, n, s, a) {
          var i,
            r,
            o =
              ((i = this._isTimeline
                ? se((this._time * (t - s * this._colWidth)) / this._colWidth)
                : se((this._time * (n - 8)) / (this._colHeight - 16))),
              se(i / (r = a * Pt)) * r),
            l = new Date(+Yt + this._startTime + o);
          return hn(this.s, e.getFullYear(), e.getMonth(), e.getDate(), l.getHours(), l.getMinutes());
        }),
        (t.prototype._scrollToTime = function (e) {
          var t = this._scrollCont,
            n = this._gridCont,
            s = this._isTimeline;
          if (t) {
            var a = this.s,
              i = hn(a, a.selected);
            i.setHours(a.eventList ? 0 : i.getHours(), 0);
            var r = Ca(i, this._startTime, this._time * (s ? this._daysNr : 1)),
              o = (100 * tn(this._firstDay, i, a.startDay, a.endDay)) / this._daysNr,
              l = ((s ? n.offsetWidth : n.scrollWidth) * (o + (s ? r : 0))) / 100,
              c = void 0;
            if (!s)
              (c = (t.querySelector('.mbsc-schedule-column-inner').offsetHeight * r) / 100),
                this._groupByResource && !this._isSingleResource && (l = U);
            Ke(t, l, c, e, a.rtl);
          }
        }),
        t
      );
    })(tt),
    wa = {},
    Sa = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._onClick = function (e) {
            t._triggerClick('onClick', e);
            var n = t.s,
              s = wa[n.event.uid];
            s && n.selected && s.next({ hasFocus: !1 });
          }),
          (t._onRightClick = function (e) {
            t._triggerClick('onRightClick', e);
          }),
          (t._onDocTouch = function (e) {
            Pe(t._doc, ft, t._onDocTouch),
              Pe(t._doc, ht, t._onDocTouch),
              (t._isDrag = !1),
              t._hook('onDragModeOff', { event: t.s.event.original });
          }),
          (t._updateState = function (e) {
            t.setState(e);
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._render = function (e, t) {
          var n = e.event,
            s = new Date(n.date),
            a = n.position,
            r = n.startDate,
            o = Jt(e, n.allDay, r, n.endDate),
            l = e.isTimeline,
            c = e.isListing,
            h = c || n.allDay,
            d = !sn(r, o),
            u = d && sn(r, s),
            _ = d && sn(o, s),
            m = h && (!l || c),
            v = l ? 'timeline' : 'schedule',
            p = e.gridStartTime,
            f = e.gridEndTime,
            g = Kt(r),
            y = Kt(o),
            b = l && e.slot !== ga,
            D = e.singleDay ? pn(s, 1) : new Date(e.lastDay),
            C = fn(o.getDay(), e.startDay, e.endDay);
          (this._isStart = b || !d || u),
            (this._isEnd = b || !d || (h || l ? o < D && C : _)),
            b || h || !(p > g || f < g) || (this._isStart = !1),
            b || h || !(f < y || p > y) || (this._isEnd = !1),
            (this._html = this._content = U),
            (this._isDrag = this._isDrag || e.isDrag),
            (this._rangeText = n.start + ' - ' + n.end),
            (this._isAllDay = m),
            (this._host = v),
            (n.allDay || (!l && d && !u && !_)) && (this._rangeText = n.allDayText),
            (this._cssClass =
              'mbsc-schedule-event' +
              this._theme +
              this._rtl +
              (l ? ' mbsc-timeline-event' : '') +
              (c ? ' mbsc-timeline-event-listing' : '') +
              (this._isStart ? ' mbsc-' + v + '-event-start' : '') +
              (this._isEnd ? ' mbsc-' + v + '-event-end' : '') +
              (m ? ' mbsc-schedule-event-all-day' : '') +
              (b ? ' mbsc-timeline-event-slot' : '') +
              ((t.hasFocus && !e.inactive && !e.selected) || e.selected
                ? ' mbsc-schedule-event-active'
                : '') +
              (!t.hasHover || e.inactive || this._isDrag ? '' : ' mbsc-schedule-event-hover') +
              (e.isDrag ? ' mbsc-schedule-event-dragging' + (l ? ' mbsc-timeline-event-dragging' : '') : '') +
              (e.hidden ? ' mbsc-schedule-event-hidden' : '') +
              (e.inactive ? ' mbsc-schedule-event-inactive' : '') +
              (!1 === n.original.editable ? ' mbsc-readonly-event' : '')),
            (this._style = i({}, a, {
              color: n.color,
              top: e.eventHeight && a.top !== U ? a.top * e.eventHeight + 'px' : a.top,
            }));
          var x = e.render || e.renderContent;
          if (x) {
            var k = x(n);
            q(k) ? ((this._html = this._safeHtml(k)), (this._shouldEnhance = !0)) : (this._content = k);
          } else e.contentTemplate || (this._html = n.html);
        }),
        (t.prototype._mounted = function () {
          var e,
            t,
            n = this,
            s = this.s.event.uid,
            a = wa[s];
          a || ((a = new d()), (wa[s] = a)),
            (this._unsubscribe = a.subscribe(this._updateState)),
            (this._doc = Re(this._el)),
            (this._unlisten = Nt(this._el, {
              keepFocus: !0,
              onBlur: function () {
                a.next({ hasFocus: !1 });
              },
              onDoubleClick: function (e) {
                e.domEvent.stopPropagation(), n._triggerClick('onDoubleClick', e.domEvent);
              },
              onEnd: function (s) {
                if (n._isDrag) {
                  var a = n.s,
                    r = i({}, s);
                  r.domEvent.preventDefault(),
                    (r.event = a.event),
                    (r.resource = a.resource),
                    (r.slot = a.slot),
                    a.resize && e ? ((r.resize = !0), (r.direction = e)) : a.drag && (r.drag = !0),
                    n._hook('onDragEnd', r),
                    a.isDrag || (n._isDrag = !1),
                    n._el && r.moved && n._el.blur();
                }
                clearTimeout(t), (e = U);
              },
              onFocus: function () {
                a.next({ hasFocus: !0 });
              },
              onHoverIn: function (e) {
                a.next({ hasHover: !0 }), n._triggerClick('onHoverIn', e);
              },
              onHoverOut: function (e) {
                a.next({ hasHover: !1 }), n._triggerClick('onHoverOut', e);
              },
              onKeyDown: function (e) {
                var t = n.s.event.original;
                switch (e.keyCode) {
                  case Bn:
                  case Kn:
                    n._el.click(), e.preventDefault();
                    break;
                  case 8:
                  case 46:
                    !1 !== t.editable && n._hook('onDelete', { domEvent: e, event: t, source: n._host });
                }
              },
              onMove: function (s) {
                var a = n.s,
                  r = i({}, s);
                if (((r.event = a.event), (r.resource = a.resource), (r.slot = a.slot), e))
                  (r.resize = !0), (r.direction = e);
                else {
                  if (!a.drag) return;
                  r.drag = !0;
                }
                !1 !== a.event.original.editable &&
                  ((!n._isDrag && r.isTouch) || r.domEvent.preventDefault(),
                  n._isDrag
                    ? n._hook('onDragMove', r)
                    : (Math.abs(r.deltaX) > 7 || Math.abs(r.deltaY) > 7) &&
                      (clearTimeout(t), r.isTouch || ((n._isDrag = !0), n._hook('onDragStart', r))));
              },
              onStart: function (s) {
                var a = n.s,
                  r = i({}, s),
                  o = r.domEvent.target;
                if (
                  ((r.event = a.event),
                  (r.resource = a.resource),
                  (r.slot = a.slot),
                  a.resize && o.classList.contains('mbsc-schedule-event-resize'))
                )
                  (e = o.classList.contains('mbsc-schedule-event-resize-start') ? 'start' : 'end'),
                    (r.resize = !0),
                    (r.direction = e);
                else {
                  if (!a.drag) return;
                  r.drag = !0;
                }
                !1 !== a.event.original.editable &&
                  (n._isDrag
                    ? (r.domEvent.stopPropagation(), n._hook('onDragStart', r))
                    : r.isTouch &&
                      (t = setTimeout(function () {
                        n._hook('onDragModeOn', r), n._hook('onDragStart', r), (n._isDrag = !0);
                      }, 350)));
              },
            })),
            this._isDrag && (Ye(this._doc, ft, this._onDocTouch), Ye(this._doc, ht, this._onDocTouch));
        }),
        (t.prototype._destroy = function () {
          if ((this._el && this._el.blur(), this._unsubscribe)) {
            var e = this.s.event.uid,
              t = wa[e];
            t && (t.unsubscribe(this._unsubscribe), t.nr || delete wa[e]);
          }
          this._unlisten && this._unlisten(),
            Pe(this._doc, ft, this._onDocTouch),
            Pe(this._doc, ht, this._onDocTouch);
        }),
        (t.prototype._triggerClick = function (e, t) {
          var n = this.s;
          this._hook(e, {
            date: n.event.date,
            domEvent: t,
            event: n.event.original,
            resource: n.resource,
            slot: n.slot,
            source: this._host,
          });
        }),
        t
      );
    })(tt),
    Ea = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          var t = e.event,
            n = this._isAllDay,
            s = e.isTimeline,
            a = this._theme,
            i = e.resize && !1 !== t.original.editable;
          return ys(
            'div',
            {
              tabIndex: 0,
              className: this._cssClass,
              'data-id': t.id,
              style: this._style,
              ref: this._setEl,
              title: t.tooltip,
              onClick: this._onClick,
              onContextMenu: this._onRightClick,
            },
            this._isStart &&
              i &&
              ys('div', {
                className:
                  'mbsc-schedule-event-resize mbsc-schedule-event-resize-start' +
                  (s ? ' mbsc-timeline-event-resize' : '') +
                  this._rtl +
                  (e.isDrag ? ' mbsc-schedule-event-resize-start-touch' : ''),
              }),
            this._isEnd &&
              i &&
              ys('div', {
                className:
                  'mbsc-schedule-event-resize mbsc-schedule-event-resize-end' +
                  (s ? ' mbsc-timeline-event-resize' : '') +
                  this._rtl +
                  (e.isDrag ? ' mbsc-schedule-event-resize-end-touch' : ''),
              }),
            e.render
              ? this._content
                ? this._content
                : ys('div', { style: { height: '100%' }, dangerouslySetInnerHTML: this._html })
              : ys(
                  Ds,
                  null,
                  !n && !s && ys('div', { className: 'mbsc-schedule-event-bar' + a + this._rtl }),
                  ys('div', {
                    className:
                      'mbsc-schedule-event-background' +
                      (s ? ' mbsc-timeline-event-background' : '') +
                      (n ? ' mbsc-schedule-event-all-day-background' : '') +
                      a,
                    style: { background: t.style.background },
                  }),
                  ys(
                    'div',
                    {
                      'aria-hidden': 'true',
                      className:
                        'mbsc-schedule-event-inner' +
                        a +
                        (n ? ' mbsc-schedule-event-all-day-inner' : '') +
                        (t.cssClass || ''),
                      style: { color: t.style.color },
                    },
                    ys(
                      'div',
                      {
                        className:
                          'mbsc-schedule-event-title' + (n ? ' mbsc-schedule-event-all-day-title' : '') + a,
                        dangerouslySetInnerHTML: this._html,
                      },
                      this._content,
                    ),
                    !n && ys('div', { className: 'mbsc-schedule-event-range' + a }, this._rangeText),
                  ),
                  t.ariaLabel && ys('div', { className: 'mbsc-hidden-content' }, t.ariaLabel),
                ),
          );
        }),
        t
      );
    })(Sa),
    Ma = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._onScroll = function () {
            var e = t._scrollCont;
            if (e) {
              var n = e.scrollTop,
                s = 'translateX(' + -e.scrollLeft + 'px)',
                a = t._timeCont,
                i = t._allDayCont,
                r = t._headerCont,
                o = (Ie ? Ie + 'T' : 't') + 'ransform';
              i && (i.style[o] = s),
                a && (a.style.marginTop = -n + 'px'),
                r && (r.style[o] = s),
                0 === n
                  ? t.setState({ showShadow: !1 })
                  : t.state.showShadow || t.setState({ showShadow: !0 });
            }
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._render = function (t, n) {
          e.prototype._render.call(this, t, n);
          var s = this._prevS,
            a = t.timezones,
            i = this._stepCell / Pt,
            r = se(this._startTime / Pt) % i,
            o = (se(this._endTime / Pt) % i) + 1;
          if (
            a !== s.timezones &&
            ((this._timeWidth = a ? { width: 4.25 * a.length + 'em' } : U), (this._timezones = U), a)
          ) {
            for (var l = [], c = 0, h = a; c < h.length; c++) {
              var d = h[c],
                u = void 0;
              if (q(d)) {
                var _ = hn(t, 1970, 0, 1);
                Ut(_) && _.setTimezone(d);
                var m = (_.getTimezoneOffset() / 60) * -1;
                u = { label: 'UTC' + (m > 0 ? '+' : '') + m, timezone: d };
              } else u = d;
              l.push(u);
            }
            this._timezones = l;
          }
          (this._largeDayNames = n.dayNameWidth > 99),
            (this._startCellStyle =
              r % i != 0 ? { height: (n.cellHeight || 50) * (((i - r) % i) / i) + 'px' } : U),
            (this._endCellStyle = o % i != 0 ? { height: ((n.cellHeight || 50) * (o % i)) / i + 'px' } : U);
        }),
        t
      );
    })(Ta),
    Na = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._mounted = function () {
          var e = this;
          clearInterval(this._timer),
            (this._timer = setInterval(function () {
              e._zone
                ? e._zone.runOutsideAngular(function () {
                    e.forceUpdate();
                  })
                : e.forceUpdate();
            }, 1e4));
        }),
        (t.prototype._destroy = function () {
          clearInterval(this._timer);
        }),
        (t.prototype._render = function (e) {
          var t = hn(e),
            n = e.rtl,
            s = e.displayedDays,
            a = e.displayedTime,
            i = e.startTime,
            r = se(Kt(t) / Pt) * Pt,
            o = e.timezones,
            l = { amText: e.amText, pmText: e.pmText };
          if (o && Ut(t)) {
            this._times = [];
            for (var c = 0, h = o; c < h.length; c++) {
              var d = h[c],
                u = t.clone();
              u.setTimezone(d.timezone), this._times.push(_n(e.timeFormat, u, l));
            }
          } else this._time = _n(e.timeFormat, t, l);
          this._cssClass =
            'mbsc-schedule-time-indicator mbsc-schedule-time-indicator-' +
            e.orientation +
            this._theme +
            this._rtl +
            ' ' +
            (r < i || r > i + a || !fn(t.getDay(), e.startDay, e.endDay) ? ' mbsc-hidden' : '');
          var _ = tn(e.firstDay, t, e.startDay, e.endDay);
          if ('x' === e.orientation) {
            var m = (100 * _) / s + '%',
              v = o && 4.25 * o.length + 'em';
            (this._pos = { left: o && !n ? v : U, right: o && n ? v : U, top: (100 * (r - i)) / a + '%' }),
              (this._dayPos = { left: n ? '' : m, right: n ? m : '', width: 100 / s + '%' });
          } else {
            var p = (100 * (_ * a + r - i)) / (s * a) + '%';
            this._pos = { left: n ? '' : p, right: n ? p : '' };
          }
        }),
        t
      );
    })(tt),
    La = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e) {
          var t = this,
            n = e.timezones;
          return ys(
            'div',
            { 'aria-hidden': 'true', className: this._cssClass, style: this._pos },
            ys(
              'div',
              {
                className:
                  (n ? 'mbsc-flex ' : '') +
                  'mbsc-schedule-time-indicator-time mbsc-schedule-time-indicator-time-' +
                  e.orientation +
                  this._theme +
                  this._rtl,
              },
              n
                ? n.map(function (e, n) {
                    return ys(
                      'div',
                      { key: n, className: 'mbsc-schedule-time-indicator-tz' + t._theme + t._rtl },
                      t._times[n],
                    );
                  })
                : this._time,
            ),
            e.showDayIndicator &&
              ys('div', { className: 'mbsc-schedule-time-indicator-day' + this._theme, style: this._dayPos }),
          );
        }),
        t
      );
    })(Na),
    Ha = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._onClick = function () {
            var e = t.s;
            e.selectable && e.onClick(e.timestamp);
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._render = function (e, t) {
          var n = new Date(e.timestamp);
          (this._cssClass =
            'mbsc-schedule-header-item ' +
            this._className +
            this._theme +
            this._rtl +
            this._hb +
            (e.largeNames ? ' mbsc-schedule-header-item-large' : '') +
            (e.selected ? ' mbsc-selected' : '') +
            (t.hasHover ? ' mbsc-hover' : '')),
            (this._data = { date: n, events: e.events, resource: e.resource, selected: e.selected }),
            (this._day = n.getDay());
        }),
        (t.prototype._mounted = function () {
          var e = this;
          this._unlisten = Nt(this._el, {
            onHoverIn: function () {
              e.s.selectable && e.setState({ hasHover: !0 });
            },
            onHoverOut: function () {
              e.s.selectable && e.setState({ hasHover: !1 });
            },
          });
        }),
        (t.prototype._destroy = function () {
          this._unlisten && this._unlisten();
        }),
        t
      );
    })(tt),
    Ia = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        a(t, e),
        (t.prototype._template = function (e, t) {
          var n;
          return (
            e.renderDay && (n = e.renderDay(this._data)),
            e.renderDayContent && (n = e.renderDayContent(this._data)),
            q(n) &&
              ((n = ys('div', { dangerouslySetInnerHTML: this._safeHtml(n) })), (this._shouldEnhance = !0)),
            ys(
              'div',
              { ref: this._setEl, className: this._cssClass, onClick: this._onClick },
              e.renderDay
                ? n
                : ys(
                    Ds,
                    null,
                    ys(
                      'div',
                      {
                        'aria-hidden': 'true',
                        className:
                          'mbsc-schedule-header-dayname' +
                          this._theme +
                          (e.selected ? ' mbsc-selected' : '') +
                          (e.isToday ? ' mbsc-schedule-header-dayname-curr' : ''),
                      },
                      e.dayNames[this._day],
                    ),
                    ys(
                      'div',
                      {
                        'aria-hidden': 'true',
                        className:
                          'mbsc-schedule-header-day' +
                          this._theme +
                          this._rtl +
                          (e.selected ? ' mbsc-selected' : '') +
                          (e.isToday ? ' mbsc-schedule-header-day-today' : '') +
                          (t.hasHover ? ' mbsc-hover' : ''),
                      },
                      e.day,
                    ),
                    e.label &&
                      ys(
                        'div',
                        {
                          className: 'mbsc-hidden-content',
                          'aria-pressed': e.selectable ? (e.selected ? 'true' : 'false') : U,
                          role: e.selectable ? 'button' : U,
                        },
                        e.label,
                      ),
                    e.renderDayContent && n,
                  ),
            )
          );
        }),
        t
      );
    })(Ha),
    Oa = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._setCont = function (e) {
            t._scrollCont = e;
          }),
          (t._setTimeCont = function (e) {
            t._timeCont = e;
          }),
          (t._setAllDayCont = function (e) {
            t._allDayCont = e;
          }),
          (t._setGridCont = function (e) {
            t._gridCont = e;
          }),
          (t._setHeaderCont = function (e) {
            t._headerCont = e;
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._template = function (e, t) {
          var n = this,
            s = this._colors,
            a = t.dragData,
            r = a && a.draggedEvent && a.draggedEvent.id,
            o = this._events,
            l = this._invalids,
            c = this._hb,
            h = this._rtl,
            d = this._times,
            u = this._startTime,
            _ = this._endTime,
            m = this._startCellStyle,
            v = this._endCellStyle,
            p = this._stepLabel,
            f = this._theme,
            g = this._isSingleResource,
            y = e.eventMap || {},
            b = 'schedule',
            D = ' mbsc-flex-1-0 mbsc-schedule-resource-group' + f + h,
            C = this._timezones,
            x = this._groupByResource,
            k = this._days,
            T = this._resources,
            w = {
              dayNames: this._dayNames,
              largeNames: this._largeDayNames,
              onClick: e.onWeekDayClick,
              renderDay: e.renderDay,
              renderDayContent: e.renderDayContent,
              rtl: e.rtl,
              theme: e.theme,
            },
            S = function (t) {
              var s,
                a = t.name;
              return (
                e.renderResource &&
                  q((a = e.renderResource(t))) &&
                  ((s = n._safeHtml(a)), (n._shouldEnhance = !0)),
                a &&
                  ys(
                    'div',
                    {
                      key: t.id,
                      className:
                        'mbsc-schedule-resource' +
                        f +
                        h +
                        c +
                        (!x || ('day' === e.type && 1 === e.size)
                          ? ' mbsc-flex-1-0 mbsc-schedule-col-width'
                          : ''),
                    },
                    ys('div', { dangerouslySetInnerHTML: s, className: 'mbsc-schedule-resource-title' }, a),
                  )
              );
            },
            E = function (t, s, o, l) {
              var c = o + '__' + s,
                h = {
                  displayTimezone: e.displayTimezone,
                  drag: e.dragToMove,
                  endDay: e.endDay,
                  exclusiveEndDates: e.exclusiveEndDates,
                  gridEndTime: _,
                  gridStartTime: u,
                  lastDay: +n._lastDay,
                  render: e.renderEvent,
                  renderContent: e.renderEventContent,
                  resize: e.dragToResize,
                  resource: o,
                  rtl: e.rtl,
                  singleDay: !x,
                  startDay: e.startDay,
                  theme: e.theme,
                  timezonePlugin: e.timezonePlugin,
                };
              return ys(
                Ds,
                null,
                t.map(function (t) {
                  return t.showText
                    ? ys(
                        Ea,
                        i({}, h, {
                          event: t,
                          key: t.uid,
                          inactive: r === t.id,
                          selected: e.selectedEventsMap[t.uid] || e.selectedEventsMap[t.id],
                          onClick: e.onEventClick,
                          onDoubleClick: e.onEventDoubleClick,
                          onRightClick: e.onEventRightClick,
                          onDelete: e.onEventDelete,
                          onHoverIn: e.onEventHoverIn,
                          onHoverOut: e.onEventHoverOut,
                          onDragStart: n._onEventDragStart,
                          onDragMove: n._onEventDragMove,
                          onDragEnd: n._onEventDragEnd,
                          onDragModeOn: n._onEventDragModeOn,
                          onDragModeOff: n._onEventDragModeOff,
                        }),
                      )
                    : ys(
                        'div',
                        {
                          key: t.uid,
                          className:
                            'mbsc-schedule-event mbsc-schedule-event-all-day mbsc-schedule-event-all-day-placeholder',
                        },
                        ys('div', { className: 'mbsc-schedule-event-all-day-inner' + f }),
                      );
                }),
                a &&
                  a.originDates &&
                  a.originDates[c] &&
                  !!a.originDates[c].allDay == !!l &&
                  ys(
                    Ea,
                    i({}, h, {
                      event: a.originDates[c],
                      hidden: a && !!a.draggedDates,
                      isDrag: !0,
                      onDragStart: n._onEventDragStart,
                      onDragMove: n._onEventDragMove,
                      onDragEnd: n._onEventDragEnd,
                      onDragModeOff: n._onEventDragModeOff,
                    }),
                  ),
                a &&
                  a.draggedDates &&
                  a.draggedDates[c] &&
                  !!a.draggedDates[c].allDay == !!l &&
                  ys(Ea, i({}, h, { event: a.draggedDates[c], isDrag: !0 })),
              );
            },
            M = function (e) {
              return d.map(function (t, s) {
                var a = !s,
                  i = s === d.length - 1;
                return ys(
                  'div',
                  {
                    key: s,
                    className:
                      'mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-time-wrapper' +
                      f +
                      h +
                      (i ? ' mbsc-schedule-time-wrapper-end' : '') +
                      ((a && m) || (i && v) ? ' mbsc-flex-none' : ''),
                    style: a ? m : i ? v : {},
                  },
                  ys(
                    'div',
                    { className: 'mbsc-flex-1-1 mbsc-schedule-time' + f + h },
                    a || t % p == 0 ? n._formatTime(a ? u : t, e) : '',
                  ),
                  n._timesBetween.map(function (s, a) {
                    var i = t + (a + 1) * p;
                    return (
                      i > u &&
                      i < _ &&
                      ys(
                        'div',
                        { key: a, className: 'mbsc-flex-1-1 mbsc-schedule-time' + f + h },
                        n._formatTime(i, e),
                      )
                    );
                  }),
                  i &&
                    ys(
                      'div',
                      { className: 'mbsc-schedule-time mbsc-schedule-time-end' + f + h },
                      n._formatTime(_ + 1, e),
                    ),
                );
              });
            },
            N = function (e, t, n, a) {
              var i = l[e][ga][t] && l[e][ga][t].allDay,
                r = s[e][ga][t] && s[e][ga][t].allDay,
                d = o[e][ga][t] && o[e][ga][t].allDay;
              return ys(
                'div',
                {
                  key: n + '-' + a,
                  className: 'mbsc-schedule-all-day-item mbsc-schedule-col-width mbsc-flex-1-0' + f + h + c,
                },
                E(d || [], t, e, !0),
                i &&
                  ys(
                    'div',
                    { className: 'mbsc-schedule-invalid mbsc-schedule-invalid-all-day' + f },
                    ys('div', { className: 'mbsc-schedule-invalid-text' }, i.title),
                  ),
                r &&
                  ys(
                    'div',
                    { className: 'mbsc-schedule-color mbsc-schedule-color-all-day' + f, style: r.position },
                    ys('div', { className: 'mbsc-schedule-color-text' }, r.title),
                  ),
              );
            },
            L = function (t, n, a, i) {
              var r = l[t][ga][n] && l[t][ga][n].invalids,
                u = s[t][ga][n] && s[t][ga][n].colors,
                _ = o[t][ga][n] && o[t][ga][n].events;
              return ys(
                'div',
                {
                  key: a + '-' + i,
                  className:
                    'mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-column mbsc-schedule-col-width' + f + h + c,
                },
                ys(
                  'div',
                  { className: 'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-column-inner' + f + h + c },
                  ys('div', { className: 'mbsc-schedule-events' + h }, E(_ || [], n, t)),
                  r &&
                    r.map(function (e, t) {
                      return (
                        e.position &&
                        ys(
                          'div',
                          { key: t, className: 'mbsc-schedule-invalid' + e.cssClass + f, style: e.position },
                          ys(
                            'div',
                            { className: 'mbsc-schedule-invalid-text' },
                            e.allDay ? '' : e.title || '',
                          ),
                        )
                      );
                    }),
                  u &&
                    u.map(function (e, t) {
                      return ys(
                        'div',
                        { key: t, className: 'mbsc-schedule-color' + e.cssClass + f, style: e.position },
                        ys('div', { className: 'mbsc-schedule-color-text' }, e.title),
                      );
                    }),
                  d.map(function (n, s) {
                    var a = ka(i, n),
                      r = !s,
                      o = s === d.length - 1;
                    return ys('div', {
                      key: s,
                      className:
                        'mbsc-schedule-item mbsc-flex-1-0' +
                        f +
                        c +
                        (o ? ' mbsc-schedule-item-last' : '') +
                        ((r && m) || (o && v) ? ' mbsc-flex-none' : ''),
                      onClick: function (n) {
                        return e.onCellClick({ date: a, domEvent: n, resource: t, source: b });
                      },
                      onDoubleClick: function (n) {
                        return e.onCellDoubleClick({ date: a, domEvent: n, resource: t, source: b });
                      },
                      onContextMenu: function (n) {
                        return e.onCellRightClick({ date: a, domEvent: n, resource: t, source: b });
                      },
                      style: r ? m : o ? v : {},
                    });
                  }),
                ),
              );
            };
          return ys(
            'div',
            {
              ref: this._setEl,
              className:
                'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-wrapper' +
                f +
                (this._daysNr > 7 ? ' mbsc-schedule-wrapper-multi' : ''),
            },
            ys(
              'div',
              { className: 'mbsc-schedule-header mbsc-flex mbsc-flex-none' + f + c },
              ys('div', {
                className: 'mbsc-schedule-time-col mbsc-schedule-time-col-empty' + f + h + c,
                style: this._timeWidth,
              }),
              ys(
                'div',
                { className: 'mbsc-flex-1-1 mbsc-schedule-header-wrapper' },
                ys(
                  'div',
                  { ref: this._setHeaderCont, className: 'mbsc-flex' },
                  'day' === e.type && 1 === e.size
                    ? ys(
                        'div',
                        { className: D },
                        ys(
                          'div',
                          { className: 'mbsc-flex' },
                          e.showDays &&
                            this._headerDays.map(function (e) {
                              var t = e.timestamp;
                              return ys(
                                Ia,
                                i({}, w, {
                                  key: t,
                                  cssClass: 'mbsc-flex-1-1',
                                  day: e.day,
                                  events: y[e.dateKey],
                                  isToday: n._isToday(t),
                                  label: e.label,
                                  selectable: !0,
                                  selected: n._selectedDay === t,
                                  timestamp: t,
                                }),
                              );
                            }),
                        ),
                        e.resources && ys('div', { className: 'mbsc-flex' }, T.map(S)),
                      )
                    : x
                    ? T.map(function (t, s) {
                        return ys(
                          'div',
                          { key: s, className: D },
                          S(t),
                          ys(
                            'div',
                            { className: 'mbsc-flex' },
                            e.showDays &&
                              k.map(function (e) {
                                var s = e.timestamp;
                                return ys(
                                  Ia,
                                  i({}, w, {
                                    key: s,
                                    cssClass: 'mbsc-flex-1-0 mbsc-schedule-col-width',
                                    day: e.day,
                                    events: y[e.dateKey],
                                    isToday: g && n._isToday(s),
                                    label: e.label,
                                    resource: t.id,
                                    selectable: !1,
                                    selected: g && n._isToday(s),
                                    timestamp: s,
                                  }),
                                );
                              }),
                          ),
                        );
                      })
                    : k.map(function (t, s) {
                        var a = t.timestamp;
                        return ys(
                          'div',
                          { key: s, className: D },
                          e.showDays &&
                            ys(
                              Ia,
                              i({}, w, {
                                key: a,
                                day: t.day,
                                events: y[t.dateKey],
                                isToday: g && n._isToday(a),
                                label: t.label,
                                selectable: !1,
                                selected: n._isToday(a),
                                timestamp: a,
                              }),
                            ),
                          e.resources && ys('div', { className: 'mbsc-flex' }, T.map(S)),
                        );
                      }),
                ),
              ),
              ys('div', { className: 'mbsc-schedule-fake-scroll-y' }),
            ),
            ys(
              'div',
              {
                className:
                  'mbsc-schedule-all-day-cont' +
                  (t.showShadow ? ' mbsc-schedule-all-day-wrapper-shadow' : '') +
                  f,
              },
              C &&
                ys(
                  'div',
                  { className: 'mbsc-flex mbsc-schedule-timezone-labels', style: this._timeWidth },
                  C.map(function (e, t) {
                    return ys(
                      'div',
                      { key: t, className: 'mbsc-flex-1-0-0 mbsc-schedule-timezone-label' + f + h },
                      e.label,
                    );
                  }),
                ),
              e.showAllDay &&
                ys(
                  'div',
                  { className: 'mbsc-schedule-all-day-wrapper mbsc-flex-none' + f + c },
                  ys(
                    'div',
                    { className: 'mbsc-flex mbsc-schedule-all-day' + f },
                    ys(
                      'div',
                      { className: 'mbsc-schedule-time-col' + f + h, style: this._timeWidth },
                      !C && ys('div', { className: 'mbsc-schedule-all-day-text' + f }, e.allDayText),
                    ),
                    ys(
                      'div',
                      { className: 'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-all-day-group-wrapper' },
                      ys(
                        'div',
                        { ref: this._setAllDayCont, className: 'mbsc-flex mbsc-flex-1-1' },
                        x
                          ? T.map(function (e, t) {
                              return ys(
                                'div',
                                { key: t, className: 'mbsc-flex' + D },
                                k.map(function (t, n) {
                                  return N(e.id, t.dateKey, n, t.timestamp);
                                }),
                              );
                            })
                          : k.map(function (e, t) {
                              return ys(
                                'div',
                                { key: t, className: 'mbsc-flex' + D },
                                T.map(function (t, n) {
                                  return N(t.id, e.dateKey, n, e.timestamp);
                                }),
                              );
                            }),
                      ),
                    ),
                  ),
                ),
            ),
            ys(
              'div',
              { className: 'mbsc-flex mbsc-flex-1-1 mbsc-schedule-grid-wrapper' + f },
              ys(
                'div',
                {
                  'aria-hidden': 'true',
                  className: 'mbsc-flex-col mbsc-schedule-time-col mbsc-schedule-time-cont' + f + h,
                  style: this._timeWidth,
                  ref: this._setTimeCont,
                },
                ys(
                  'div',
                  { className: 'mbsc-flex mbsc-schedule-time-cont-inner' },
                  ys(
                    'div',
                    { className: 'mbsc-flex-col mbsc-flex-1-1' },
                    ys(
                      'div',
                      {
                        className:
                          'mbsc-flex-1-1 mbsc-schedule-time-cont-pos' +
                          f +
                          (C ? ' mbsc-flex' : ' mbsc-flex-col mbsc-schedule-time-col-last'),
                      },
                      C
                        ? C.map(function (e, t) {
                            return ys(
                              'div',
                              {
                                key: t,
                                className:
                                  'mbsc-flex-col' +
                                  f +
                                  (t === C.length - 1 ? ' mbsc-schedule-time-col-last' : ''),
                              },
                              M(e.timezone),
                            );
                          })
                        : M(),
                      this._showTimeIndicator &&
                        ys(La, {
                          amText: e.amText,
                          displayedTime: this._time,
                          displayedDays: this._daysNr,
                          displayTimezone: e.displayTimezone,
                          endDay: e.endDay,
                          firstDay: this._firstDayTz,
                          orientation: 'x',
                          pmText: e.pmText,
                          rtl: e.rtl,
                          showDayIndicator: g && !this._isMulti && 'week' === e.type,
                          startDay: e.startDay,
                          startTime: u,
                          theme: e.theme,
                          timeFormat: e.timeFormat,
                          timezones: C,
                          timezonePlugin: e.timezonePlugin,
                        }),
                    ),
                    t.hasScrollX && ys('div', { className: 'mbsc-schedule-fake-scroll-x' }),
                  ),
                  ys('div', { className: 'mbsc-schedule-fake-scroll-y' }),
                ),
              ),
              ys(
                'div',
                {
                  ref: this._setCont,
                  className: 'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-grid-scroll' + f,
                  onScroll: this._onScroll,
                },
                ys(
                  'div',
                  { className: 'mbsc-flex mbsc-flex-1-1' },
                  ys(
                    'div',
                    { className: 'mbsc-flex mbsc-schedule-grid', ref: this._setGridCont },
                    x
                      ? T.map(function (e, t) {
                          return ys(
                            'div',
                            { key: t, className: 'mbsc-flex' + D },
                            k.map(function (t, n) {
                              return L(e.id, t.dateKey, n, t.timestamp);
                            }),
                          );
                        })
                      : k.map(function (e, t) {
                          return ys(
                            'div',
                            { key: t, className: 'mbsc-flex' + D },
                            T.map(function (t, n) {
                              return L(t.id, e.dateKey, n, e.timestamp);
                            }),
                          );
                        }),
                  ),
                ),
              ),
            ),
            a && !t.isTouchDrag && ys('div', { className: 'mbsc-calendar-dragging' }),
          );
        }),
        t
      );
    })(Ma),
    za = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._isTimeline = !0),
          (t._onScroll = function () {
            for (
              var e = t.s.rtl,
                n = t.state,
                s = t._gridWidth,
                a = t._scrollCont,
                i = a.scrollTop,
                r = a.scrollLeft,
                o = t._resCont,
                l = t._headerCont,
                c = t._stickyHeader,
                h = t._daysNr,
                d = e ? -1 : 1,
                u = e ? 'marginRight' : 'marginLeft',
                _ = ne((r * d * (h / t._daysBatchNr)) / s),
                m = t._virtualPagesY || [],
                v = 0,
                p = 0;
              p < m.length && m[p].top <= i;

            )
              (v = p), p++;
            if ((!o || (ze && !e) || (o.scrollTop = i), c && ze)) {
              var f = c.style;
              (f.marginTop = i < 0 ? -i + 'px' : ''), (f[u] = r * d < 0 ? -r * d + 'px' : '');
            }
            if (l && s) {
              var g = t._days,
                y = s / h,
                b = X(se((r * d) / y), 0, h - 1),
                D = function (e, t) {
                  if (e && y) {
                    e.textContent = g[b][t + 'Text'];
                    var n = e.offsetWidth,
                      s = e.style,
                      a = X(se((r * d + n) / y), 0, h - 1);
                    g[b][t + 'Index'] !== g[a][t + 'Index']
                      ? (s[u] = -(r * d + n - g[a][t + 'Index'] * y + 1) + 'px')
                      : (s[u] = '');
                  }
                };
              D(t._stickyDate, 'date'),
                D(t._stickyMonth, 'month'),
                D(t._stickyWeek, 'week'),
                ze || (l.scrollLeft = r);
            }
            !s ||
              (_ === n.batchIndexX && v === n.batchIndexY) ||
              t.setState({ batchIndexX: _, batchIndexY: v });
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._onParentClick = function (e) {
          (e.collapsed = !e.collapsed),
            (this._visibleResources = this._flattenResources(this.s.resources, [], 0)),
            (this._shouldCheckSize = !0),
            this.forceUpdate();
        }),
        (t.prototype._render = function (t, n) {
          e.prototype._render.call(this, t, n);
          var s = this._stepCell / Pt,
            a = se(this._startTime / Pt) % s,
            i = (se(this._endTime / Pt) % s) + 1;
          (this._startCellStyle =
            this._displayTime && a % s != 0
              ? { width: (n.cellWidth || 64) * (((s - a) % s) / s) + 'px' }
              : U),
            (this._endCellStyle =
              this._displayTime && i % s != 0 ? { width: ((n.cellWidth || 64) * (i % s)) / s + 'px' } : U);
        }),
        t
      );
    })(Ta),
    Ya = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._setStickyHeader = function (e) {
            t._stickyHeader = e;
          }),
          (t._setStickyDay = function (e) {
            t._stickyDate = e;
          }),
          (t._setStickyMonth = function (e) {
            t._stickyMonth = e;
          }),
          (t._setStickyWeek = function (e) {
            t._stickyWeek = e;
          }),
          (t._setCont = function (e) {
            t._scrollCont = e;
          }),
          (t._setResCont = function (e) {
            t._resCont = e;
          }),
          (t._setGridCont = function (e) {
            t._gridCont = e;
          }),
          (t._setHeaderCont = function (e) {
            t._headerCont = e;
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._template = function (e, t) {
          var n,
            s,
            a = this,
            r = t.dragData,
            o = r && r.draggedEvent && r.draggedEvent.id,
            l = this._hasSlots,
            c = this._hb,
            h = this._rtl,
            d = this._times,
            u = this._theme,
            _ = this._startTime,
            m = this._endTime,
            v = this._stepLabel,
            p = this._slots,
            f = 'timeline',
            g = e.resources,
            y = e.eventList,
            b = 'month' === e.type,
            D = this._stepCell < Ft,
            C = this._startCellStyle,
            x = this._endCellStyle,
            k = this._headerClass,
            T = this._daysBatch,
            w = function (e, t, n, s) {
              for (var i = [], r = 0, o = e[n][ga].all[t]; r < o.length; r++) {
                var l = o[r];
                jt(a._batchStart, a._batchEnd, l.startDate, l.endDate, !0) && i.push(l);
              }
              return s(i, 'all', n, ga);
            },
            S = function (e) {
              return e.map(function (e, t) {
                return ys(
                  'div',
                  {
                    key: t,
                    className: 'mbsc-schedule-color mbsc-timeline-color' + e.cssClass + u,
                    style: e.position,
                  },
                  ys('div', { className: 'mbsc-schedule-color-text' }, e.title),
                );
              });
            },
            E = function (e) {
              return e.map(function (e, t) {
                return (
                  e.position &&
                  ys(
                    'div',
                    {
                      key: t,
                      className: 'mbsc-schedule-invalid mbsc-timeline-invalid' + e.cssClass + u,
                      style: e.position,
                    },
                    ys('div', { className: 'mbsc-schedule-invalid-text' }, e.title),
                  )
                );
              });
            },
            M = function (t, n, s, l) {
              var c = s + '__' + l + '__' + n,
                h = {
                  displayTimezone: e.displayTimezone,
                  drag: e.dragToMove,
                  endDay: e.endDay,
                  eventHeight: a._setRowHeight ? a._eventHeight : U,
                  exclusiveEndDates: e.exclusiveEndDates,
                  gridEndTime: m,
                  gridStartTime: _,
                  isListing: y,
                  isTimeline: !0,
                  lastDay: +a._lastDay,
                  render: e.renderEvent,
                  renderContent: e.renderEventContent,
                  resize: e.dragToResize,
                  resource: s,
                  rtl: e.rtl,
                  slot: l,
                  startDay: e.startDay,
                  theme: e.theme,
                  timezonePlugin: e.timezonePlugin,
                };
              return ys(
                Ds,
                null,
                t.map(function (t) {
                  return ys(
                    Ea,
                    i({}, h, {
                      event: t,
                      inactive: o === t.id,
                      key: t.uid,
                      selected: e.selectedEventsMap[t.uid] || e.selectedEventsMap[t.id],
                      onClick: e.onEventClick,
                      onDoubleClick: e.onEventDoubleClick,
                      onRightClick: e.onEventRightClick,
                      onHoverIn: e.onEventHoverIn,
                      onHoverOut: e.onEventHoverOut,
                      onDelete: e.onEventDelete,
                      onDragStart: a._onEventDragStart,
                      onDragMove: a._onEventDragMove,
                      onDragEnd: a._onEventDragEnd,
                      onDragModeOn: a._onEventDragModeOn,
                      onDragModeOff: a._onEventDragModeOff,
                    }),
                  );
                }),
                r &&
                  r.originDates &&
                  r.originDates[c] &&
                  ys(
                    Ea,
                    i({}, h, {
                      event: r.originDates[c],
                      hidden: r && !!r.draggedDates,
                      isDrag: !0,
                      onDragStart: a._onEventDragStart,
                      onDragMove: a._onEventDragMove,
                      onDragEnd: a._onEventDragEnd,
                      onDragModeOff: a._onEventDragModeOff,
                    }),
                  ),
                r &&
                  r.draggedDates &&
                  r.draggedDates[c] &&
                  ys(Ea, i({}, h, { event: r.draggedDates[c], isDrag: !0 })),
              );
            };
          return ys(
            'div',
            {
              ref: this._setEl,
              className:
                'mbsc-timeline mbsc-flex-1-1 mbsc-flex-col' +
                (t.cellWidth ? '' : ' mbsc-hidden') +
                (g ? '' : ' mbsc-timeline-no-resource') +
                u +
                h,
            },
            ys(
              'div',
              { ref: this._setStickyHeader, className: 'mbsc-timeline-header-sticky mbsc-flex' },
              g &&
                ys(
                  'div',
                  { className: 'mbsc-timeline-resource-empty mbsc-timeline-resource-col' + k + u + h + c },
                  (e.renderResourceHeader &&
                    q((n = e.renderResourceHeader())) &&
                    ((s = a._safeHtml(n)), (a._shouldEnhance = !0)),
                  ys('div', { className: 'mbsc-timeline-resource-header', dangerouslySetInnerHTML: s }, n)),
                ),
              ys(
                'div',
                { className: 'mbsc-flex-1-1' },
                this._isMulti &&
                  ys(
                    'div',
                    { className: 'mbsc-timeline-header-month' + u + h + c },
                    ys('div', {
                      ref: this._setStickyMonth,
                      className: 'mbsc-timeline-header-text mbsc-timeline-header-month-text' + u,
                    }),
                  ),
                e.weekNumbers &&
                  ys(
                    'div',
                    { className: 'mbsc-timeline-header-week' + u + h + c },
                    ys('div', {
                      ref: this._setStickyWeek,
                      className: 'mbsc-timeline-header-text mbsc-timeline-header-week-text' + u,
                    }),
                  ),
                (l || D) &&
                  ys(
                    'div',
                    { className: 'mbsc-timeline-header-date' + u + h + c },
                    ys('div', {
                      ref: this._setStickyDay,
                      className: 'mbsc-timeline-header-text mbsc-timeline-header-date-text' + u,
                    }),
                  ),
              ),
              t.hasScrollY && ys('div', { className: 'mbsc-schedule-fake-scroll-y' }),
            ),
            ys(
              'div',
              {
                ref: this._setCont,
                className: 'mbsc-timeline-grid-scroll mbsc-flex-col mbsc-flex-1-1' + u + h + c,
                onScroll: this._onScroll,
              },
              !this._hasSticky && ys('div', { className: 'mbsc-flex-none' + k }),
              ys(
                'div',
                { className: 'mbsc-timeline-header mbsc-flex' + u + h + c, ref: this._setHeaderCont },
                g &&
                  ys('div', {
                    className: 'mbsc-timeline-resource-empty mbsc-timeline-resource-col' + k + u + h + c,
                  }),
                ys(
                  'div',
                  { className: 'mbsc-timeline-header-bg mbsc-flex-1-1 mbsc-flex' + u },
                  this._showTimeIndicator &&
                    ys(
                      'div',
                      {
                        className: 'mbsc-timeline-time-indicator-cont',
                        style: {
                          height: (t.scrollContHeight || 0) - (t.headerHeight || 0),
                          width: t.hasScrollX ? this._gridWidth : U,
                        },
                      },
                      ys(La, {
                        amText: e.amText,
                        displayedTime: this._time,
                        displayedDays: this._daysNr,
                        displayTimezone: e.displayTimezone,
                        endDay: e.endDay,
                        firstDay: this._firstDayTz,
                        orientation: 'y',
                        pmText: e.pmText,
                        rtl: e.rtl,
                        startDay: e.startDay,
                        startTime: _,
                        theme: e.theme,
                        timeFormat: e.timeFormat,
                        timezonePlugin: e.timezonePlugin,
                      }),
                    ),
                  ys('div', { className: 'mbsc-flex-none', style: { width: this._placeholderSizeX } }),
                  ys(
                    'div',
                    { className: t.hasScrollX ? 'mbsc-flex-none' : 'mbsc-flex-1-1' },
                    this._isMulti &&
                      ys(
                        'div',
                        { className: 'mbsc-flex' },
                        T.map(function (e) {
                          var t = e.lastOfMonth;
                          return ys(
                            'div',
                            {
                              key: e.timestamp,
                              className:
                                'mbsc-timeline-month mbsc-flex-1-0-0' +
                                u +
                                h +
                                c +
                                (t ? ' mbsc-timeline-day mbsc-timeline-day-border' : ''),
                            },
                            ys(
                              'div',
                              {
                                className:
                                  'mbsc-timeline-header-month' +
                                  u +
                                  h +
                                  c +
                                  (t ? ' mbsc-timeline-header-month-last' : ''),
                              },
                              ys(
                                'div',
                                {
                                  className:
                                    'mbsc-timeline-header-month-text' +
                                    (t ? ' mbsc-timeline-header-month-text-last' : ''),
                                },
                                e.monthTitle,
                              ),
                            ),
                          );
                        }),
                      ),
                    e.weekNumbers &&
                      ys(
                        'div',
                        { className: 'mbsc-flex' },
                        T.map(function (e) {
                          var t = e.lastOfWeek;
                          return ys(
                            'div',
                            {
                              key: e.timestamp,
                              className:
                                'mbsc-timeline-month mbsc-flex-1-0-0' +
                                u +
                                h +
                                c +
                                (t && (D || e.lastOfMonth)
                                  ? ' mbsc-timeline-day mbsc-timeline-day-border'
                                  : ''),
                            },
                            ys(
                              'div',
                              {
                                className:
                                  'mbsc-timeline-header-week' +
                                  u +
                                  h +
                                  c +
                                  (t ? ' mbsc-timeline-header-week-last' : ''),
                              },
                              ys(
                                'div',
                                {
                                  className:
                                    'mbsc-timeline-header-week-text' +
                                    (t ? ' mbsc-timeline-header-week-text-last' : ''),
                                },
                                e.weekTitle,
                              ),
                            ),
                          );
                        }),
                      ),
                    ys(
                      'div',
                      { className: 'mbsc-flex' },
                      T.map(function (t) {
                        return ys(
                          'div',
                          {
                            key: t.timestamp,
                            className:
                              'mbsc-timeline-day mbsc-flex-1-0-0' +
                              u +
                              h +
                              c +
                              ((t.dateIndex < a._daysNr - 1 && D) || t.lastOfMonth
                                ? ' mbsc-timeline-day-border'
                                : '') +
                              (b || a._isMulti ? ' mbsc-timeline-day-month' : ''),
                          },
                          ys(
                            'div',
                            { className: 'mbsc-timeline-header-date' + u + h + c },
                            ys(
                              'div',
                              { 'aria-hidden': 'true', className: 'mbsc-timeline-header-date-text' },
                              t.dateText,
                            ),
                            t.label && ys('div', { className: 'mbsc-hidden-content' }, t.label),
                          ),
                          l &&
                            ys(
                              'div',
                              { className: 'mbsc-flex mbsc-timeline-slots' + u },
                              p.map(function (n) {
                                return ys(
                                  'div',
                                  {
                                    key: n.id,
                                    className: 'mbsc-timeline-slot mbsc-timeline-slot-header' + h + u,
                                  },
                                  n.name &&
                                    (function (t) {
                                      var n,
                                        s = t.slot,
                                        i = s.name;
                                      return (
                                        e.renderSlot &&
                                          q((i = e.renderSlot(t))) &&
                                          ((n = a._safeHtml(i)), (a._shouldEnhance = !0)),
                                        ys(
                                          'div',
                                          {
                                            key: s.id,
                                            className: 'mbsc-timeline-slot-title',
                                            dangerouslySetInnerHTML: n,
                                          },
                                          i,
                                        )
                                      );
                                    })({ slot: n, date: t.date }),
                                );
                              }),
                            ),
                          ys(
                            'div',
                            { 'aria-hidden': 'true', className: 'mbsc-flex' },
                            d.map(function (e, t) {
                              var n = !t,
                                s = t === d.length - 1;
                              return ys(
                                'div',
                                {
                                  key: t,
                                  style: n && !s ? C : s && !n ? x : U,
                                  className:
                                    'mbsc-flex mbsc-flex-1-1 mbsc-timeline-header-column' +
                                    u +
                                    h +
                                    c +
                                    (!a._displayTime || l ? ' mbsc-timeline-no-height' : '') +
                                    (v > a._stepCell && d[t + 1] % v ? ' mbsc-timeline-no-border' : '') +
                                    ((n && C) || (s && x) ? ' mbsc-flex-none' : ''),
                                },
                                ys(
                                  'div',
                                  { className: 'mbsc-timeline-header-time mbsc-flex-1-1 ' + u },
                                  a._displayTime ? a._timeLabels[e] : '',
                                ),
                                a._timesBetween.map(function (t) {
                                  var n = e + (t + 1) * v;
                                  return (
                                    n > _ &&
                                    n < m &&
                                    ys(
                                      'div',
                                      { key: t, className: 'mbsc-timeline-header-time mbsc-flex-1-1 ' + u },
                                      a._timeLabels[n],
                                    )
                                  );
                                }),
                              );
                            }),
                          ),
                        );
                      }),
                    ),
                  ),
                ),
              ),
              ys(
                'div',
                { className: 'mbsc-flex mbsc-flex-1-1' },
                ys(
                  'div',
                  { className: 'mbsc-flex mbsc-flex-1-1' },
                  g &&
                    ys(
                      'div',
                      {
                        className: 'mbsc-timeline-resources mbsc-timeline-resource-col mbsc-flex-col' + u + h,
                        ref: this._setResCont,
                      },
                      !this._hasSideSticky && ys('div', { className: 'mbsc-flex-none' + k }),
                      ys(
                        'div',
                        {
                          className:
                            'mbsc-timeline-resource-bg mbsc-flex-1-1' +
                            (this._hasHierarchy || t.hasScrollY ? '' : ' mbsc-flex-col') +
                            u,
                        },
                        ys('div', { style: { height: this._placeholderSizeY }, className: 'mbsc-flex-none' }),
                        this._resourcesBatch.map(function (t) {
                          var n,
                            s = t.children,
                            i = a._hasHierarchy ? 1.75 * t.depth + 'em' : U,
                            r = {
                              minHeight: a._setRowHeight ? a._eventRows[t.id] * a._eventHeight + 10 : U,
                              paddingLeft: e.rtl ? U : i,
                              paddingRight: e.rtl ? i : U,
                            },
                            o = t.name;
                          return (
                            e.renderResource &&
                              q((o = e.renderResource(t))) &&
                              ((n = a._safeHtml(o)), (a._shouldEnhance = !0)),
                            ys(
                              'div',
                              {
                                key: t.id,
                                className:
                                  'mbsc-timeline-resource' +
                                  u +
                                  h +
                                  c +
                                  (s ? ' mbsc-timeline-parent mbsc-flex' : ''),
                                style: r,
                              },
                              s &&
                                ys(ks, {
                                  className: 'mbsc-timeline-resource-icon' + h + c,
                                  svg: t.collapsed ? (e.rtl ? e.nextIconRtl : e.nextIcon) : e.downIcon,
                                  theme: e.theme,
                                  onClick: function () {
                                    return a._onParentClick(t);
                                  },
                                }),
                              ys(
                                'div',
                                {
                                  className: 'mbsc-timeline-resource-title' + (s ? ' mbsc-flex-1-1' : ''),
                                  dangerouslySetInnerHTML: n,
                                },
                                o,
                              ),
                            )
                          );
                        }),
                      ),
                    ),
                  !this._hasSideSticky && g && ys('div', { className: 'mbsc-timeline-resource-col' }),
                  ys(
                    'div',
                    {
                      className:
                        'mbsc-timeline-grid mbsc-flex-1-1' +
                        (this._hasHierarchy || t.hasScrollY ? '' : ' mbsc-flex-col'),
                      ref: this._setGridCont,
                      style: {
                        height: t.hasScrollY ? this._gridHeight : U,
                        width: t.hasScrollX ? this._gridWidth : U,
                      },
                    },
                    ys('div', { style: { height: this._placeholderSizeY }, className: 'mbsc-flex-none' }),
                    this._resourcesBatch.map(function (n) {
                      var s = n.id;
                      return ys(
                        'div',
                        {
                          key: s,
                          className:
                            'mbsc-flex mbsc-timeline-row' +
                            u +
                            c +
                            (n.children ? ' mbsc-timeline-parent' : ''),
                          style: { minHeight: a._setRowHeight ? a._eventRows[s] * a._eventHeight + 10 : U },
                        },
                        !l &&
                          ys(
                            Ds,
                            null,
                            ys('div', { className: 'mbsc-timeline-events' }, w(a._events, 'events', s, M)),
                            w(a._invalids, 'invalids', s, E),
                            w(a._colors, 'colors', s, S),
                          ),
                        ys('div', { style: { width: a._placeholderSizeX }, className: 'mbsc-flex-none' }),
                        T.map(function (n, i) {
                          var r = n.timestamp,
                            o = n.dateKey;
                          return ys(
                            'div',
                            {
                              key: r,
                              className:
                                'mbsc-timeline-day mbsc-flex' +
                                u +
                                h +
                                c +
                                ((n.dateIndex < a._daysNr - 1 && D) || n.lastOfMonth
                                  ? ' mbsc-timeline-day-border'
                                  : '') +
                                (t.hasScrollX ? ' mbsc-flex-none' : ' mbsc-flex-1-1') +
                                (b || a._isMulti ? ' mbsc-timeline-day-month' : ''),
                            },
                            p.map(function (t, n) {
                              var i = t.id,
                                _ = a._events[s][i][o],
                                m = a._colors[s][i][o],
                                v = a._invalids[s][i][o];
                              return ys(
                                'div',
                                {
                                  key: i,
                                  className: 'mbsc-flex mbsc-flex-1-1' + (l ? ' mbsc-timeline-slot' : ''),
                                },
                                l &&
                                  ys(
                                    Ds,
                                    null,
                                    ys(
                                      'div',
                                      { className: 'mbsc-timeline-events' },
                                      M(_ ? _.events : [], o, s, i),
                                    ),
                                    v && E(v.invalids),
                                    m && S(m.colors),
                                  ),
                                d.map(function (t, n) {
                                  var a = ka(r, t),
                                    o = !n,
                                    l = n === d.length - 1;
                                  return ys('div', {
                                    key: n,
                                    className:
                                      'mbsc-timeline-column mbsc-flex-1-1' +
                                      u +
                                      h +
                                      c +
                                      ((o && C) || (l && x) ? ' mbsc-flex-none' : ''),
                                    onClick: function (t) {
                                      return e.onCellClick({
                                        date: a,
                                        domEvent: t,
                                        resource: s,
                                        slot: i,
                                        source: f,
                                      });
                                    },
                                    onDoubleClick: function (t) {
                                      return e.onCellDoubleClick({
                                        date: a,
                                        domEvent: t,
                                        resource: s,
                                        slot: i,
                                        source: f,
                                      });
                                    },
                                    onContextMenu: function (t) {
                                      return e.onCellRightClick({
                                        date: a,
                                        domEvent: t,
                                        resource: s,
                                        slot: i,
                                        source: f,
                                      });
                                    },
                                    style: o && !l ? C : l && !o ? x : U,
                                  });
                                }),
                              );
                            }),
                          );
                        }),
                      );
                    }),
                  ),
                ),
              ),
            ),
            r && !t.isTouchDrag && ys('div', { className: 'mbsc-calendar-dragging' }),
          );
        }),
        t
      );
    })(za),
    Pa = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (
          (t._instanceService = new da()),
          (t._setList = function (e) {
            t._list = e;
          }),
          (t._setPopoverList = function (e) {
            t._popoverList = e && e._el;
          }),
          (t._setEl = function (e) {
            (t._el = e ? e._el || e : null), (t._calendarView = e);
          }),
          t
        );
      }
      return (
        a(t, e),
        (t.prototype._eventRenderer = function (e, t, n, s, a) {
          var i,
            r = this,
            o = !this._colorEventList,
            l = a ? 'popover' : 'agenda',
            c = !a || this.state.showPopover,
            h = this._theme,
            d = s.renderEventContent
              ? s.renderEventContent(e)
              : ys('div', {
                  className: 'mbsc-event-text ' + h,
                  title: e.tooltip,
                  dangerouslySetInnerHTML: e.html,
                });
          q(d)
            ? ((d = ys('div', {
                className: 'mbsc-event-content' + h,
                dangerouslySetInnerHTML: { __html: d },
              })),
              (this._shouldEnhance = c && l))
            : (d = ys('div', { className: 'mbsc-event-content' + h }, d));
          var u = s.renderEvent
            ? s.renderEvent(e)
            : ys(
                Ds,
                null,
                ys('div', { className: 'mbsc-event-color' + h + this._rtl, style: e.style }),
                d,
                ys(
                  'div',
                  { className: 'mbsc-event-time' + h + this._rtl },
                  e.allDayText && ys('div', { className: 'mbsc-event-all-day' + h }, e.allDayText),
                  e.lastDay && ys('div', { className: 'mbsc-event-until' + h }, e.lastDay),
                  e.start && ys('div', { className: 'mbsc-event-start' + h }, e.start),
                  e.start && e.end && ys('div', { className: 'mbsc-event-sep' + h }, '-'),
                  e.end && ys('div', { className: 'mbsc-event-end' + h }, e.end),
                ),
              );
          return (
            q(u) && ((i = { __html: u }), (u = U), (this._shouldEnhance = c && l)),
            ys(
              va,
              {
                className: 'mbsc-event' + (o ? '' : ' mbsc-colored-event'),
                key: t,
                actionable: s.actionableEvents,
                dangerouslySetInnerHTML: i,
                data: e.original,
                drag: a && this._showEventLabels && s.dragToMove,
                rtl: s.rtl,
                selected: this._selectedEventsMap[e.uid] || this._selectedEventsMap[e.id],
                style: o ? U : e.style,
                theme: s.theme,
                themeVariant: s.themeVariant,
                onClick: function (t) {
                  return r._onEventClick({ date: n, domEvent: t.domEvent, event: e.original, source: l });
                },
                onDoubleClick: function (t) {
                  return r._onEventDoubleClick({ date: n, domEvent: t, event: e.original, source: l });
                },
                onContextMenu: function (t) {
                  return r._onEventRightClick({ date: n, domEvent: t, event: e.original, source: l });
                },
                onHoverIn: function (t) {
                  var s = t.domEvent;
                  return r._onEventHoverIn({ date: n, domEvent: s, event: e.original, source: l });
                },
                onHoverOut: function (t) {
                  var s = t.domEvent;
                  return r._onEventHoverOut({ date: n, domEvent: s, event: e.original, source: l });
                },
                onDelete: this._onEventDelete,
                onDragEnd: this._onLabelUpdateEnd,
                onDragModeOff: this._onLabelUpdateModeOff,
                onDragModeOn: this._onLabelUpdateModeOn,
                onDragMove: this._onLabelUpdateMove,
                onDragStart: this._onLabelUpdateStart,
              },
              u,
            )
          );
        }),
        (t.prototype._listRenderer = function () {
          var e = this,
            t = this.s,
            n = t.theme,
            s = this._listDays,
            a = this.state.eventList;
          return t.renderAgenda
            ? this._eventListHTML === U
              ? t.renderAgenda(a, t, s)
              : void 0
            : ys(
                fa,
                { theme: n, themeVariant: t.themeVariant, rtl: t.rtl },
                !a.length && ys('div', { className: 'mbsc-event-list-empty' + this._theme }, t.noEventsText),
                a.map(function (a, i) {
                  return ys(
                    'div',
                    {
                      className: 'mbsc-event-group' + e._theme,
                      key: i,
                      ref: function (e) {
                        return (s[a.timestamp] = e);
                      },
                    },
                    ('day' !== e._eventListType || e._eventListSize > 1) &&
                      ys(_a, { theme: n, themeVariant: t.themeVariant, className: 'mbsc-event-day' }, a.date),
                    a.events.map(function (n, s) {
                      return e._eventRenderer(n, s, a.timestamp, t);
                    }),
                  );
                }),
              );
        }),
        (t.prototype._template = function (e, t) {
          var n,
            s = this;
          this._listDays || (this._listDays = {}),
            this._showEventList &&
              q((n = this._listRenderer())) &&
              ((this._eventListHTML = { __html: n }),
              (this._shouldLoadDays = !0),
              (this._shouldEnhance = !0),
              (n = U));
          var a = {
              amText: e.amText,
              clickToCreate: e.clickToCreate,
              dataTimezone: e.dataTimezone,
              dateFormat: e.dateFormat,
              dayNames: e.dayNames,
              dayNamesMin: e.dayNamesMin,
              dayNamesShort: e.dayNamesShort,
              displayTimezone: e.displayTimezone,
              dragToCreate: e.dragToCreate,
              dragToMove: e.dragToMove,
              dragToResize: e.dragToResize,
              eventOrder: e.eventOrder,
              exclusiveEndDates: e.exclusiveEndDates,
              firstDay: e.firstDay,
              fromText: e.fromText,
              getDate: e.getDate,
              getDay: e.getDay,
              getMonth: e.getMonth,
              getYear: e.getYear,
              monthNames: e.monthNames,
              monthNamesShort: e.monthNamesShort,
              pmText: e.pmText,
              refDate: this._refDate,
              rtl: e.rtl,
              selectedEventsMap: this._selectedEventsMap,
              showEventTooltip: e.showEventTooltip,
              theme: e.theme,
              themeVariant: e.themeVariant,
              timeFormat: e.timeFormat,
              timezonePlugin: e.timezonePlugin,
              toText: e.toText,
            },
            r = i({}, a, {
              allDayText: e.allDayText,
              colorsMap: this._colorsMap,
              dateFormatLong: e.dateFormatLong,
              dragTimeStep: e.dragTimeStep,
              eventDragEnd: this._onEventDragStop,
              eventMap: this._eventMap,
              extendDefaultEvent: e.extendDefaultEvent,
              externalDrop: e.externalDrop,
              groupBy: e.groupBy,
              height: t.height,
              invalidateEvent: e.invalidateEvent,
              invalidsMap: this._invalidsMap,
              maxDate: this._maxDate,
              minDate: this._minDate,
              newEventText: e.newEventText,
              onCellClick: this._onCellClick,
              onCellDoubleClick: this._onCellDoubleClick,
              onCellRightClick: this._onCellRightClick,
              onEventClick: this._onEventClick,
              onEventDelete: this._onEventDelete,
              onEventDoubleClick: this._onEventDoubleClick,
              onEventDragEnd: this._onEventDragEnd,
              onEventDragStart: this._onEventDragStart,
              onEventHoverIn: this._onEventHoverIn,
              onEventHoverOut: this._onEventHoverOut,
              onEventRightClick: this._onEventRightClick,
              renderEvent: e.renderScheduleEvent,
              renderEventContent: e.renderScheduleEventContent,
              renderResource: e.renderResource,
              resources: e.resources,
              scroll: this._shouldScrollSchedule,
              selected: this._selectedDateTime,
              width: t.width,
            });
          return ys(
            ha,
            i({ ref: this._setEl }, a, {
              activeDate: this._active,
              calendarScroll: this._calendarScroll,
              calendarType: this._calendarType,
              colors: e.colors,
              context: e.context,
              cssClass: this._cssClass,
              downIcon: e.downIcon,
              dragData: t.labelDragData,
              endDay: this._rangeEndDay,
              eventRange: this._rangeType,
              eventRangeSize: this._showSchedule
                ? this._scheduleSize
                : this._showTimeline
                ? this._timelineSize
                : this._eventListSize,
              hasContent: this._showEventList || this._showSchedule || this._showTimeline,
              hasPicker: !0,
              height: e.height,
              invalid: e.invalid,
              instanceService: this._instanceService,
              labels: e.labels,
              labelList: this._calendarLabelList,
              marked: e.marked,
              max: e.max,
              min: e.min,
              mouseSwipe:
                (!e.dragToCreate && 'single' !== e.clickToCreate) ||
                (!this._showEventLabels && !this._showEventCount),
              mousewheel: e.mousewheel,
              nextIconH: e.nextIconH,
              nextIconV: e.nextIconV,
              nextPageText: e.nextPageText,
              noOuterChange: !this._showEventList,
              onActiveChange: this._onActiveChange,
              onCellHoverIn: this._onCellHoverIn,
              onCellHoverOut: this._onCellHoverOut,
              onDayClick: this._onDayClick,
              onDayDoubleClick: this._onDayDoubleClick,
              onDayRightClick: this._onDayRightClick,
              onGestureStart: this._onGestureStart,
              onLabelClick: this._onLabelClick,
              onLabelDoubleClick: this._onLabelDoubleClick,
              onLabelRightClick: this._onLabelRightClick,
              onLabelHoverIn: this._onLabelHoverIn,
              onLabelHoverOut: this._onLabelHoverOut,
              onLabelDelete: this._onEventDelete,
              onLabelUpdateStart: this._onLabelUpdateStart,
              onLabelUpdateMove: this._onLabelUpdateMove,
              onLabelUpdateEnd: this._onLabelUpdateEnd,
              onLabelUpdateModeOn: this._onLabelUpdateModeOn,
              onLabelUpdateModeOff: this._onLabelUpdateModeOff,
              onPageChange: this._onPageChange,
              onPageLoaded: this._onPageLoaded,
              onPageLoading: this._onPageLoading,
              onResize: this._onResize,
              pageLoad: this._pageLoad,
              prevIconH: e.prevIconH,
              prevIconV: e.prevIconV,
              prevPageText: e.prevPageText,
              resourcesMap: this._resourcesMap,
              responsiveStyle: !0,
              renderHeader: e.renderHeader,
              renderDay: e.renderDay,
              renderDayContent: e.renderDayContent,
              renderLabel: e.renderLabel,
              renderLabelContent: e.renderLabelContent,
              selectedDates: this._selectedDates,
              selectView: bn,
              showCalendar: this._showCalendar,
              showControls: e.showControls,
              showLabelCount: this._showEventCount,
              showOuterDays: this._showOuterDays,
              showSchedule: this._showSchedule || this._showTimeline,
              showToday: e.showToday,
              showWeekNumbers: this._showWeekNumbers,
              size: this._calendarSize,
              startDay: this._rangeStartDay,
              swipe: !t.isTouchDrag,
              upIcon: e.upIcon,
              valid: e.valid,
              weeks: this._calendarSize,
              width: e.width,
              getMaxDayOfMonth: e.getMaxDayOfMonth,
              getWeekNumber: e.getWeekNumber,
              eventText: e.eventText,
              eventsText: e.eventsText,
              fromText: e.fromText,
              moreEventsPluralText: e.moreEventsPluralText,
              moreEventsText: e.moreEventsText,
              todayText: e.todayText,
              toText: e.toText,
              weekText: e.weekText,
              yearSuffix: e.yearSuffix,
            }),
            this._showDate &&
              ys(
                'div',
                { className: 'mbsc-schedule-date-header mbsc-flex' + this._theme + this._hb },
                this._showSchedule &&
                  !this._showCalendar &&
                  e.resources &&
                  ys('div', { className: 'mbsc-schedule-time-col' }),
                ys(
                  'div',
                  { className: 'mbsc-schedule-date-header-text mbsc-flex-1-1' + this._theme },
                  this._selectedDateHeader,
                ),
                this._showSchedule &&
                  !this._showCalendar &&
                  e.resources &&
                  ys('div', { className: 'mbsc-schedule-fake-scroll-y' }),
              ),
            this._showEventList &&
              ys(
                'div',
                {
                  className: 'mbsc-event-list' + (t.isListScrollable ? ' mbsc-event-list-scroll' : ''),
                  dangerouslySetInnerHTML: this._eventListHTML,
                  onScroll: this._onScroll,
                  ref: this._setList,
                },
                n,
              ),
            this._showSchedule &&
              ys(
                Oa,
                i({}, r, {
                  endDay: this._scheduleEndDay,
                  endTime: this._scheduleEndTime,
                  renderDay: e.renderDay,
                  renderDayContent: e.renderDayContent,
                  showAllDay: this._showScheduleAllDay,
                  showDays: this._showScheduleDays,
                  size: this._scheduleSize,
                  startDay: this._scheduleStartDay,
                  startTime: this._scheduleStartTime,
                  timeCellStep: this._scheduleTimeCellStep,
                  timeLabelStep: this._scheduleTimeLabelStep,
                  timezones: this._scheduleTimezones,
                  type: this._scheduleType,
                  onWeekDayClick: this._onWeekDayClick,
                }),
              ),
            this._showTimeline &&
              ys(
                Ya,
                i({}, r, {
                  dragToCreate: !e.slots && e.dragToCreate,
                  dragToResize: !e.slots && e.dragToResize,
                  downIcon: e.chevronIconDown,
                  endDay: this._timelineEndDay,
                  endTime: this._timelineEndTime,
                  eventList: this._timelineListing,
                  getWeekNumber: e.getWeekNumber,
                  nextIcon: e.nextIconH,
                  nextIconRtl: e.prevIconH,
                  renderResourceHeader: e.renderResourceHeader,
                  renderSlot: e.renderSlot,
                  rowHeight: this._timelineRowHeight,
                  weekNumbers: this._showTimelineWeekNumbers,
                  weekText: e.weekText,
                  size: this._timelineSize,
                  slots: e.slots,
                  startDay: this._timelineStartDay,
                  startTime: this._timelineStartTime,
                  timeCellStep: this._timelineTimeCellStep,
                  timeLabelStep: this._timelineTimeLabelStep,
                  type: this._timelineType,
                }),
              ),
            ys(
              Js,
              {
                anchor: this._anchor,
                closeOnScroll: !0,
                contentPadding: !1,
                context: e.context,
                cssClass: 'mbsc-calendar-popup ' + this._popoverClass,
                display: 'anchored',
                isOpen: t.showPopover,
                locale: e.locale,
                maxHeight: '24em',
                onClose: this._onPopoverClose,
                rtl: e.rtl,
                scrollLock: !1,
                showOverlay: !1,
                theme: e.theme,
                themeVariant: e.themeVariant,
              },
              t.popoverList &&
                ys(
                  fa,
                  {
                    ref: this._setPopoverList,
                    theme: e.theme,
                    themeVariant: e.themeVariant,
                    rtl: e.rtl,
                    className: 'mbsc-popover-list',
                  },
                  t.popoverList.map(function (n, a) {
                    return s._eventRenderer(n, a, t.popoverDate, e, !0);
                  }),
                ),
            ),
            t.labelDragData &&
              t.labelDragData.draggedEvent &&
              !t.isTouchDrag &&
              ys('div', { className: 'mbsc-calendar-dragging' }),
          );
        }),
        t
      );
    })(fs);
  (e.CalendarContext = Ss),
    (e.CalendarNav = Ys),
    (e.CalendarNext = Os),
    (e.CalendarPrev = Is),
    (e.CalendarToday = zs),
    (e.Draggable = zt),
    (e.DraggableBase = Ot),
    (e.Eventcalendar = Pa),
    (e.EventcalendarBase = fs),
    (e.LDate = us),
    (e.MDate = vs),
    (e.OptionsProvider = pe),
    (e.autoDetect = k),
    (e.createCustomTheme = S),
    (e.formatDate = un),
    (e.getAutoTheme = w),
    (e.getJson = ls),
    (e.globalChanges = T),
    (e.hijriCalendar = F),
    (e.jalaliCalendar = ue),
    (e.locale = me),
    (e.localeEn = _e),
    (e.localeEs = z),
    (e.localeUa = Y),
    (e.luxonTimezone = _s),
    (e.momentTimezone = ps),
    (e.options = D),
    (e.parseDate = mn),
    (e.platform = E),
    (e.setOptions = function (e) {
      for (var t in e) e.hasOwnProperty(t) && (D[t] = e[t]);
      T.next(D);
    }),
    (e.subscribeExternalDrag = Ht),
    (e.themes = x),
    (e.unsubscribeExternalDrag = It),
    (e.updateRecurringEvent = function (e, t, n, s, a) {
      var r = i({}, e),
        o = null,
        l = t && t.start,
        c = n && n.start,
        h = n && n.end,
        d = Fn(e.recurring);
      switch (a) {
        case 'following':
          var u = void 0;
          if (
            (s
              ? (s.recurring && (u = Fn(s.recurring)), delete (o = s).id)
              : c && l && ((u = Un(d, c, l)), (o = i({}, n))),
            (d.until = $t(dn(l))),
            d.count)
          ) {
            var _ = (t && t.nr) || 0;
            u && (u.count = d.count - _), (d.count = _);
          }
          c && u && (u.from = c), o && u && (o.recurring = u), (r.recurring = d);
          break;
        case 'all':
          if (s) r = s;
          else if (n && c && h && l) {
            var m = e.start,
              v = e.end,
              p = e.allDay && !n.allDay;
            ln(m) || (!m && p) ? (r.start = un('HH:mm', dn(c))) : m && (r.start = c),
              ln(v) || (!v && p) ? (r.end = un('HH:mm', dn(h))) : v && (r.end = h),
              (r.recurring = Un(d, c, l));
          }
          break;
        default:
          var f = e.recurringException,
            g = B(f) ? f.slice() : f ? [f] : [];
          l && g.push(l), (r.recurringException = g), (o = s || n);
      }
      return { updatedEvent: r, newEvent: o };
    }),
    (e.util = C),
    Object.defineProperty(e, '__esModule', { value: !0 });
});
